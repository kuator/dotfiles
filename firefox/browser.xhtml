<?xml version="1.0"?>

<!-- The "global.css" stylesheet is imported first to allow other stylesheets to
     override rules using selectors with the same specificity. This applies to
     both "content" and "skin" packages, which bug 1385444 will unify later. -->
<?xml-stylesheet href="chrome://global/skin/" type="text/css"?>

<!-- While these stylesheets are defined in Toolkit, they are only used in the
     main browser window, so we can load them here. Bug 1474241 is on file to
     consider moving these widgets to the "browser" folder. -->
<?xml-stylesheet href="chrome://global/content/tabprompts.css" type="text/css"?>
<?xml-stylesheet href="chrome://global/skin/tabprompts.css" type="text/css"?>

<?xml-stylesheet href="chrome://browser/content/browser.css" type="text/css"?>
<?xml-stylesheet href="chrome://browser/content/tabbrowser.css" type="text/css"?>
<?xml-stylesheet href="chrome://browser/content/downloads/downloads.css" type="text/css"?>
<?xml-stylesheet href="chrome://browser/content/places/places.css" type="text/css"?>
<?xml-stylesheet href="chrome://browser/content/usercontext/usercontext.css" type="text/css"?>
<?xml-stylesheet href="chrome://browser/skin/" type="text/css"?>
<?xml-stylesheet href="chrome://browser/skin/controlcenter/panel.css" type="text/css"?>
<?xml-stylesheet href="chrome://browser/skin/customizableui/panelUI.css" type="text/css"?>
<?xml-stylesheet href="chrome://browser/skin/downloads/downloads.css" type="text/css"?>
<?xml-stylesheet href="chrome://browser/skin/searchbar.css" type="text/css"?>
<?xml-stylesheet href="chrome://browser/skin/places/tree-icons.css" type="text/css"?>
<?xml-stylesheet href="chrome://browser/skin/places/editBookmark.css" type="text/css"?>

<!DOCTYPE window [
<!ENTITY % brandDTD SYSTEM "chrome://branding/locale/brand.dtd" >
%brandDTD;
<!ENTITY % browserDTD SYSTEM "chrome://browser/locale/browser.dtd" >
%browserDTD;
<!ENTITY % baseMenuDTD SYSTEM "chrome://browser/locale/baseMenuOverlay.dtd" >
%baseMenuDTD;
<!ENTITY % charsetDTD SYSTEM "chrome://global/locale/charsetMenu.dtd" >
%charsetDTD;
<!ENTITY % textcontextDTD SYSTEM "chrome://global/locale/textcontext.dtd" >
%textcontextDTD;
<!ENTITY % downloadsDTD SYSTEM "chrome://browser/locale/downloads/downloads.dtd">
%downloadsDTD;
<!ENTITY % placesDTD SYSTEM "chrome://browser/locale/places/places.dtd">
%placesDTD;
<!ENTITY % syncBrandDTD SYSTEM "chrome://browser/locale/syncBrand.dtd">
%syncBrandDTD;
<!ENTITY % brandingsDTD SYSTEM "chrome://browser/locale/brandings.dtd">
%brandingsDTD;
<!ENTITY % editBookmarkOverlayDTD SYSTEM "chrome://browser/locale/places/editBookmarkOverlay.dtd">
%editBookmarkOverlayDTD;
]>

<html id="main-window"
        xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
        xmlns:svg="http://www.w3.org/2000/svg"
        xmlns:html="http://www.w3.org/1999/xhtml"
        xmlns:xul="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
        xmlns="http://www.w3.org/1999/xhtml"
        title_normal="&mainWindow.title;"
        title_privatebrowsing="&mainWindow.titlemodifier; &mainWindow.titlePrivateBrowsingSuffix;"
        titlemodifier="&mainWindow.titlemodifier;"
        titlemodifier_normal="&mainWindow.titlemodifier;"
        titlemodifier_privatebrowsing="&mainWindow.titlemodifier; &mainWindow.titlePrivateBrowsingSuffix;"
        chromemargin="0,-1,-1,-1"
        tabsintitlebar="true"
        titlemenuseparator="&mainWindow.titlemodifiermenuseparator;"
        windowtype="navigator:browser"
        macanimationtype="document"
        screenX="4" screenY="4"
        fullscreenbutton="true"
        sizemode="normal"
        retargetdocumentfocus="urlbar-input"
        scrolling="false"
        persist="screenX screenY width height sizemode"
        data-l10n-sync="true">
<head>
  <link rel="localization" href="branding/brand.ftl"/>
  <link rel="localization" href="browser/branding/sync-brand.ftl"/>
  <link rel="localization" href="browser/browser.ftl"/>
  <link rel="localization" href="browser/menubar.ftl"/>
  <link rel="localization" href="browser/protectionsPanel.ftl"/>
  <link rel="localization" href="browser/appmenu.ftl"/>

  <title>&mainWindow.title;</title>




<script type="text/javascript">
var {Services} = ChromeUtils.import("resource://gre/modules/Services.jsm");

Services.scriptloader.loadSubScript("chrome://browser/content/browser.js", this);
Services.scriptloader.loadSubScript("chrome://browser/content/browser-places.js", this);
Services.scriptloader.loadSubScript("chrome://global/content/globalOverlay.js", this);
Services.scriptloader.loadSubScript("chrome://global/content/editMenuOverlay.js", this);
Services.scriptloader.loadSubScript("chrome://browser/content/utilityOverlay.js", this);
if (AppConstants.platform == "macosx") {
  Services.scriptloader.loadSubScript("chrome://global/content/macWindowMenu.js", this);
}

</script>

<script>
  /* eslint-env mozilla/browser-window */
  Services.scriptloader.loadSubScript("chrome://global/content/contentAreaUtils.js", this);
  Services.scriptloader.loadSubScript("chrome://browser/content/browser-captivePortal.js", this);
  if (AppConstants.MOZ_DATA_REPORTING) {
    Services.scriptloader.loadSubScript("chrome://browser/content/browser-data-submission-info-bar.js", this);
  }
  if (!AppConstants.MOZILLA_OFFICIAL) {
    Services.scriptloader.loadSubScript("chrome://browser/content/browser-development-helpers.js", this);
  }
  Services.scriptloader.loadSubScript("chrome://browser/content/browser-media.js", this);
  Services.scriptloader.loadSubScript("chrome://browser/content/browser-pageActions.js", this);
  Services.scriptloader.loadSubScript("chrome://browser/content/browser-sidebar.js", this);
  Services.scriptloader.loadSubScript("chrome://browser/content/browser-tabsintitlebar.js", this);
  Services.scriptloader.loadSubScript("chrome://browser/content/tabbrowser.js", this);
  Services.scriptloader.loadSubScript("chrome://browser/content/tabbrowser-tab.js", this);
  Services.scriptloader.loadSubScript("chrome://browser/content/tabbrowser-tabs.js", this);
  Services.scriptloader.loadSubScript("chrome://browser/content/places/places-menupopup.js", this);
  Services.scriptloader.loadSubScript("chrome://browser/content/search/autocomplete-popup.js", this);
  Services.scriptloader.loadSubScript("chrome://browser/content/search/searchbar.js", this);

  window.onload = gBrowserInit.onLoad.bind(gBrowserInit);
  window.onunload = gBrowserInit.onUnload.bind(gBrowserInit);
  window.onclose = WindowIsClosing;

  window.addEventListener("MozBeforeInitialXULLayout",
    gBrowserInit.onBeforeInitialXULLayout.bind(gBrowserInit), { once: true });

  // The listener of DOMContentLoaded must be set on window, rather than
  // document, because the window can go away before the event is fired.
  // In that case, we don't want to initialize anything, otherwise we
  // may be leaking things because they will never be destroyed after.
  window.addEventListener("DOMContentLoaded",
    gBrowserInit.onDOMContentLoaded.bind(gBrowserInit), { once: true });
</script>
</head>
<html:body xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">


  <stringbundleset id="stringbundleset"
                   string-bookmarkthispage="&bookmarkThisPageCmd.label;"
                   string-editthisbookmark="&editThisBookmarkCmd.label;">
    <stringbundle id="bundle_brand" src="chrome://branding/locale/brand.properties"/>
    <stringbundle id="bundle_shell" src="chrome://browser/locale/shellservice.properties"/>
  </stringbundleset>

  <commandset id="mainCommandSet">
    <command id="cmd_newNavigator" oncommand="OpenBrowserWindow()"/>
    <command id="cmd_handleBackspace" oncommand="BrowserHandleBackspace();" />
    <command id="cmd_handleShiftBackspace" oncommand="BrowserHandleShiftBackspace();" />

    <command id="cmd_newNavigatorTab" oncommand="BrowserOpenTab(event);"/>
    <command id="cmd_newNavigatorTabNoEvent" oncommand="BrowserOpenTab();"/>
    <command id="Browser:OpenFile"  oncommand="BrowserOpenFileWindow();"/>
    <command id="Browser:SavePage" oncommand="saveBrowser(gBrowser.selectedBrowser);"/>

    <command id="Browser:SendLink"
             oncommand="MailIntegration.sendLinkForBrowser(gBrowser.selectedBrowser);"/>

    <command id="cmd_pageSetup" oncommand="PrintUtils.showPageSetup();"/>
    <command id="cmd_print" oncommand="PrintUtils.printWindow(window.gBrowser.selectedBrowser.outerWindowID, window.gBrowser.selectedBrowser);"/>
    <command id="cmd_printPreview" oncommand="PrintUtils.printPreview(PrintPreviewListener);"/>
    <command id="cmd_importFromAnotherBrowser" oncommand="MigrationUtils.showMigrationWizard(window, [MigrationUtils.MIGRATION_ENTRYPOINT_FILE_MENU]);"/>
    <command id="cmd_close" oncommand="BrowserCloseTabOrWindow(event);"/>
    <command id="cmd_closeWindow" oncommand="BrowserTryToCloseWindow()"/>
    <command id="cmd_toggleMute" oncommand="gBrowser.toggleMuteAudioOnMultiSelectedTabs(gBrowser.selectedTab)"/>
    <command id="cmd_CustomizeToolbars" oncommand="gCustomizeMode.enter()"/>
    <command id="cmd_toggleOfflineStatus" oncommand="BrowserOffline.toggleOfflineStatus();"/>
    <command id="cmd_quitApplication" oncommand="goQuitApplication()"/>

    <command id="View:PageSource" oncommand="BrowserViewSource(window.gBrowser.selectedBrowser);"/>
    <command id="View:PageInfo" oncommand="BrowserPageInfo();"/>
    <command id="View:FullScreen" oncommand="BrowserFullScreen();"/>
    <command id="View:ReaderView" oncommand="ReaderParent.toggleReaderMode(event);"/>
    <command id="View:PictureInPicture" oncommand="PictureInPicture.onCommand(event);"/>
    <command id="cmd_find" oncommand="gLazyFindCommand('onFindCommand')"/>
    <command id="cmd_findAgain" oncommand="gLazyFindCommand('onFindAgainCommand', false)"/>
    <command id="cmd_findPrevious" oncommand="gLazyFindCommand('onFindAgainCommand', true)"/>
    <!-- work-around bug 392512 -->
    <command id="Browser:AddBookmarkAs"
             oncommand="PlacesCommandHook.bookmarkPage();"/>
    <command id="Browser:BookmarkAllTabs"
             oncommand="PlacesCommandHook.bookmarkPages(PlacesCommandHook.uniqueCurrentPages);"/>
    <command id="Browser:Back"    oncommand="BrowserBack();" disabled="true"/>
    <command id="Browser:BackOrBackDuplicate" oncommand="BrowserBack(event);" disabled="true">
      <observes element="Browser:Back" attribute="disabled"/>
    </command>
    <command id="Browser:Forward" oncommand="BrowserForward();" disabled="true"/>
    <command id="Browser:ForwardOrForwardDuplicate" oncommand="BrowserForward(event);" disabled="true">
      <observes element="Browser:Forward" attribute="disabled"/>
    </command>
    <command id="Browser:Stop"    oncommand="BrowserStop();" disabled="true"/>
    <command id="Browser:Reload"  oncommand="if (event.shiftKey) BrowserReloadSkipCache(); else BrowserReload()" disabled="true"/>
    <command id="Browser:ReloadOrDuplicate" oncommand="BrowserReloadOrDuplicate(event)" disabled="true">
      <observes element="Browser:Reload" attribute="disabled"/>
    </command>
    <command id="Browser:ReloadSkipCache" oncommand="BrowserReloadSkipCache()" disabled="true">
      <observes element="Browser:Reload" attribute="disabled"/>
    </command>
    <command id="Browser:NextTab" oncommand="gBrowser.tabContainer.advanceSelectedTab(1, true);"/>
    <command id="Browser:PrevTab" oncommand="gBrowser.tabContainer.advanceSelectedTab(-1, true);"/>
    <command id="Browser:ShowAllTabs" oncommand="gTabsPanel.showAllTabsPanel();"/>
    <command id="cmd_fullZoomReduce"  oncommand="FullZoom.reduce()"/>
    <command id="cmd_fullZoomEnlarge" oncommand="FullZoom.enlarge()"/>
    <command id="cmd_fullZoomReset"   oncommand="FullZoom.reset()"/>
    <command id="cmd_fullZoomToggle"  oncommand="ZoomManager.toggleZoom();"/>
    <command id="cmd_gestureRotateLeft" oncommand="gGestureSupport.rotate(event.sourceEvent)"/>
    <command id="cmd_gestureRotateRight" oncommand="gGestureSupport.rotate(event.sourceEvent)"/>
    <command id="cmd_gestureRotateEnd" oncommand="gGestureSupport.rotateEnd()"/>
    <command id="Browser:OpenLocation" oncommand="openLocation(event);"/>
    <command id="Browser:RestoreLastSession" oncommand="SessionStore.restoreLastSession();" disabled="true"/>
    <command id="Browser:NewUserContextTab" oncommand="openNewUserContextTab(event.sourceEvent);"/>
    <command id="Browser:OpenAboutContainers" oncommand="openPreferences('paneContainers');"/>
    <command id="Tools:Search" oncommand="BrowserSearch.webSearch();"/>
    <command id="Tools:Downloads" oncommand="BrowserDownloadsUI();"/>
    <command id="Tools:Addons" oncommand="BrowserOpenAddonsMgr();"/>
    <command id="Tools:Sanitize" oncommand="Sanitizer.showUI(window);"/>
    <command id="Tools:PrivateBrowsing"
      oncommand="OpenBrowserWindow({private: true});"/>
    <command id="History:UndoCloseTab" oncommand="undoCloseTab();"/>
    <command id="History:UndoCloseWindow" oncommand="undoCloseWindow();"/>

  </commandset>


<commandset id="placesCommands"
            commandupdater="true"
            events="focus,sort,places"
            oncommandupdate="PlacesUIUtils.updateCommands(window);">
  <command id="Browser:ShowAllBookmarks"
           oncommand="PlacesCommandHook.showPlacesOrganizer('UnfiledBookmarks');"/>
  <command id="Browser:ShowAllHistory"
           oncommand="PlacesCommandHook.showPlacesOrganizer('History');"/>

  <command id="placesCmd_open"
           oncommand="PlacesUIUtils.doCommand(window, 'placesCmd_open');"/>
  <command id="placesCmd_open:window"
           oncommand="PlacesUIUtils.doCommand(window, 'placesCmd_open:window');"/>
  <command id="placesCmd_open:privatewindow"
           oncommand="PlacesUIUtils.doCommand(window, 'placesCmd_open:privatewindow');"/>
  <command id="placesCmd_open:tab"
           oncommand="PlacesUIUtils.doCommand(window, 'placesCmd_open:tab');"/>

  <command id="placesCmd_new:bookmark"
           oncommand="PlacesUIUtils.doCommand(window, 'placesCmd_new:bookmark');"/>
  <command id="placesCmd_new:folder"
           oncommand="PlacesUIUtils.doCommand(window, 'placesCmd_new:folder');"/>
  <command id="placesCmd_new:separator"
           oncommand="PlacesUIUtils.doCommand(window, 'placesCmd_new:separator');"/>
  <command id="placesCmd_show:info"
           oncommand="PlacesUIUtils.doCommand(window, 'placesCmd_show:info');"/>
  <command id="placesCmd_rename"
           oncommand="PlacesUIUtils.doCommand(window, 'placesCmd_show:info');"
           observes="placesCmd_show:info"/>
  <command id="placesCmd_sortBy:name"
           oncommand="PlacesUIUtils.doCommand(window, 'placesCmd_sortBy:name');"/>
  <command id="placesCmd_deleteDataHost"
           oncommand="PlacesUIUtils.doCommand(window, 'placesCmd_deleteDataHost');"/>
  <command id="placesCmd_createBookmark"
           oncommand="PlacesUIUtils.doCommand(window, 'placesCmd_createBookmark');"/>

  <!-- Special versions of cut/copy/paste/delete which check for an open context menu. -->
  <command id="placesCmd_cut"
           oncommand="PlacesUIUtils.doCommand(window, 'placesCmd_cut');"/>
  <command id="placesCmd_copy"
           oncommand="PlacesUIUtils.doCommand(window, 'placesCmd_copy');"/>
  <command id="placesCmd_paste"
           oncommand="PlacesUIUtils.doCommand(window, 'placesCmd_paste');"/>
  <command id="placesCmd_delete"
           oncommand="PlacesUIUtils.doCommand(window, 'placesCmd_delete');"/>
</commandset>

  <keyset id="mainKeyset">
    <key id="key_newNavigator"
         key="&newNavigatorCmd.key;"
         command="cmd_newNavigator"
         modifiers="accel" reserved="true"/>
    <key id="key_newNavigatorTab" key="&tabCmd.commandkey;" modifiers="accel"
         command="cmd_newNavigatorTabNoEvent" reserved="true"/>
    <key id="focusURLBar" key="&openCmd.commandkey;" command="Browser:OpenLocation"
         modifiers="accel"/>
    <key id="focusURLBar2" key="&urlbar.accesskey;" command="Browser:OpenLocation"
         modifiers="alt"/>

    <key id="key_search" key="&searchFocus.commandkey;" command="Tools:Search" modifiers="accel"/>
    <key id="key_search2" key="&searchFocusUnix.commandkey;" command="Tools:Search" modifiers="accel"/>
    <key id="key_openDownloads" key="&downloadsUnix.commandkey;" command="Tools:Downloads" modifiers="accel,shift"/>
    <key id="key_openAddons" key="&addons.commandkey;" command="Tools:Addons" modifiers="accel,shift"/>
    <key id="openFileKb" key="&openFileCmd.commandkey;" command="Browser:OpenFile"  modifiers="accel"/>
    <key id="key_savePage" key="&savePageCmd.commandkey;" command="Browser:SavePage" modifiers="accel"/>
    <key id="printKb" key="&printCmd.commandkey;" command="cmd_print"  modifiers="accel"/>
    <key id="key_close" key="&closeCmd.key;" command="cmd_close" modifiers="accel" reserved="true"/>
    <key id="key_closeWindow" key="&closeCmd.key;" command="cmd_closeWindow" modifiers="accel,shift" reserved="true"/>
    <key id="key_toggleMute" key="&toggleMuteCmd.key;" command="cmd_toggleMute" modifiers="control"/>
    <key id="key_undo"
         key="&undoCmd.key;"
         modifiers="accel"/>
    <key id="key_redo" key="&undoCmd.key;" modifiers="accel,shift"/>
    <key id="key_cut"
         key="&cutCmd.key;"
         modifiers="accel"/>
    <key id="key_copy"
         key="&copyCmd.key;"
         modifiers="accel"/>
    <key id="key_paste"
         key="&pasteCmd.key;"
         modifiers="accel"/>
    <key id="key_delete" keycode="VK_DELETE" command="cmd_delete"/>
    <key id="key_selectAll" key="&selectAllCmd.key;" modifiers="accel"/>

    <key keycode="VK_BACK" command="cmd_handleBackspace" reserved="false"/>
    <key keycode="VK_BACK" command="cmd_handleShiftBackspace" modifiers="shift" reserved="false"/>
    <key id="goBackKb"  key="a" command="Browser:Back" modifiers="alt" reserved="true"/>
    <key id="goForwardKb"  key="s" command="Browser:Forward" modifiers="alt" reserved="true"/>
    <key id="goNextTab"  key="e" command="Browser:NextTab" modifiers="accel"/>
    <key id="goPrevTab"  key="d" command="Browser:PrevTab" modifiers="accel"/>
    <key id="goBackKb2" key="&goBackCmd.commandKey;" command="Browser:Back" modifiers="accel"/>
    <key id="goForwardKb2" key="&goForwardCmd.commandKey;" command="Browser:Forward" modifiers="accel"/>
    <key id="goHome" keycode="VK_HOME" oncommand="BrowserHome();" modifiers="alt"/>
    <key keycode="VK_F5" command="Browser:Reload"/>
    <key id="showAllHistoryKb" key="&showAllHistoryCmd.commandkey;" command="Browser:ShowAllHistory" modifiers="accel,shift"/>
    <key keycode="VK_F5" command="Browser:ReloadSkipCache" modifiers="accel"/>
    <key id="key_fullScreen" keycode="VK_F11" command="View:FullScreen"/>
    <key id="key_toggleReaderMode" key="&toggleReaderMode.key;" command="View:ReaderView" modifiers="accel,alt" disabled="true"/>

    <key id="key_togglePictureInPicture" key="&togglePictureInPicture.key;" command="View:PictureInPicture" modifiers="accel,shift"/>
    <key                                 key="&togglePictureInPicture.key2;" command="View:PictureInPicture" modifiers="accel,shift"/>

    <key key="&reloadCmd.commandkey;" command="Browser:Reload" modifiers="accel" id="key_reload"/>
    <key key="&reloadCmd.commandkey;" command="Browser:ReloadSkipCache" modifiers="accel,shift" id="key_reload_skip_cache"/>
    <key id="key_viewSource" key="&pageSourceCmd.commandkey;" command="View:PageSource" modifiers="accel"/>
    <key id="key_viewInfo"   key="&pageInfoCmd.commandkey;"   command="View:PageInfo"   modifiers="accel"/>
    <key id="key_find" key="&findOnCmd.commandkey;" command="cmd_find" modifiers="accel"/>
    <key id="key_findAgain" key="&findAgainCmd.commandkey;" command="cmd_findAgain" modifiers="accel"/>
    <key id="key_findPrevious" key="&findAgainCmd.commandkey;" command="cmd_findPrevious" modifiers="accel,shift"/>
    <key keycode="&findAgainCmd.commandkey2;" command="cmd_findAgain"/>
    <key keycode="&findAgainCmd.commandkey2;"  command="cmd_findPrevious" modifiers="shift"/>

    <key id="addBookmarkAsKb" key="&bookmarkThisPageCmd.commandkey;" command="Browser:AddBookmarkAs" modifiers="accel"/>
    <key id="bookmarkAllTabsKb" key="&bookmarkThisPageCmd.commandkey;" oncommand="PlacesCommandHook.bookmarkPages(PlacesCommandHook.uniqueCurrentPages);" modifiers="accel,shift"/>
    <key id="manBookmarkKb" key="&bookmarksGtkCmd.commandkey;" command="Browser:ShowAllBookmarks" modifiers="accel,shift"/>
    <key id="viewBookmarksSidebarKb" key="&bookmarksCmd.commandkey;" oncommand="SidebarUI.toggle('viewBookmarksSidebar');" modifiers="accel"/>

    <key id="key_stop" keycode="VK_ESCAPE" command="Browser:Stop"/>


    <key id="key_gotoHistory"
         key="&historySidebarCmd.commandKey;"
         modifiers="accel"
         oncommand="SidebarUI.toggle('viewHistorySidebar');"/>

    <key id="key_fullZoomReduce"  key="&fullZoomReduceCmd.commandkey;"   command="cmd_fullZoomReduce"  modifiers="accel"/>
    <key                          key="&fullZoomReduceCmd.commandkey2;"  command="cmd_fullZoomReduce"  modifiers="accel"/>
    <key id="key_fullZoomEnlarge" key="&fullZoomEnlargeCmd.commandkey;"  command="cmd_fullZoomEnlarge" modifiers="accel"/>
    <key                          key="&fullZoomEnlargeCmd.commandkey2;" command="cmd_fullZoomEnlarge" modifiers="accel"/>
    <key                          key="&fullZoomEnlargeCmd.commandkey3;" command="cmd_fullZoomEnlarge" modifiers="accel"/>
    <key id="key_fullZoomReset"   key="&fullZoomResetCmd.commandkey;"    command="cmd_fullZoomReset"   modifiers="accel"/>
    <key                          key="&fullZoomResetCmd.commandkey2;"   command="cmd_fullZoomReset"   modifiers="accel"/>

    <key id="key_showAllTabs" keycode="VK_TAB" modifiers="control,shift"/>

    <key id="key_switchTextDirection" key="&bidiSwitchTextDirectionItem.commandkey;" command="cmd_switchTextDirection" modifiers="accel,shift" />

    <key id="key_privatebrowsing" command="Tools:PrivateBrowsing" key="&privateBrowsingCmd.commandkey;"
         modifiers="accel,shift" reserved="true"/>
    <key id="key_sanitize" command="Tools:Sanitize" keycode="VK_DELETE" modifiers="accel,shift"/>
    <key id="key_quitApplication" key="&quitApplicationCmd.key;"
         modifiers="accel"
         command="cmd_quitApplication"
         reserved="true"/>

    <key id="key_undoCloseTab" command="History:UndoCloseTab" key="&tabCmd.commandkey;" modifiers="accel,shift"/>
    <key id="key_undoCloseWindow" command="History:UndoCloseWindow" key="&newNavigatorCmd.key;" modifiers="accel,shift"/>


<key id="key_selectTab1" oncommand="gBrowser.selectTabAtIndex(0, event);" key="1" modifiers="alt"/>
<key id="key_selectTab2" oncommand="gBrowser.selectTabAtIndex(1, event);" key="2" modifiers="alt"/>
<key id="key_selectTab3" oncommand="gBrowser.selectTabAtIndex(2, event);" key="3" modifiers="alt"/>
<key id="key_selectTab4" oncommand="gBrowser.selectTabAtIndex(3, event);" key="4" modifiers="alt"/>
<key id="key_selectTab5" oncommand="gBrowser.selectTabAtIndex(4, event);" key="5" modifiers="alt"/>
<key id="key_selectTab6" oncommand="gBrowser.selectTabAtIndex(5, event);" key="6" modifiers="alt"/>
<key id="key_selectTab7" oncommand="gBrowser.selectTabAtIndex(6, event);" key="7" modifiers="alt"/>
<key id="key_selectTab8" oncommand="gBrowser.selectTabAtIndex(7, event);" key="8" modifiers="alt"/>
<key id="key_selectLastTab" oncommand="gBrowser.selectTabAtIndex(-1, event);" key="9" modifiers="alt"/>

  </keyset>
  <popupset id="mainPopupSet">
    <menupopup id="tabContextMenu"
               onpopupshowing="if (event.target == this) TabContextMenu.updateContextMenu(this);"
               onpopuphidden="if (event.target == this) TabContextMenu.contextTab = null;">
      <menuitem id="context_reloadTab" data-lazy-l10n-id="reload-tab"
                oncommand="gBrowser.reloadTab(TabContextMenu.contextTab);"/>
      <menuitem id="context_reloadSelectedTabs" data-lazy-l10n-id="reload-tabs" hidden="true"
                oncommand="gBrowser.reloadMultiSelectedTabs();"/>
      <menuitem id="context_toggleMuteTab" oncommand="TabContextMenu.contextTab.toggleMuteAudio();"/>
      <menuitem id="context_toggleMuteSelectedTabs" hidden="true"
                oncommand="gBrowser.toggleMuteAudioOnMultiSelectedTabs(TabContextMenu.contextTab);"/>
      <menuitem id="context_pinTab" data-lazy-l10n-id="pin-tab"
                oncommand="gBrowser.pinTab(TabContextMenu.contextTab);"/>
      <menuitem id="context_unpinTab" data-lazy-l10n-id="unpin-tab" hidden="true"
                oncommand="gBrowser.unpinTab(TabContextMenu.contextTab);"/>
      <menuitem id="context_pinSelectedTabs" data-lazy-l10n-id="pin-selected-tabs" hidden="true"
                oncommand="gBrowser.pinMultiSelectedTabs();"/>
      <menuitem id="context_unpinSelectedTabs" data-lazy-l10n-id="unpin-selected-tabs" hidden="true"
                oncommand="gBrowser.unpinMultiSelectedTabs();"/>
      <menuitem id="context_duplicateTab" data-lazy-l10n-id="duplicate-tab"
                oncommand="duplicateTabIn(TabContextMenu.contextTab, 'tab');"/>
      <menuitem id="context_duplicateTabs" data-lazy-l10n-id="duplicate-tabs"
                oncommand="TabContextMenu.duplicateSelectedTabs();"/>
      <menuseparator/>
      <menuitem id="context_selectAllTabs" data-lazy-l10n-id="select-all-tabs"
                oncommand="gBrowser.selectAllTabs();"/>
      <menuitem id="context_bookmarkSelectedTabs"
                hidden="true"
                data-lazy-l10n-id="bookmark-selected-tabs"
                oncommand="PlacesCommandHook.bookmarkPages(PlacesCommandHook.uniqueSelectedPages);"/>
      <menuitem id="context_bookmarkTab"
                data-lazy-l10n-id="bookmark-tab"
                oncommand="PlacesCommandHook.bookmarkPages(PlacesCommandHook.getUniquePages([TabContextMenu.contextTab]));"/>
      <menu id="context_reopenInContainer"
            data-lazy-l10n-id="reopen-in-container"
            hidden="true">
        <menupopup oncommand="TabContextMenu.reopenInContainer(event);"
                   onpopupshowing="TabContextMenu.createReopenInContainerMenu(event);"/>
      </menu>
      <menu id="context_moveTabOptions">
        <menupopup id="moveTabOptionsMenu">
          <menuitem id="context_moveToStart"
                    data-lazy-l10n-id="move-to-start"
                    tbattr="tabbrowser-multiple"
                    oncommand="gBrowser.moveTabsToStart(TabContextMenu.contextTab);"/>
          <menuitem id="context_moveToEnd"
                    data-lazy-l10n-id="move-to-end"
                    tbattr="tabbrowser-multiple"
                    oncommand="gBrowser.moveTabsToEnd(TabContextMenu.contextTab);"/>
          <menuitem id="context_openTabInWindow" data-lazy-l10n-id="move-to-new-window"
                    tbattr="tabbrowser-multiple"
                    oncommand="gBrowser.replaceTabsWithWindow(TabContextMenu.contextTab);"/>
        </menupopup>
      </menu>
      <menu id="context_sendTabToDevice"
            class="sync-ui-item">
        <menupopup id="context_sendTabToDevicePopupMenu"
                   onpopupshowing="gSync.populateSendTabToDevicesMenu(event.target, TabContextMenu.contextTab.linkedBrowser.currentURI.spec, TabContextMenu.contextTab.linkedBrowser.contentTitle, TabContextMenu.contextTab.multiselected);"/>
      </menu>
      <menuseparator/>
      <menuitem id="context_closeTabsToTheEnd" data-lazy-l10n-id="close-tabs-to-the-end"
                oncommand="gBrowser.removeTabsToTheEndFrom(TabContextMenu.contextTab, {animate: true});"/>
      <menuitem id="context_closeOtherTabs" data-lazy-l10n-id="close-other-tabs"
                oncommand="gBrowser.removeAllTabsBut(TabContextMenu.contextTab);"/>
      <menuitem id="context_undoCloseTab"
                data-lazy-l10n-id="undo-close-tab"
                observes="History:UndoCloseTab"/>
      <menuitem id="context_closeTab" data-lazy-l10n-id="close-tab"
                oncommand="gBrowser.removeTab(TabContextMenu.contextTab, { animate: true });"/>
      <menuitem id="context_closeSelectedTabs" data-lazy-l10n-id="close-tabs"
                hidden="true"
                oncommand="gBrowser.removeMultiSelectedTabs();"/>
    </menupopup>

    <!-- bug 415444/582485: event.stopPropagation is here for the cloned version
         of this menupopup -->
    <menupopup id="backForwardMenu"
               onpopupshowing="return FillHistoryMenu(event.target);"
               oncommand="gotoHistoryIndex(event); event.stopPropagation();"
               onclick="checkForMiddleClick(this, event);"/>
    <tooltip id="aHTMLTooltip" page="true"/>
    <tooltip id="remoteBrowserTooltip"/>

    <!-- for search and content formfill/pw manager -->

    <panel is="autocomplete-richlistbox-popup"
           type="autocomplete-richlistbox"
           id="PopupAutoComplete"
           role="group"
           noautofocus="true"
           hidden="true"
           overflowpadding="4"
           norolluponanchor="true"
           nomaxresults="true" />

    <!-- for search with one-off buttons -->
    <panel is="search-autocomplete-richlistbox-popup"
           type="autocomplete-richlistbox"
           id="PopupSearchAutoComplete"
           role="group"
           noautofocus="true"
           hidden="true" />

    <!-- for date/time picker. consumeoutsideclicks is set to never, so that
         clicks on the anchored input box are never consumed. -->
    <panel id="DateTimePickerPanel"
           type="arrow"
           hidden="true"
           orient="vertical"
           noautofocus="true"
           norolluponanchor="true"
           consumeoutsideclicks="never"
           level="parent"
           tabspecific="true">
    </panel>

    <!-- for select dropdowns. The menupopup is what shows the list of options,
         and the popuponly menulist makes things like the menuactive attributes
         work correctly on the menupopup. ContentSelectDropdown expects the
         popuponly menulist to be its immediate parent. -->
    <menulist popuponly="true" id="ContentSelectDropdown" hidden="true">
      <menupopup rolluponmousewheel="true"
                 activateontab="true" position="after_start"
                 level="parent"
        />
    </menulist>

    <!-- for invalid form error message -->
    <panel id="invalid-form-popup" type="arrow" orient="vertical" noautofocus="true" hidden="true" level="parent">
      <description/>
    </panel>

    <panel id="editBookmarkPanel"
           class="panel-no-padding"
           type="arrow"
           orient="vertical"
           ignorekeys="true"
           hidden="true"
           tabspecific="true"
           aria-labelledby="editBookmarkPanelTitle">
      <box class="panel-header">
        <label id="editBookmarkPanelTitle"/>
        <toolbarbutton tabindex="0" id="editBookmarkPanelInfoButton" class="panel-info-button" oncommand="StarUI.toggleRecommendation();" >
          <image/>
        </toolbarbutton>
      </box>
      <html:div id="editBookmarkPanelInfoArea">
        <html:div id="editBookmarkPanelRecommendation"></html:div>
        <html:div id="editBookmarkPanelFaviconContainer">
          <html:img id="editBookmarkPanelFavicon"/>
        </html:div>
        <html:div id="editBookmarkPanelImage"></html:div>
      </html:div>

<vbox id="editBookmarkPanelContent" flex="1">
  <hbox id="editBMPanel_selectionCount" pack="center">
    <label id="editBMPanel_itemsCountText"/>
  </hbox>

  <vbox id="editBookmarkPanelRows">
    <vbox id="editBMPanel_nameRow"
          collapsed="true">
      <label value="&editBookmarkOverlay.name.label;"
             accesskey="&editBookmarkOverlay.name.accesskey;"
             control="editBMPanel_namePicker"/>
      <html:input id="editBMPanel_namePicker"
                  onchange="gEditItemOverlay.onNamePickerChange().catch(Cu.reportError);"/>
    </vbox>

    <vbox id="editBMPanel_locationRow"
          collapsed="true">
      <label value="&editBookmarkOverlay.location.label;"
             accesskey="&editBookmarkOverlay.location.accesskey;"
             control="editBMPanel_locationField"/>
      <html:input id="editBMPanel_locationField"
                  class="uri-element"
                  onchange="gEditItemOverlay.onLocationFieldChange();"/>
    </vbox>

    <vbox id="editBMPanel_folderRow"
          collapsed="true">
      <label value="&editBookmarkOverlay.folder.label;"
             control="editBMPanel_folderMenuList"/>
      <hbox flex="1" align="center">
        <menulist id="editBMPanel_folderMenuList"
                  class="folder-icon panel-button"
                  flex="1"
                  oncommand="gEditItemOverlay.onFolderMenuListCommand(event).catch(Cu.reportError);">
          <menupopup>
            <!-- Static item for special folders -->
            <menuitem id="editBMPanel_toolbarFolderItem"
                      class="menuitem-iconic folder-icon"/>
            <menuitem id="editBMPanel_bmRootItem"
                      class="menuitem-iconic folder-icon"/>
            <menuitem id="editBMPanel_unfiledRootItem"
                      class="menuitem-iconic folder-icon"/>
            <menuseparator id="editBMPanel_chooseFolderSeparator"/>
            <menuitem id="editBMPanel_chooseFolderMenuItem"
                      label="&editBookmarkOverlay.choose.label;"
                      class="menuitem-iconic folder-icon"/>
            <menuseparator id="editBMPanel_foldersSeparator" hidden="true"/>
          </menupopup>
        </menulist>
        <button id="editBMPanel_foldersExpander"
                class="expander-down panel-button"
                tooltiptext="&editBookmarkOverlay.foldersExpanderDown.tooltip;"
                tooltiptextdown="&editBookmarkOverlay.foldersExpanderDown.tooltip;"
                tooltiptextup="&editBookmarkOverlay.expanderUp.tooltip;"
                oncommand="gEditItemOverlay.toggleFolderTreeVisibility();"/>
      </hbox>
    </vbox>

    <vbox id="editBMPanel_folderTreeRow"
          collapsed="true">
      <!-- editBMPanel_folderTree will go here when this is shown -->
      <hbox id="editBMPanel_newFolderBox">
        <button label="&editBookmarkOverlay.newFolderButton.label;"
                id="editBMPanel_newFolderButton"
                accesskey="&editBookmarkOverlay.newFolderButton.accesskey;"
                oncommand="gEditItemOverlay.newFolder().catch(Cu.reportError);"/>
      </hbox>
    </vbox>

    <vbox id="editBMPanel_tagsRow"
          collapsed="true">
      <label value="&editBookmarkOverlay.tags.label;"
             accesskey="&editBookmarkOverlay.tags.accesskey;"
             control="editBMPanel_tagsField"/>
      <hbox flex="1" align="center" role="combobox">
        <html:input id="editBMPanel_tagsField"
                 is="autocomplete-input"
                 style="-moz-box-flex: 1;"
                 autocompletesearch="places-tag-autocomplete"
                 autocompletepopup="editBMPanel_tagsAutocomplete"
                 completedefaultindex="true"
                 completeselectedindex="true"
                 tabscrolling="true"
                 placeholder="&editBookmarkOverlay.tagsEmptyDesc.label;"
                 onchange="gEditItemOverlay.onTagsFieldChange();"/>
        <button id="editBMPanel_tagsSelectorExpander"
                class="expander-down panel-button"
                tooltiptext="&editBookmarkOverlay.tagsExpanderDown.tooltip;"
                tooltiptextdown="&editBookmarkOverlay.tagsExpanderDown.tooltip;"
                tooltiptextup="&editBookmarkOverlay.expanderUp.tooltip;"
                oncommand="gEditItemOverlay.toggleTagsSelector().catch(Cu.reportError);"/>
        <popupset>
          <panel is="autocomplete-richlistbox-popup"
                 type="autocomplete-richlistbox"
                 id="editBMPanel_tagsAutocomplete"
                 role="group"
                 noautofocus="true"
                 hidden="true"
                 overflowpadding="4"
                 norolluponanchor="true"
                 nomaxresults="true"/>
        </popupset>
      </hbox>
    </vbox>

    <vbox id="editBMPanel_tagsSelectorRow"
          collapsed="true">
      <richlistbox id="editBMPanel_tagsSelector"
                   styled="true"
                   height="150"/>
    </vbox>

    <vbox id="editBMPanel_keywordRow"
          collapsed="true">
      <label value="&editBookmarkOverlay.keyword.label;"
             accesskey="&editBookmarkOverlay.keyword.accesskey;"
             control="editBMPanel_keywordField"/>
      <html:input id="editBMPanel_keywordField"
                  onchange="gEditItemOverlay.onKeywordFieldChange();"/>
    </vbox>
  </vbox>
</vbox>
      <vbox id="editBookmarkPanelBottomContent"
            flex="1">
        <checkbox id="editBookmarkPanel_showForNewBookmarks"
                  data-l10n-id="bookmark-panel-show-editor-checkbox"
                  oncommand="StarUI.onShowForNewBookmarksCheckboxCommand();"/>
      </vbox>
      <hbox id="editBookmarkPanelBottomButtons"
            class="panel-footer"
            data-l10n-id="bookmark-panel"
            data-l10n-attrs="style">
        <button id="editBookmarkPanelRemoveButton"
                class="editBookmarkPanelBottomButton"
                oncommand="StarUI.removeBookmarkButtonCommand();"/>
        <button id="editBookmarkPanelDoneButton"
                class="editBookmarkPanelBottomButton"
                data-l10n-id="bookmark-panel-done-button"
                default="true"
                oncommand="StarUI.panel.hidePopup();"/>
      </hbox>
    </panel>

    <!-- UI tour experience -->
    <panel id="UITourTooltip"
           type="arrow"
           hidden="true"
           noautofocus="true"
           noautohide="true"
           align="start"
           orient="vertical"
           role="alert">
     <vbox>
      <hbox id="UITourTooltipBody">
        <image id="UITourTooltipIcon"/>
        <vbox flex="1">
          <hbox id="UITourTooltipTitleContainer">
            <label id="UITourTooltipTitle" flex="1"/>
            <toolbarbutton id="UITourTooltipClose" class="close-icon"
                           tooltiptext="&uiTour.infoPanel.close;"/>
          </hbox>
          <description id="UITourTooltipDescription" flex="1"/>
        </vbox>
      </hbox>
      <hbox id="UITourTooltipButtons" flex="1" align="center"/>
     </vbox>
    </panel>
    <!-- type="default" forces frames to be created so that the panel's size can be determined -->
    <panel id="UITourHighlightContainer"
           type="default"
           hidden="true"
           noautofocus="true"
           noautohide="true"
           flip="none"
           consumeoutsideclicks="false">
      <box id="UITourHighlight"></box>
    </panel>

    <panel id="sidebarMenu-popup"
           class="cui-widget-panel"
           role="group"
           type="arrow"
           hidden="true"
           flip="slide"
           orient="vertical"
           position="bottomcenter topleft">
      <toolbarbutton id="sidebar-switcher-bookmarks"
                     type="checkbox"
                     label="&bookmarksButton.label;"
                     class="subviewbutton subviewbutton-iconic"
                     key="viewBookmarksSidebarKb"
                     oncommand="SidebarUI.show('viewBookmarksSidebar');"/>
      <toolbarbutton id="sidebar-switcher-history"
                     type="checkbox"
                     label="&historyButton.label;"
                     class="subviewbutton subviewbutton-iconic"
                     key="key_gotoHistory"
                     oncommand="SidebarUI.show('viewHistorySidebar');"/>
      <toolbarbutton id="sidebar-switcher-tabs"
                     type="checkbox"
                     label="&syncedTabs.sidebar.label;"
                     class="subviewbutton subviewbutton-iconic sync-ui-item"
                     oncommand="SidebarUI.show('viewTabsSidebar');"/>
      <toolbarseparator/>
      <!-- Extension toolbarbuttons go here. -->
      <toolbarseparator id="sidebar-extensions-separator"/>
      <toolbarbutton id="sidebar-reverse-position"
                     class="subviewbutton"
                     oncommand="SidebarUI.reversePosition()"/>
      <toolbarseparator/>
      <toolbarbutton label="&sidebarMenuClose.label;"
                     class="subviewbutton"
                     oncommand="SidebarUI.hide()"/>
    </panel>

    <menupopup id="toolbar-context-menu"
               onpopupshowing="onViewToolbarsPopupShowing(event, document.getElementById('viewToolbarsMenuSeparator')); ToolbarContextMenu.updateDownloadsAutoHide(this); ToolbarContextMenu.updateExtension(this)">
      <menuitem oncommand="ToolbarContextMenu.openAboutAddonsForContextAction(this.parentElement)"
                accesskey="&customizeMenu.manageExtension.accesskey;"
                label="&customizeMenu.manageExtension.label;"
                contexttype="toolbaritem"
                class="customize-context-manageExtension"/>
      <menuitem oncommand="ToolbarContextMenu.removeExtensionForContextAction(this.parentElement)"
                accesskey="&customizeMenu.removeExtension.accesskey;"
                label="&customizeMenu.removeExtension.label;"
                contexttype="toolbaritem"
                class="customize-context-removeExtension"/>
      <menuitem oncommand="ToolbarContextMenu.reportExtensionForContextAction(this.parentElement, 'toolbar_context_menu')"
                accesskey="&customizeMenu.reportExtension.accesskey;"
                label="&customizeMenu.reportExtension.label;"
                contexttype="toolbaritem"
                class="customize-context-reportExtension"/>
      <menuseparator/>
      <menuitem oncommand="gCustomizeMode.addToPanel(document.popupNode)"
                accesskey="&customizeMenu.pinToOverflowMenu.accesskey;"
                label="&customizeMenu.pinToOverflowMenu.label;"
                contexttype="toolbaritem"
                class="customize-context-moveToPanel"/>
      <menuitem id="toolbar-context-autohide-downloads-button"
                oncommand="ToolbarContextMenu.onDownloadsAutoHideChange(event);"
                type="checkbox"
                accesskey="&customizeMenu.autoHideDownloadsButton.accesskey;"
                label="&customizeMenu.autoHideDownloadsButton.label;"
                contexttype="toolbaritem"/>
      <menuitem oncommand="gCustomizeMode.removeFromArea(document.popupNode)"
                accesskey="&customizeMenu.removeFromToolbar.accesskey;"
                label="&customizeMenu.removeFromToolbar.label;"
                contexttype="toolbaritem"
                class="customize-context-removeFromToolbar"/>
      <menuitem id="toolbar-context-reloadSelectedTab"
                contexttype="tabbar"
                oncommand="gBrowser.reloadMultiSelectedTabs();"
                data-lazy-l10n-id="toolbar-context-menu-reload-selected-tab"/>
      <menuitem id="toolbar-context-reloadSelectedTabs"
                contexttype="tabbar"
                oncommand="gBrowser.reloadMultiSelectedTabs();"
                data-lazy-l10n-id="toolbar-context-menu-reload-selected-tabs"/>
      <menuitem id="toolbar-context-bookmarkSelectedTab"
                contexttype="tabbar"
                oncommand="PlacesCommandHook.bookmarkPages(PlacesCommandHook.uniqueSelectedPages);"
                data-lazy-l10n-id="toolbar-context-menu-bookmark-selected-tab"/>
      <menuitem id="toolbar-context-bookmarkSelectedTabs"
                contexttype="tabbar"
                oncommand="PlacesCommandHook.bookmarkPages(PlacesCommandHook.uniqueSelectedPages);"
                data-lazy-l10n-id="toolbar-context-menu-bookmark-selected-tabs"/>
      <menuitem id="toolbar-context-selectAllTabs"
                contexttype="tabbar"
                oncommand="gBrowser.selectAllTabs();"
                data-lazy-l10n-id="toolbar-context-menu-select-all-tabs"/>
      <menuitem id="toolbar-context-undoCloseTab"
                contexttype="tabbar"
                data-lazy-l10n-id="toolbar-context-menu-undo-close-tab"
                observes="History:UndoCloseTab"/>
      <menuseparator/>
      <menuseparator id="viewToolbarsMenuSeparator"/>
      <!-- XXXgijs: we're using oncommand handler here to avoid the event being
                    redirected to the command element, thus preventing
                    listeners on the menupopup or further up the tree from
                    seeing the command event pass by. The observes attribute is
                    here so that the menuitem is still disabled and re-enabled
                    correctly. -->
      <menuitem oncommand="gCustomizeMode.enter()"
                observes="cmd_CustomizeToolbars"
                class="viewCustomizeToolbar"
                label="&viewCustomizeToolbar.label;"
                accesskey="&viewCustomizeToolbar.accesskey;"/>
    </menupopup>

    <menupopup id="blockedPopupOptions"
               onpopupshowing="gPopupBlockerObserver.fillPopupList(event);"
               onpopuphiding="gPopupBlockerObserver.onPopupHiding(event);">
      <menuitem id="blockedPopupAllowSite"
                accesskey="&allowPopups.accesskey;"
                oncommand="gPopupBlockerObserver.toggleAllowPopupsForSite(event);"/>
      <menuitem
                label="&editPopupSettingsUnix.label;"
                accesskey="&editPopupSettings.accesskey;"
                oncommand="gPopupBlockerObserver.editPopupSettings();"/>
      <menuitem id="blockedPopupDontShowMessage"
                accesskey="&dontShowMessage.accesskey;"
                type="checkbox"
                oncommand="gPopupBlockerObserver.dontShowMessage();"/>
      <menuseparator id="blockedPopupsSeparator"/>
    </menupopup>

    <menupopup id="autohide-context"
           onpopupshowing="FullScreen.getAutohide(this.firstChild);">
      <menuitem type="checkbox" data-l10n-id="full-screen-autohide"
                oncommand="FullScreen.setAutohide();"/>
      <menuseparator/>
      <menuitem data-l10n-id="full-screen-exit"
                oncommand="BrowserFullScreen();"/>
    </menupopup>

    <menupopup id="contentAreaContextMenu" pagemenu="#page-menu-separator"
               onpopupshowing="if (event.target != this)
                                 return true;
                               gContextMenu = new nsContextMenu(this, event.shiftKey);
                               if (gContextMenu.shouldDisplay)
                                 updateEditUIVisibility();
                               return gContextMenu.shouldDisplay;"
               onpopuphiding="if (event.target != this)
                                return;
                              gContextMenu.hiding();
                              gContextMenu = null;
                              updateEditUIVisibility();">

      <menugroup id="context-navigation">
        <menuitem id="context-back"
                  class="menuitem-iconic"
                  tooltiptext="&backButton.tooltip;"
                  aria-label="&backCmd.label;"
                  command="Browser:BackOrBackDuplicate"
                  accesskey="&backCmd.accesskey;"
                  onclick="checkForMiddleClick(this, event);"/>
        <menuitem id="context-forward"
                  class="menuitem-iconic"
                  tooltiptext="&forwardButton.tooltip;"
                  aria-label="&forwardCmd.label;"
                  command="Browser:ForwardOrForwardDuplicate"
                  accesskey="&forwardCmd.accesskey;"
                  onclick="checkForMiddleClick(this, event);"/>
        <menuitem id="context-reload"
                  class="menuitem-iconic"
                  tooltip="dynamic-shortcut-tooltip"
                  aria-label="&reloadCmd.label;"
                  command="Browser:ReloadOrDuplicate"
                  accesskey="&reloadCmd.accesskey;"
                  onclick="checkForMiddleClick(this, event);"/>
        <menuitem id="context-stop"
                  class="menuitem-iconic"
                  tooltip="dynamic-shortcut-tooltip"
                  aria-label="&stopCmd.label;"
                  accesskey="&stopCmd.accesskey;"
                  command="Browser:Stop"/>
        <menuitem id="context-bookmarkpage"
                  class="menuitem-iconic"
                  aria-label="&bookmarkPageCmd2.label;"
                  accesskey="&bookmarkPageCmd2.accesskey;"
                  oncommand="gContextMenu.bookmarkThisPage();"/>
      </menugroup>
      <menuseparator id="context-sep-navigation"/>
      <menuseparator id="page-menu-separator"/>
      <menuitem id="spell-no-suggestions"
                disabled="true"
                label="&spellNoSuggestions.label;"/>
      <menuitem id="spell-add-to-dictionary"
                label="&spellAddToDictionary.label;"
                accesskey="&spellAddToDictionary.accesskey;"
                oncommand="InlineSpellCheckerUI.addToDictionary();"/>
      <menuitem id="spell-undo-add-to-dictionary"
                label="&spellUndoAddToDictionary.label;"
                accesskey="&spellUndoAddToDictionary.accesskey;"
                oncommand="InlineSpellCheckerUI.undoAddToDictionary();" />
      <menuseparator id="spell-suggestions-separator"/>
      <menuitem id="context-openlinkincurrent"
                label="&openLinkCmdInCurrent.label;"
                accesskey="&openLinkCmdInCurrent.accesskey;"
                oncommand="gContextMenu.openLinkInCurrent();"/>
      <menuitem id="context-openlinkincontainertab"
                accesskey="&openLinkCmdInTab.accesskey;"
                oncommand="gContextMenu.openLinkInTab(event);"/>
      <menuitem id="context-openlinkintab"
                label="&openLinkCmdInTab.label;"
                accesskey="&openLinkCmdInTab.accesskey;"
                data-usercontextid="0"
                oncommand="gContextMenu.openLinkInTab(event);"/>

      <menu id="context-openlinkinusercontext-menu"
            label="&openLinkCmdInContainerTab.label;"
            accesskey="&openLinkCmdInContainerTab.accesskey;"
            hidden="true">
        <menupopup oncommand="gContextMenu.openLinkInTab(event);"
                   onpopupshowing="return gContextMenu.createContainerMenu(event);" />
      </menu>

      <menuitem id="context-openlink"
                label="&openLinkCmd.label;"
                accesskey="&openLinkCmd.accesskey;"
                oncommand="gContextMenu.openLink();"/>
      <menuitem id="context-openlinkprivate"
                label="&openLinkInPrivateWindowCmd.label;"
                accesskey="&openLinkInPrivateWindowCmd.accesskey;"
                oncommand="gContextMenu.openLinkInPrivateWindow();"/>
      <menuseparator id="context-sep-open"/>
      <menuitem id="context-bookmarklink"
                label="&bookmarkThisLinkCmd.label;"
                accesskey="&bookmarkThisLinkCmd.accesskey;"
                oncommand="gContextMenu.bookmarkLink();"/>
      <menuitem id="context-savelink"
                label="&saveLinkCmd.label;"
                accesskey="&saveLinkCmd.accesskey;"
                oncommand="gContextMenu.saveLink();"/>
      <menuitem id="context-savelinktopocket"
                label="&saveLinkToPocketCmd.label;"
                accesskey="&saveLinkToPocketCmd.accesskey;"
                oncommand= "Pocket.savePage(gContextMenu.browser, gContextMenu.linkURL);"/>
      <menuitem id="context-copyemail"
                label="&copyEmailCmd.label;"
                accesskey="&copyEmailCmd.accesskey;"
                oncommand="gContextMenu.copyEmail();"/>
      <menuitem id="context-copylink"
                label="&copyLinkCmd.label;"
                accesskey="&copyLinkCmd.accesskey;"
                oncommand="gContextMenu.copyLink();"/>
      <menuseparator id="context-sep-copylink"/>
      <menuitem id="context-media-play"
                label="&mediaPlay.label;"
                accesskey="&mediaPlay.accesskey;"
                oncommand="gContextMenu.mediaCommand('play');"/>
      <menuitem id="context-media-pause"
                label="&mediaPause.label;"
                accesskey="&mediaPause.accesskey;"
                oncommand="gContextMenu.mediaCommand('pause');"/>
      <menuitem id="context-media-mute"
                label="&mediaMute.label;"
                accesskey="&mediaMute.accesskey;"
                oncommand="gContextMenu.mediaCommand('mute');"/>
      <menuitem id="context-media-unmute"
                label="&mediaUnmute.label;"
                accesskey="&mediaUnmute.accesskey;"
                oncommand="gContextMenu.mediaCommand('unmute');"/>
      <menu id="context-media-playbackrate" label="&mediaPlaybackRate2.label;" accesskey="&mediaPlaybackRate2.accesskey;">
        <menupopup>
          <menuitem id="context-media-playbackrate-050x"
                    label="&mediaPlaybackRate050x2.label;"
                    accesskey="&mediaPlaybackRate050x2.accesskey;"
                    type="radio"
                    name="playbackrate"
                    oncommand="gContextMenu.mediaCommand('playbackRate', 0.5);"/>
          <menuitem id="context-media-playbackrate-100x"
                    label="&mediaPlaybackRate100x2.label;"
                    accesskey="&mediaPlaybackRate100x2.accesskey;"
                    type="radio"
                    name="playbackrate"
                    checked="true"
                    oncommand="gContextMenu.mediaCommand('playbackRate', 1.0);"/>
          <menuitem id="context-media-playbackrate-125x"
                    label="&mediaPlaybackRate125x2.label;"
                    accesskey="&mediaPlaybackRate125x2.accesskey;"
                    type="radio"
                    name="playbackrate"
                    oncommand="gContextMenu.mediaCommand('playbackRate', 1.25);"/>
          <menuitem id="context-media-playbackrate-150x"
                    label="&mediaPlaybackRate150x2.label;"
                    accesskey="&mediaPlaybackRate150x2.accesskey;"
                    type="radio"
                    name="playbackrate"
                    oncommand="gContextMenu.mediaCommand('playbackRate', 1.5);"/>
          <menuitem id="context-media-playbackrate-200x"
                    label="&mediaPlaybackRate200x2.label;"
                    accesskey="&mediaPlaybackRate200x2.accesskey;"
                    type="radio"
                    name="playbackrate"
                    oncommand="gContextMenu.mediaCommand('playbackRate', 2.0);"/>
        </menupopup>
      </menu>
      <menuitem id="context-media-loop"
                label="&mediaLoop.label;"
                accesskey="&mediaLoop.accesskey;"
                type="checkbox"
                oncommand="gContextMenu.mediaCommand('loop');"/>
      <menuitem id="context-media-showcontrols"
                label="&mediaShowControls.label;"
                accesskey="&mediaShowControls.accesskey;"
                oncommand="gContextMenu.mediaCommand('showcontrols');"/>
      <menuitem id="context-media-hidecontrols"
                label="&mediaHideControls.label;"
                accesskey="&mediaHideControls.accesskey;"
                oncommand="gContextMenu.mediaCommand('hidecontrols');"/>
      <menuitem id="context-video-fullscreen"
                accesskey="&videoFullScreen.accesskey;"
                label="&videoFullScreen.label;"
                oncommand="gContextMenu.mediaCommand('fullscreen');"/>
      <menuitem id="context-leave-dom-fullscreen"
                accesskey="&leaveDOMFullScreen.accesskey;"
                label="&leaveDOMFullScreen.label;"
                oncommand="gContextMenu.leaveDOMFullScreen();"/>
      <menuitem id="context-video-pictureinpicture"
                accesskey="&pictureInPicture.accesskey;"
                label="&pictureInPicture.label;"
                type="checkbox"
                oncommand="gContextMenu.mediaCommand('pictureinpicture');"/>
      <menuseparator id="context-media-sep-commands"/>
      <menuitem id="context-reloadimage"
                label="&reloadImageCmd.label;"
                accesskey="&reloadImageCmd.accesskey;"
                oncommand="gContextMenu.reloadImage();"/>
      <menuitem id="context-viewimage"
                label="&viewImageCmd.label;"
                accesskey="&viewImageCmd.accesskey;"
                oncommand="gContextMenu.viewMedia(event);"
                onclick="checkForMiddleClick(this, event);"/>
      <menuitem id="context-viewvideo"
                label="&viewVideoCmd.label;"
                accesskey="&viewVideoCmd.accesskey;"
                oncommand="gContextMenu.viewMedia(event);"
                onclick="checkForMiddleClick(this, event);"/>
      <menuitem id="context-copyimage-contents"
                label="&copyImageContentsCmd.label;"
                accesskey="&copyImageContentsCmd.accesskey;"
                oncommand="goDoCommand('cmd_copyImage');"/>
      <menuitem id="context-copyimage"
                label="&copyImageCmd.label;"
                accesskey="&copyImageCmd.accesskey;"
                oncommand="gContextMenu.copyMediaLocation();"/>
      <menuitem id="context-copyvideourl"
                label="&copyVideoURLCmd.label;"
                accesskey="&copyVideoURLCmd.accesskey;"
                oncommand="gContextMenu.copyMediaLocation();"/>
      <menuitem id="context-copyaudiourl"
                label="&copyAudioURLCmd.label;"
                accesskey="&copyAudioURLCmd.accesskey;"
                oncommand="gContextMenu.copyMediaLocation();"/>
      <menuseparator id="context-sep-copyimage"/>
      <menuitem id="context-saveimage"
                label="&saveImageCmd.label;"
                accesskey="&saveImageCmd.accesskey;"
                oncommand="gContextMenu.saveMedia();"/>
      <menuitem id="context-sendimage"
                label="&emailImageCmd.label;"
                accesskey="&emailImageCmd.accesskey;"
                oncommand="gContextMenu.sendMedia();"/>
      <menuitem id="context-setDesktopBackground"
                label="&setDesktopBackgroundCmd.label;"
                accesskey="&setDesktopBackgroundCmd.accesskey;"
                oncommand="gContextMenu.setDesktopBackground();"/>
      <menuitem id="context-viewimageinfo"
                label="&viewImageInfoCmd.label;"
                accesskey="&viewImageInfoCmd.accesskey;"
                oncommand="gContextMenu.viewImageInfo();"/>
      <menuitem id="context-viewimagedesc"
                label="&viewImageDescCmd.label;"
                accesskey="&viewImageDescCmd.accesskey;"
                oncommand="gContextMenu.viewImageDesc(event);"
                onclick="checkForMiddleClick(this, event);"/>
      <menuitem id="context-savevideo"
                label="&saveVideoCmd.label;"
                accesskey="&saveVideoCmd.accesskey;"
                oncommand="gContextMenu.saveMedia();"/>
      <menuitem id="context-saveaudio"
                label="&saveAudioCmd.label;"
                accesskey="&saveAudioCmd.accesskey;"
                oncommand="gContextMenu.saveMedia();"/>
      <menuitem id="context-video-saveimage"
                accesskey="&videoSaveImage.accesskey;"
                label="&videoSaveImage.label;"
                oncommand="gContextMenu.saveVideoFrameAsImage();"/>
      <menuitem id="context-sendvideo"
                label="&emailVideoCmd.label;"
                accesskey="&emailVideoCmd.accesskey;"
                oncommand="gContextMenu.sendMedia();"/>
      <menuitem id="context-sendaudio"
                label="&emailAudioCmd.label;"
                accesskey="&emailAudioCmd.accesskey;"
                oncommand="gContextMenu.sendMedia();"/>
      <menuitem id="context-ctp-play"
                label="&playPluginCmd.label;"
                accesskey="&playPluginCmd.accesskey;"
                oncommand="gContextMenu.playPlugin();"/>
      <menuitem id="context-ctp-hide"
                label="&hidePluginCmd.label;"
                accesskey="&hidePluginCmd.accesskey;"
                oncommand="gContextMenu.hidePlugin();"/>
      <menuseparator id="context-sep-ctp"/>
      <menuitem id="context-savepage"
                label="&savePageCmd.label;"
                accesskey="&savePageCmd.accesskey2;"
                oncommand="gContextMenu.savePageAs();"/>
      <menuitem id="context-pocket"
                label="&saveToPocketCmd.label;"
                accesskey="&saveToPocketCmd.accesskey;"
                oncommand="Pocket.savePage(gContextMenu.browser, gContextMenu.browser.currentURI.spec, gContextMenu.browser.contentTitle);"/>
      <menuseparator id="context-sep-sendpagetodevice" class="sync-ui-item"
                     hidden="true"/>
      <menu id="context-sendpagetodevice"
            class="sync-ui-item"
            label="&sendPageToDevice.label;"
            accesskey="&sendPageToDevice.accesskey;"
            hidden="true">
        <menupopup id="context-sendpagetodevice-popup"
                   onpopupshowing="(() => { gSync.populateSendTabToDevicesMenu(event.target, gBrowser.currentURI.spec, gBrowser.contentTitle); })()"/>
      </menu>
      <menuseparator id="context-sep-viewbgimage"/>
      <menuitem id="context-viewbgimage"
                label="&viewBGImageCmd.label;"
                accesskey="&viewBGImageCmd.accesskey;"
                oncommand="gContextMenu.viewBGImage(event);"
                onclick="checkForMiddleClick(this, event);"/>
      <menuitem id="context-undo"
                label="&undoCmd.label;"
                accesskey="&undoCmd.accesskey;"
                command="cmd_undo"/>
      <menuseparator id="context-sep-undo"/>
      <menuitem id="context-cut"
                label="&cutCmd.label;"
                accesskey="&cutCmd.accesskey;"
                command="cmd_cut"/>
      <menuitem id="context-copy"
                label="&copyCmd.label;"
                accesskey="&copyCmd.accesskey;"
                command="cmd_copy"/>
      <menuitem id="context-paste"
                label="&pasteCmd.label;"
                accesskey="&pasteCmd.accesskey;"
                command="cmd_paste"/>
      <menuitem id="context-delete"
                label="&deleteCmd.label;"
                accesskey="&deleteCmd.accesskey;"
                command="cmd_delete"/>
      <menuseparator id="context-sep-paste"/>
      <menuitem id="context-selectall"
                label="&selectAllCmd.label;"
                accesskey="&selectAllCmd.accesskey;"
                command="cmd_selectAll"/>
      <menuseparator id="context-sep-selectall"/>
      <menuitem id="context-keywordfield"
                label="&keywordfield.label;"
                accesskey="&keywordfield.accesskey;"
                oncommand="AddKeywordForSearchField();"/>
      <menuitem id="context-searchselect"
                oncommand="BrowserSearch.loadSearchFromContext(this.searchTerms, this.usePrivate, this.principal, this.csp);"/>
      <menuitem id="context-searchselect-private"
                oncommand="BrowserSearch.loadSearchFromContext(this.searchTerms, true, this.principal, this.csp);"/>
      <menuseparator id="context-sep-sendlinktodevice" class="sync-ui-item"
                     hidden="true"/>
      <menu id="context-sendlinktodevice"
            class="sync-ui-item"
            label="&sendLinkToDevice.label;"
            accesskey="&sendLinkToDevice.accesskey;"
            hidden="true">
        <menupopup id="context-sendlinktodevice-popup"
                   onpopupshowing="gSync.populateSendTabToDevicesMenu(event.target, gContextMenu.linkURL, gContextMenu.linkTextStr);"/>
      </menu>
      <menuseparator id="frame-sep"/>
      <menu id="frame" label="&thisFrameMenu.label;" accesskey="&thisFrameMenu.accesskey;">
        <menupopup>
          <menuitem id="context-showonlythisframe"
                    label="&showOnlyThisFrameCmd.label;"
                    accesskey="&showOnlyThisFrameCmd.accesskey;"
                    oncommand="gContextMenu.showOnlyThisFrame();"/>
          <menuitem id="context-openframeintab"
                    label="&openFrameCmdInTab.label;"
                    accesskey="&openFrameCmdInTab.accesskey;"
                    oncommand="gContextMenu.openFrameInTab();"/>
          <menuitem id="context-openframe"
                    label="&openFrameCmd.label;"
                    accesskey="&openFrameCmd.accesskey;"
                    oncommand="gContextMenu.openFrame();"/>
          <menuseparator id="open-frame-sep"/>
          <menuitem id="context-reloadframe"
                    label="&reloadFrameCmd.label;"
                    accesskey="&reloadFrameCmd.accesskey;"
                    oncommand="gContextMenu.reloadFrame(event);"/>
          <menuseparator/>
          <menuitem id="context-bookmarkframe"
                    label="&bookmarkThisFrameCmd.label;"
                    accesskey="&bookmarkThisFrameCmd.accesskey;"
                    oncommand="gContextMenu.addBookmarkForFrame();"/>
          <menuitem id="context-saveframe"
                    label="&saveFrameCmd.label;"
                    accesskey="&saveFrameCmd.accesskey;"
                    oncommand="gContextMenu.saveFrame();"/>
          <menuseparator/>
          <menuitem id="context-printframe"
                    label="&printFrameCmd.label;"
                    accesskey="&printFrameCmd.accesskey;"
                    oncommand="gContextMenu.printFrame();"/>
          <menuseparator/>
          <menuitem id="context-viewframesource"
                    label="&viewFrameSourceCmd.label;"
                    accesskey="&viewFrameSourceCmd.accesskey;"
                    oncommand="gContextMenu.viewFrameSource();"/>
          <menuitem id="context-viewframeinfo"
                    label="&viewFrameInfoCmd.label;"
                    accesskey="&viewFrameInfoCmd.accesskey;"
                    oncommand="gContextMenu.viewFrameInfo();"/>
        </menupopup>
      </menu>
      <menuitem id="context-viewpartialsource-selection"
                label="&viewPartialSourceForSelectionCmd.label;"
                accesskey="&viewPartialSourceCmd.accesskey;"
                oncommand="gContextMenu.viewPartialSource();"/>
      <menuseparator id="context-sep-viewsource"/>
      <menuitem id="context-viewsource"
                label="&viewPageSourceCmd.label;"
                accesskey="&viewPageSourceCmd.accesskey;"
                oncommand="BrowserViewSource(gContextMenu.browser);"/>
      <menuitem id="context-viewinfo"
                label="&viewPageInfoCmd.label;"
                accesskey="&viewPageInfoCmd.accesskey;"
                oncommand="gContextMenu.viewInfo();"/>
      <menuseparator id="spell-separator"/>
      <menuitem id="spell-check-enabled"
                label="&spellCheckToggle.label;"
                type="checkbox"
                accesskey="&spellCheckToggle.accesskey;"
                oncommand="InlineSpellCheckerUI.toggleEnabled(window);"/>
      <menuitem id="spell-add-dictionaries-main"
                label="&spellAddDictionaries.label;"
                accesskey="&spellAddDictionaries.accesskey;"
                oncommand="gContextMenu.addDictionaries();"/>
      <menu id="spell-dictionaries"
            label="&spellDictionaries.label;"
            accesskey="&spellDictionaries.accesskey;">
          <menupopup id="spell-dictionaries-menu">
              <menuseparator id="spell-language-separator"/>
              <menuitem id="spell-add-dictionaries"
                        label="&spellAddDictionaries.label;"
                        accesskey="&spellAddDictionaries.accesskey;"
                        oncommand="gContextMenu.addDictionaries();"/>
          </menupopup>
      </menu>
      <menuseparator hidden="true" id="context-sep-bidi"/>
      <menuitem hidden="true" id="context-bidi-text-direction-toggle"
                label="&bidiSwitchTextDirectionItem.label;"
                accesskey="&bidiSwitchTextDirectionItem.accesskey;"
                command="cmd_switchTextDirection"/>
      <menuitem hidden="true" id="context-bidi-page-direction-toggle"
                label="&bidiSwitchPageDirectionItem.label;"
                accesskey="&bidiSwitchPageDirectionItem.accesskey;"
                oncommand="gContextMenu.switchPageDirection();"/>
      <menuseparator id="fill-login-separator" hidden="true"/>
      <menu id="fill-login"
            label="&fillLoginMenu.label;"
            label-login="&fillLoginMenu.label;"
            label-password="&fillPasswordMenu.label;"
            label-username="&fillUsernameMenu.label;"
            accesskey="&fillLoginMenu.accesskey;"
            accesskey-login="&fillLoginMenu.accesskey;"
            accesskey-password="&fillPasswordMenu.accesskey;"
            accesskey-username="&fillUsernameMenu.accesskey;"
            hidden="true">
        <menupopup id="fill-login-popup">
          <menuitem id="fill-login-no-logins"
                    label="&noLoginSuggestions.label;"
                    disabled="true"
                    hidden="true"/>
          <menuseparator id="generated-password-separator"/>
          <menuitem id="fill-login-generated-password"
                    label="&useGeneratedPassword.label;"
                    accesskey="&useGeneratedPassword.accesskey;"
                    hidden="true"
                    oncommand="gContextMenu.useGeneratedPassword();"/>
          <menuseparator id="saved-logins-separator"/>
          <menuitem id="fill-login-saved-passwords"
                    label="&viewSavedLogins.label;"
                    oncommand="gContextMenu.openPasswordManager();"/>
        </menupopup>
      </menu>
      <menuseparator id="inspect-separator" hidden="true"/>
      <menuitem id="context-inspect"
                hidden="true"
                label="&inspectContextMenu.label;"
                accesskey="&inspectContextMenu.accesskey;"
                oncommand="gContextMenu.inspectNode();"/>
      <menuitem id="context-inspect-a11y"
                hidden="true"
                label="&inspectA11YContextMenu.label;"
                oncommand="gContextMenu.inspectA11Y();"/>
      <menuseparator id="context-media-eme-separator" hidden="true"/>
      <menuitem id="context-media-eme-learnmore"
                class="menuitem-iconic"
                hidden="true"
                label="&emeLearnMoreContextMenu.label;"
                accesskey="&emeLearnMoreContextMenu.accesskey;"
                oncommand="gContextMenu.drmLearnMore(event);"
                onclick="checkForMiddleClick(this, event);"/>
    </menupopup>

    <menupopup id="pictureInPictureToggleContextMenu">
      <menuitem label="&pictureInPictureHideToggle.label;"
                accesskey="&pictureInPictureHideToggle.accesskey;"
                oncommand="PictureInPicture.hideToggle();" />
    </menupopup>


<menupopup id="placesContext"
           onpopupshowing="this._view = PlacesUIUtils.getViewForNode(document.popupNode);
                           if (!PlacesUIUtils.openInTabClosesMenu) {
                             document.getElementById('placesContext_open:newtab')
                             .setAttribute('closemenu', 'single');
                           }
                           return this._view.buildContextMenu(this);"
           onpopuphiding="this._view.destroyContextMenu();">
  <menuitem id="placesContext_open"
            command="placesCmd_open"
            label="&cmd.open.label;"
            accesskey="&cmd.open.accesskey;"
            default="true"
            selectiontype="single"
            selection="link"
            forcehideintabbrowser="true"/>
  <menuitem id="placesContext_open:newtab"
            command="placesCmd_open:tab"
            label="&cmd.open_tab.label;"
            accesskey="&cmd.open_tab.accesskey;"
            selectiontype="single"
            selection="link"/>
  <menuitem id="placesContext_openContainer:tabs"
            oncommand="var view = PlacesUIUtils.getViewForNode(document.popupNode);
                       view.controller.openSelectionInTabs(event);"
            onclick="checkForMiddleClick(this, event);"
            label="&cmd.open_all_in_tabs.label;"
            accesskey="&cmd.open_all_in_tabs.accesskey;"
            selectiontype="single|none"
            selection="folder|host|query"/>
  <menuitem id="placesContext_openLinks:tabs"
            oncommand="var view = PlacesUIUtils.getViewForNode(document.popupNode);
                       view.controller.openSelectionInTabs(event);"
            onclick="checkForMiddleClick(this, event);"
            label="&cmd.open_all_in_tabs.label;"
            accesskey="&cmd.open_all_in_tabs.accesskey;"
            selectiontype="multiple"
            selection="link"/>
  <menuitem id="placesContext_open:newwindow"
            command="placesCmd_open:window"
            label="&cmd.open_window.label;"
            accesskey="&cmd.open_window.accesskey;"
            selectiontype="single"
            selection="link"/>
  <menuitem id="placesContext_open:newprivatewindow"
            command="placesCmd_open:privatewindow"
            label="&cmd.open_private_window.label;"
            accesskey="&cmd.open_private_window.accesskey;"
            selectiontype="single"
            selection="link"
            hideifprivatebrowsing="true"/>
  <menuseparator id="placesContext_openSeparator"/>
  <menuitem id="placesContext_new:bookmark"
            command="placesCmd_new:bookmark"
            label="&cmd.new_bookmark.label;"
            accesskey="&cmd.new_bookmark.accesskey;"
            selectiontype="any"
            hideifnoinsertionpoint="true"/>
  <menuitem id="placesContext_new:folder"
            command="placesCmd_new:folder"
            label="&cmd.new_folder.label;"
            accesskey="&cmd.context_new_folder.accesskey;"
            selectiontype="any"
            hideifnoinsertionpoint="true"/>
  <menuitem id="placesContext_new:separator"
            command="placesCmd_new:separator"
            label="&cmd.new_separator.label;"
            accesskey="&cmd.new_separator.accesskey;"
            closemenu="single"
            selectiontype="any"
            hideifnoinsertionpoint="true"/>
  <menuseparator id="placesContext_newSeparator"/>
  <menuitem id="placesContext_createBookmark"
            command="placesCmd_createBookmark"
            selection="link"
            forcehideselection="bookmark|tagChild"/>
  <menuitem id="placesContext_cut"
            command="placesCmd_cut"
            label="&cutCmd.label;"
            accesskey="&cutCmd.accesskey;"
            closemenu="single"
            selection="bookmark|folder|separator|query"
            forcehideselection="tagChild"/>
  <menuitem id="placesContext_copy"
            command="placesCmd_copy"
            label="&copyCmd.label;"
            closemenu="single"
            accesskey="&copyCmd.accesskey;"
            selection="any"/>
  <menuitem id="placesContext_paste"
            command="placesCmd_paste"
            label="&pasteCmd.label;"
            closemenu="single"
            accesskey="&pasteCmd.accesskey;"
            selectiontype="any"
            hideifnoinsertionpoint="true"/>
  <menuseparator id="placesContext_editSeparator"/>
  <menuitem id="placesContext_delete"
            command="placesCmd_delete"
            label="&deleteCmd.label;"
            accesskey="&deleteCmd.accesskey;"
            closemenu="single"
            selection="bookmark|tagChild|folder|query|dynamiccontainer|separator|host"/>
  <menuitem id="placesContext_delete_history"
            command="placesCmd_delete"
            closemenu="single"
            selection="link"
            forcehideselection="bookmark"/>
  <menuitem id="placesContext_deleteHost"
            command="placesCmd_deleteDataHost"
            label="&cmd.deleteDomainData.label;"
            accesskey="&cmd.deleteDomainData.accesskey;"
            closemenu="single"
            selection="link|host"
            selectiontype="single"
            forcehideselection="bookmark"/>
  <menuseparator id="placesContext_deleteSeparator"/>
  <menuitem id="placesContext_sortBy:name"
            command="placesCmd_sortBy:name"
            label="&cmd.sortby_name.label;"
            accesskey="&cmd.context_sortby_name.accesskey;"
            closemenu="single"
            selection="folder"/>
  <menuseparator id="placesContext_sortSeparator"/>
  <menuitem id="placesContext_show:info"
            command="placesCmd_show:info"
            label="&cmd.properties.label;"
            accesskey="&cmd.properties.accesskey;"
            selection="bookmark|folder|query"/>
</menupopup>

    <panel id="ctrlTab-panel" hidden="true" norestorefocus="true" level="top">
      <hbox id="ctrlTab-previews"/>
      <hbox id="ctrlTab-showAll-container" pack="center"/>
    </panel>

    <panel id="pageActionPanel"
           class="cui-widget-panel panel-no-padding"
           role="group"
           type="arrow"
           hidden="true"
           flip="slide"
           position="bottomcenter topright"
           tabspecific="true"
           noautofocus="true"
           pinTab-title="&pinTab.label;"
           unpinTab-title="&unpinTab.label;"
           pocket-title="&saveToPocketCmd.label;"
           copyURL-title="&pageAction.copyLink.label;"
           emailLink-title="&emailPageCmd.label;"
           sendToDevice-notReadyTitle="&sendToDevice.syncNotReady.label;"
           shareURL-title="&pageAction.shareUrl.label;"
           shareMore-label="&pageAction.shareMore.label;">
      <panelmultiview id="pageActionPanelMultiView"
                      mainViewId="pageActionPanelMainView"
                      viewCacheId="appMenu-viewCache">
        <panelview id="pageActionPanelMainView"
                   context="pageActionContextMenu"
                   class="PanelUI-subView">
          <vbox class="panel-subview-body"/>
        </panelview>
      </panelmultiview>
    </panel>

    <panel id="confirmation-hint"
           role="alert"
           type="arrow"
           hidden="true"
           flip="slide"
           position="bottomcenter topright"
           tabspecific="true"
           noautofocus="true">
      <hbox id="confirmation-hint-checkmark-animation-container">
       <image id="confirmation-hint-checkmark-image"/>
      </hbox>
      <vbox id="confirmation-hint-message-container">
       <label id="confirmation-hint-message"/>
       <label id="confirmation-hint-description"/>
      </vbox>
    </panel>

    <menupopup id="pageActionContextMenu"
               onpopupshowing="BrowserPageActions.onContextMenuShowing(event, this);">
      <menuitem class="pageActionContextMenuItem builtInUnpinned"
                oncommand="BrowserPageActions.togglePinningForContextAction();"
                data-l10n-id="page-action-add-to-urlbar"/>
      <menuitem class="pageActionContextMenuItem builtInPinned"
                oncommand="BrowserPageActions.togglePinningForContextAction();"
                data-l10n-id="page-action-remove-from-urlbar"/>
      <menuitem class="pageActionContextMenuItem extensionUnpinned"
                oncommand="BrowserPageActions.togglePinningForContextAction();"
                data-l10n-id="page-action-add-to-urlbar"/>
      <menuitem class="pageActionContextMenuItem extensionPinned"
                oncommand="BrowserPageActions.togglePinningForContextAction();"
                data-l10n-id="page-action-remove-from-urlbar"/>
      <menuseparator class="pageActionContextMenuItem extensionPinned extensionUnpinned"/>
      <menuitem class="pageActionContextMenuItem extensionPinned extensionUnpinned"
                oncommand="BrowserPageActions.openAboutAddonsForContextAction();"
                data-l10n-id="page-action-manage-extension"/>
    </menupopup>


<!-- Bookmarks and history tooltip -->
<tooltip id="bhTooltip" noautohide="true"
         onpopupshowing="return window.top.BookmarksEventHandler.fillInBHTooltip(document, event)">
  <vbox id="bhTooltipTextBox" flex="1">
    <description id="bhtTitleText" class="tooltip-label" />
    <description id="bhtUrlText" crop="center" class="tooltip-label uri-element" />
  </vbox>
</tooltip>

    <tooltip id="tabbrowser-tab-tooltip" onpopupshowing="gBrowser.createTooltip(event);"/>

    <tooltip id="back-button-tooltip">
      <description class="tooltip-label" value="&backButton.tooltip;"/>
      <description class="tooltip-label" value="&backForwardButtonMenu.tooltip;"/>
    </tooltip>

    <tooltip id="forward-button-tooltip">
      <description class="tooltip-label" value="&forwardButton.tooltip;"/>
      <description class="tooltip-label" value="&backForwardButtonMenu.tooltip;"/>
    </tooltip>


    <panel id="notification-popup"
           type="arrow"
           position="after_start"
           hidden="true"
           orient="vertical"
           noautofocus="true"
           role="alert"/>

    <popupnotification id="webRTC-shareDevices-notification" hidden="true">
      <popupnotificationcontent id="webRTC-selectCamera" orient="vertical">
        <label value="&getUserMedia.selectCamera.label;"
               accesskey="&getUserMedia.selectCamera.accesskey;"
               control="webRTC-selectCamera-menulist"/>
        <menulist id="webRTC-selectCamera-menulist">
          <menupopup id="webRTC-selectCamera-menupopup"/>
        </menulist>
      </popupnotificationcontent>

      <popupnotificationcontent id="webRTC-selectWindowOrScreen" orient="vertical">
        <label id="webRTC-selectWindow-label"
               control="webRTC-selectWindow-menulist"/>
        <menulist id="webRTC-selectWindow-menulist"
                  oncommand="webrtcUI.updateWarningLabel(this);">
          <menupopup id="webRTC-selectWindow-menupopup"/>
        </menulist>
        <description id="webRTC-all-windows-shared" hidden="true">&getUserMedia.allWindowsShared.message;</description>
      </popupnotificationcontent>

      <popupnotificationcontent id="webRTC-preview" hidden="true">
        <html:video id="webRTC-previewVideo"/>
        <vbox id="webRTC-previewWarningBox">
          <spacer flex="1"/>
          <description id="webRTC-previewWarning"/>
        </vbox>
      </popupnotificationcontent>

      <popupnotificationcontent id="webRTC-selectMicrophone" orient="vertical">
        <label value="&getUserMedia.selectMicrophone.label;"
               accesskey="&getUserMedia.selectMicrophone.accesskey;"
               control="webRTC-selectMicrophone-menulist"/>
        <menulist id="webRTC-selectMicrophone-menulist">
          <menupopup id="webRTC-selectMicrophone-menupopup"/>
        </menulist>
      </popupnotificationcontent>
    </popupnotification>

    <popupnotification id="servicesInstall-notification" hidden="true">
      <popupnotificationcontent orient="vertical" align="start">
        <!-- XXX bug 974146, tests are looking for this, can't remove yet. -->
      </popupnotificationcontent>
    </popupnotification>

    <popupnotification id="password-notification" hidden="true">
      <popupnotificationcontent orient="vertical">
        <html:input id="password-notification-username"/>
        <html:input id="password-notification-password" type="password"/>
        <checkbox id="password-notification-visibilityToggle" hidden="true"/>
      </popupnotificationcontent>
    </popupnotification>


    <popupnotification id="addon-progress-notification" is="addon-progress-notification" hidden="true">
      <popupnotificationcontent orient="vertical">
        <html:progress id="addon-progress-notification-progressmeter" max="100"/>
        <label id="addon-progress-notification-progresstext" crop="end"/>
      </popupnotificationcontent>
    </popupnotification>

    <popupnotification id="addon-install-confirmation-notification" hidden="true">
      <popupnotificationcontent id="addon-install-confirmation-content" orient="vertical"/>
    </popupnotification>

    <popupnotification id="addon-webext-permissions-notification" hidden="true">
      <popupnotificationcontent class="addon-webext-perm-notification-content" orient="vertical">
        <description id="addon-webext-perm-text" class="addon-webext-perm-text"/>
        <label id="addon-webext-perm-intro" class="addon-webext-perm-text"/>
        <html:ul id="addon-webext-perm-list" class="addon-webext-perm-list"/>
        <hbox>
          <label id="addon-webext-perm-info" is="text-link" class="popup-notification-learnmore-link"/>
        </hbox>
      </popupnotificationcontent>
    </popupnotification>

    <popupnotification id="addon-install-blocked-notification" hidden="true">
      <popupnotificationcontent id="addon-install-blocked-content" orient="vertical">
        <description id="addon-install-blocked-message" class="popup-notification-description"></description>
        <hbox>
          <label id="addon-install-blocked-info" class="popup-notification-learnmore-link" is="text-link"/>
        </hbox>
      </popupnotificationcontent>
    </popupnotification>

    <popupnotification id="contextual-feature-recommendation-notification" hidden="true">
      <popupnotificationheader id="cfr-notification-header">
        <stack id="cfr-notification-header-stack">
          <description id="cfr-notification-header-label"></description>
          <label id="cfr-notification-header-link" is="text-link">
            <xul:image id="cfr-notification-header-image"/>
          </label>
        </stack>
      </popupnotificationheader>
      <popupnotificationcontent>
        <description id="cfr-notification-author"></description>
      </popupnotificationcontent>
      <popupnotificationfooter id="cfr-notification-footer" orient="vertical">
        <vbox id="cfr-notification-footer-text-and-addon-info">
          <description id="cfr-notification-footer-text"/>
          <hbox id="cfr-notification-footer-addon-info">
            <hbox id="cfr-notification-footer-filled-stars"/>
            <hbox id="cfr-notification-footer-empty-stars"/>
            <label id="cfr-notification-footer-users"/>
            <spacer id="cfr-notification-footer-spacer" hidden="true"/>
            <label id="cfr-notification-footer-learn-more-link" is="text-link"/>
          </hbox>
        </vbox>
      </popupnotificationfooter>
    </popupnotification>

    <popupnotification id="storage-access-notification" hidden="true">
      <popupnotificationcontent class="storage-access-notification-content">
        <xul:vbox flex="1">
          <!-- These need to be on the same line to avoid creating
               whitespace between them (whitespace is added in the
               localization file, if necessary). -->
          <xul:description class="storage-access-perm-text"><html:span
            id="storage-access-perm-label"/><html:a id="storage-access-perm-learnmore"
            onclick="openTrustedLinkIn(this.href, 'tab'); return false;"
            class="text-link popup-notification-learnmore-link"/><html:span
            id="storage-access-perm-endlabel"/></xul:description>
        </xul:vbox>
      </popupnotificationcontent>
    </popupnotification>

<!-- This Source Code Form is subject to the terms of the Mozilla Public
   - License, v. 2.0. If a copy of the MPL was not distributed with this
   - file, You can obtain one at http://mozilla.org/MPL/2.0/. -->

<panel id="widget-overflow"
       class="panel-no-padding"
       role="group"
       type="arrow"
       noautofocus="true"
       position="bottomcenter topright"
       hidden="true">
  <panelmultiview mainViewId="widget-overflow-mainView">
    <panelview id="widget-overflow-mainView"
               context="toolbar-context-menu">
      <vbox class="panel-subview-body">
        <vbox id="widget-overflow-list" class="widget-overflow-list"
              overflowfortoolbar="nav-bar"/>
        <toolbarseparator id="widget-overflow-fixed-separator" hidden="true"/>
        <vbox id="widget-overflow-fixed-list" class="widget-overflow-list" hidden="true" />
      </vbox>
      <toolbarbutton command="cmd_CustomizeToolbars"
                      id="overflowMenu-customize-button"
                      class="subviewbutton panel-subview-footer"
                      accesskey="&overflowCustomizeToolbar.accesskey;"
                      label="&overflowCustomizeToolbar.label;"/>
    </panelview>
  </panelmultiview>
  <!-- This menu is here because not having it in the menu in which it's used flickers
       when hover styles overlap. See https://bugzilla.mozilla.org/show_bug.cgi?id=1378427 .
       -->
  <menupopup id="customizationPanelItemContextMenu"
             onpopupshowing="gCustomizeMode.onPanelContextMenuShowing(event); ToolbarContextMenu.updateExtension(this)">
    <menuitem oncommand="ToolbarContextMenu.openAboutAddonsForContextAction(this.parentElement)"
              accesskey="&customizeMenu.manageExtension.accesskey;"
              label="&customizeMenu.manageExtension.label;"
              contexttype="toolbaritem"
              class="customize-context-manageExtension"/>
    <menuitem oncommand="ToolbarContextMenu.removeExtensionForContextAction(this.parentElement)"
              accesskey="&customizeMenu.removeExtension.accesskey;"
              label="&customizeMenu.removeExtension.label;"
              contexttype="toolbaritem"
              class="customize-context-removeExtension"/>
    <menuitem oncommand="ToolbarContextMenu.reportExtensionForContextAction(this.parentElement, 'toolbar_context_menu')"
              accesskey="&customizeMenu.reportExtension.accesskey;"
              label="&customizeMenu.reportExtension.label;"
              contexttype="toolbaritem"
              class="customize-context-reportExtension"/>
    <menuseparator/>
    <menuitem oncommand="gCustomizeMode.addToPanel(document.popupNode)"
              id="customizationPanelItemContextMenuPin"
              accesskey="&customizeMenu.pinToOverflowMenu.accesskey;"
              label="&customizeMenu.pinToOverflowMenu.label;"
              closemenu="single"
              class="customize-context-moveToPanel"/>
    <menuitem oncommand="gCustomizeMode.addToToolbar(document.popupNode)"
              id="customizationPanelItemContextMenuUnpin"
              closemenu="single"
              class="customize-context-moveToToolbar"
              accesskey="&customizeMenu.unpinFromOverflowMenu.accesskey;"
              label="&customizeMenu.unpinFromOverflowMenu.label;"/>
    <menuitem oncommand="gCustomizeMode.removeFromArea(document.popupNode)"
              closemenu="single"
              class="customize-context-removeFromPanel"
              accesskey="&customizeMenu.removeFromToolbar.accesskey;"
              label="&customizeMenu.removeFromToolbar.label;"/>
    <menuseparator/>
    <menuitem command="cmd_CustomizeToolbars"
              class="viewCustomizeToolbar"
              accesskey="&viewCustomizeToolbar.accesskey;"
              label="&viewCustomizeToolbar.label;"/>
  </menupopup>
</panel>

<panel id="panic-button-success-notification"
       type="arrow"
       position="bottomcenter topright"
       hidden="true"
       role="alert"
       orient="vertical">
  <hbox id="panic-button-success-header">
    <image id="panic-button-success-icon" alt=""/>
    <vbox>
      <description>&panicButton.thankyou.msg1;</description>
      <description>&panicButton.thankyou.msg2;</description>
    </vbox>
  </hbox>
  <button label="&panicButton.thankyou.buttonlabel;"
          id="panic-button-success-closebutton"
          oncommand="PanicButtonNotifier.close()"/>
</panel>

<panel id="appMenu-notification-popup"
       class="popup-notification-panel panel-no-padding"
       type="arrow"
       position="after_start"
       hidden="true"
       flip="slide"
       orient="vertical"
       noautofocus="true"
       noautohide="true"
       nopreventnavboxhide="true"
       role="alert">
  <popupnotification id="appMenu-update-available-notification"
                     popupid="update-available"
                     data-lazy-l10n-id="appmenu-update-available"
                     data-l10n-attrs="buttonlabel, buttonaccesskey, secondarybuttonlabel, secondarybuttonaccesskey"
                     closebuttonhidden="true"
                     dropmarkerhidden="true"
                     checkboxhidden="true"
                     buttonhighlight="true"
                     hidden="true">
    <popupnotificationcontent id="update-available-notification-content" orient="vertical">
      <description id="update-available-description" data-lazy-l10n-id="appmenu-update-available-message"></description>
      <label id="update-available-whats-new" is="text-link" data-lazy-l10n-id="appmenu-update-whats-new"/>
    </popupnotificationcontent>
  </popupnotification>

  <popupnotification id="appMenu-update-manual-notification"
                     popupid="update-manual"
                     data-lazy-l10n-id="appmenu-update-manual"
                     data-l10n-attrs="buttonlabel, buttonaccesskey, secondarybuttonlabel, secondarybuttonaccesskey"
                     closebuttonhidden="true"
                     dropmarkerhidden="true"
                     checkboxhidden="true"
                     buttonhighlight="true"
                     hidden="true">
    <popupnotificationcontent id="update-manual-notification-content" orient="vertical">
      <description id="update-manual-description" data-lazy-l10n-id="appmenu-update-manual-message"></description>
      <label id="update-manual-whats-new" is="text-link"  data-lazy-l10n-id="appmenu-update-whats-new"/>
    </popupnotificationcontent>
  </popupnotification>

  <popupnotification id="appMenu-update-unsupported-notification"
                     popupid="update-unsupported"
                     data-lazy-l10n-id="appmenu-update-unsupported"
                     data-l10n-attrs="buttonlabel, buttonaccesskey, secondarybuttonlabel, secondarybuttonaccesskey"
                     closebuttonhidden="true"
                     dropmarkerhidden="true"
                     checkboxhidden="true"
                     buttonhighlight="true"
                     hidden="true">
    <popupnotificationcontent id="update-unsupported-notification-content" orient="vertical">
      <description id="update-unsupported-description" data-lazy-l10n-id="appmenu-update-unsupported-message"></description>
    </popupnotificationcontent>
  </popupnotification>

  <popupnotification id="appMenu-update-restart-notification"
                     popupid="update-restart"
                     data-lazy-l10n-id="appmenu-update-restart"
                     data-l10n-attrs="buttonlabel, buttonaccesskey, secondarybuttonlabel, secondarybuttonaccesskey"
                     closebuttonhidden="true"
                     dropmarkerhidden="true"
                     checkboxhidden="true"
                     buttonhighlight="true"
                     hidden="true">
    <popupnotificationcontent id="update-restart-notification-content" orient="vertical">
      <description id="update-restart-description" data-lazy-l10n-id="appmenu-update-restart-message"></description>
    </popupnotificationcontent>
  </popupnotification>

  <popupnotification id="appMenu-addon-installed-notification"
                     popupid="addon-installed"
                     closebuttonhidden="true"
                     secondarybuttonhidden="true"
                     data-lazy-l10n-id="appmenu-addon-private-browsing-installed"
                     data-l10n-attrs="buttonlabel, buttonaccesskey"
                     dropmarkerhidden="true"
                     checkboxhidden="true"
                     buttonhighlight="true"
                     hidden="true">
    <popupnotificationcontent class="addon-installed-notification-content" orient="vertical">
      <description id="addon-install-description" data-lazy-l10n-id="appmenu-addon-post-install-message">
        <image data-l10n-name="addon-install-icon" class="addon-addon-icon"></image>
        <image data-l10n-name="addon-menu-icon" class="addon-toolbar-icon"></image>
      </description>
      <checkbox id="addon-incognito-checkbox"
                data-lazy-l10n-id="appmenu-addon-post-install-incognito-checkbox"/>
    </popupnotificationcontent>
  </popupnotification>

  <popupnotification id="appMenu-addon-private-browsing-notification"
                     popupid="addon-private-browsing"
                     data-lazy-l10n-id="appmenu-addon-private-browsing"
                     data-l10n-attrs="buttonlabel, buttonaccesskey, secondarybuttonlabel, secondarybuttonaccesskey"
                     closebuttonhidden="true"
                     secondarybuttonhidden="false"
                     dropmarkerhidden="true"
                     checkboxhidden="true"
                     buttonhighlight="true"
                     hidden="true">
    <popupnotificationcontent class="addon-private-browsing-notification-content" orient="vertical">
      <description id="addon-private-browsing-description" data-lazy-l10n-id="appmenu-addon-private-browsing-message"></description>
      <label id="addon-private-browsing-learn-more"
             class="text-link" is="text-link" data-lazy-l10n-id="appmenu-addon-private-browsing-learn-more"></label>
    </popupnotificationcontent>
  </popupnotification>
</panel>

<menupopup id="customizationPaletteItemContextMenu"
           onpopupshowing="gCustomizeMode.onPaletteContextMenuShowing(event)">
  <menuitem oncommand="gCustomizeMode.addToToolbar(document.popupNode)"
            class="customize-context-addToToolbar"
            accesskey="&customizeMenu.addToToolbar.accesskey;"
            label="&customizeMenu.addToToolbar.label;"/>
  <menuitem oncommand="gCustomizeMode.addToPanel(document.popupNode)"
            class="customize-context-addToPanel"
            accesskey="&customizeMenu.addToOverflowMenu.accesskey;"
            label="&customizeMenu.addToOverflowMenu.label;"/>
</menupopup>

<menupopup id="customizationPanelContextMenu">
  <menuitem command="cmd_CustomizeToolbars"
            accesskey="&customizeMenu.addMoreItems.accesskey;"
            label="&customizeMenu.addMoreItems.label;"/>
</menupopup>

<panel id="appMenu-popup"
       class="cui-widget-panel panel-no-padding"
       role="group"
       type="arrow"
       hidden="true"
       flip="slide"
       position="bottomcenter topright"
       noautofocus="true">
  <panelmultiview id="appMenu-multiView" mainViewId="appMenu-mainView"
                  viewCacheId="appMenu-viewCache">
    <panelview id="appMenu-mainView" class="PanelUI-subView"
               descriptionheightworkaround="true">
      <vbox class="panel-subview-body">
        <vbox id="appMenu-addon-banners"/>
        <toolbarbutton class="panel-banner-item"
                       label-update-available="&updateAvailable.panelUI.label;"
                       label-update-manual="&updateManual.panelUI.label;"
                       label-update-unsupported="&updateUnsupported.panelUI.label;"
                       label-update-restart="&updateRestart.panelUI.label2;"
                       oncommand="PanelUI._onBannerItemSelected(event)"
                       wrap="true"
                       hidden="true"/>
        <toolbaritem id="appMenu-fxa-status"
                     class="sync-ui-item"
                     defaultlabel="&fxa.menu.signin.label;"
                     flex="1">
          <image id="appMenu-fxa-avatar"/>
          <toolbarbutton id="appMenu-fxa-label"
                        class="subviewbutton subviewbutton-iconic subviewbutton-nav"
                        label="&fxa.menu.signin.label;"
                        closemenu="none"
                        oncommand="gSync.toggleAccountPanel('PanelUI-fxa', this, event)"/>
        </toolbaritem>
        <toolbarseparator class="sync-ui-item"/>
        <toolbaritem>
          <toolbarbutton id="appMenu-protection-report-button"
               class="subviewbutton subviewbutton-iconic"
               oncommand="gProtectionsHandler.openProtections();"
               data-l10n-id="appmenuitem-protection-report-tooltip">
            <image id="appMenu-protection-report-icon" class="toolbarbutton-icon"/>
            <label id="appMenu-protection-report-text"
                   class="toolbarbutton-text"
                   data-l10n-id="appmenuitem-protection-report-title">
            </label>
          </toolbarbutton>
        </toolbaritem>
        <toolbarseparator id="appMenu-tp-separator"/>
        <toolbarbutton id="appMenu-new-window-button"
                       class="subviewbutton subviewbutton-iconic"
                       label="&newNavigatorCmd.label;"
                       key="key_newNavigator"
                       command="cmd_newNavigator"/>
        <toolbarbutton id="appMenu-private-window-button"
                       class="subviewbutton subviewbutton-iconic"
                       label="&newPrivateWindow.label;"
                       key="key_privatebrowsing"
                       command="Tools:PrivateBrowsing"/>
        <toolbarbutton id="appMenuRestoreLastSession"
                       label="&appMenuHistory.restoreSession.label;"
                       class="subviewbutton subviewbutton-iconic"
                       command="Browser:RestoreLastSession"/>
        <toolbarseparator/>
        <toolbaritem id="appMenu-zoom-controls" class="toolbaritem-combined-buttons" closemenu="none">
          <!-- Use a spacer, because panel sizing code gets confused when using CSS methods. -->
          <spacer class="before-label"/>
          <label value="&fullZoom.label;"/>
          <!-- This spacer keeps the scrollbar from overlapping the view. -->
          <spacer class="after-label"/>
          <toolbarbutton id="appMenu-zoomReduce-button"
                         class="subviewbutton subviewbutton-iconic"
                         command="cmd_fullZoomReduce"
                         data-l10n-id="appmenuitem-zoom-reduce"
                         tooltip="dynamic-shortcut-tooltip"/>
          <toolbarbutton id="appMenu-zoomReset-button"
                         class="subviewbutton"
                         command="cmd_fullZoomReset"
                         tooltip="dynamic-shortcut-tooltip"/>
          <toolbarbutton id="appMenu-zoomEnlarge-button"
                         class="subviewbutton subviewbutton-iconic"
                         command="cmd_fullZoomEnlarge"
                         data-l10n-id="appmenuitem-zoom-enlarge"
                         tooltip="dynamic-shortcut-tooltip"/>
          <toolbarseparator orient="vertical"/>
          <toolbarbutton id="appMenu-fullscreen-button"
                         class="subviewbutton subviewbutton-iconic"
                         label="&fullScreenCmd.label;"
                         observes="View:FullScreen"
                         type="checkbox"
                         closemenu="auto"
                         onclick="if (event.button == 0) this.closest('panel').hidePopup();"
                         tooltip="dynamic-shortcut-tooltip"/>
        </toolbaritem>
        <toolbarseparator/>
        <toolbaritem id="appMenu-edit-controls" class="toolbaritem-combined-buttons" closemenu="none">
          <!-- Use a spacer, because panel sizing code gets confused when using CSS methods. -->
          <spacer class="before-label"/>
          <label value="&editMenu.label;"/>
          <!-- This spacer keeps the scrollbar from overlapping the view. -->
          <spacer class="after-label"/>
          <toolbarbutton id="appMenu-cut-button"
                         class="subviewbutton subviewbutton-iconic"
                         command="cmd_cut"
                         tooltip="dynamic-shortcut-tooltip"/>
          <toolbarbutton id="appMenu-copy-button"
                         class="subviewbutton subviewbutton-iconic"
                         command="cmd_copy"
                         tooltip="dynamic-shortcut-tooltip"/>
          <toolbarbutton id="appMenu-paste-button"
                         class="subviewbutton subviewbutton-iconic"
                         command="cmd_paste"
                         tooltip="dynamic-shortcut-tooltip"/>
        </toolbaritem>
        <toolbarseparator/>
        <toolbarbutton id="appMenu-library-button"
                       class="subviewbutton subviewbutton-iconic subviewbutton-nav"
                       label="&places.library.title;"
                       closemenu="none"
                       oncommand="PanelUI.showSubView('appMenu-libraryView', this)"/>
        <toolbarbutton id="appMenu-logins-button"
                       class="subviewbutton subviewbutton-iconic"
                       label="&logins.label;"
                       oncommand="LoginHelper.openPasswordManager(window, { entryPoint: 'mainmenu' })"
                       />
        <toolbarbutton id="appMenu-addons-button"
                       class="subviewbutton subviewbutton-iconic"
                       label="&addons.label;"
                       key="key_openAddons"
                       command="Tools:Addons"
                       />
        <toolbarbutton id="appMenu-preferences-button"
                       class="subviewbutton subviewbutton-iconic"
                       label="&preferencesCmdUnix.label;"
                       oncommand="openPreferences()"
                       />
        <toolbarbutton id="appMenu-customize-button"
                       class="subviewbutton subviewbutton-iconic"
                       label="&viewCustomizeToolbar.label;"
                       command="cmd_CustomizeToolbars"
                       />
        <toolbarseparator/>
        <toolbarbutton id="appMenu-open-file-button"
                       class="subviewbutton"
                       label="&openFileCmd.label;"
                       key="openFileKb"
                       command="Browser:OpenFile"
                       />
        <toolbarbutton id="appMenu-save-file-button"
                       class="subviewbutton"
                       label="&savePageCmd.label;"
                       key="key_savePage"
                       command="Browser:SavePage"
                       />
        <toolbarbutton id="appMenu-print-button"
                       class="subviewbutton subviewbutton-iconic"
                       label="&printCmd.label;"
                       command="cmd_printPreview"
                       />
        <toolbarseparator/>
        <toolbarbutton id="appMenu-find-button"
                       class="subviewbutton subviewbutton-iconic"
                       label="&findOnCmd.label;"
                       key="key_find"
                       command="cmd_find"/>
        <toolbarbutton id="appMenu-more-button"
                       class="subviewbutton subviewbutton-nav"
                       label="&moreMenu.label;"
                       closemenu="none"
                       oncommand="PanelUI.showSubView('appMenu-moreView', this)"/>
        <toolbarbutton id="appMenu-developer-button"
                       class="subviewbutton subviewbutton-nav"
                       label="&webDeveloperMenu.label;"
                       closemenu="none"
                       oncommand="PanelUI.showSubView('PanelUI-developer', this)"/>
        <toolbarbutton id="appMenu-whatsnew-button"
                       class="subviewbutton subviewbutton-iconic subviewbutton-nav"
                       hidden="true"
                       closemenu="none"
                       oncommand="PanelUI.showSubView('PanelUI-whatsNew', this)"/>
        <toolbarbutton id="appMenu-help-button"
                       class="subviewbutton subviewbutton-iconic subviewbutton-nav"
                       label="&appMenuHelp.label;"
                       closemenu="none"
                       oncommand="PanelUI.showSubView('PanelUI-helpView', this)"/>
        <toolbarseparator/>
        <toolbarbutton id="appMenu-quit-button"
                       class="subviewbutton subviewbutton-iconic"
                       label="&quitApplicationCmd.label;"
                       key="key_quitApplication"
                       command="cmd_quitApplication"/>
      </vbox>
    </panelview>
    <panelview id="PanelUI-history" flex="1">
      <vbox class="panel-subview-body">
        <toolbarbutton id="appMenuViewHistorySidebar"
                       label="&appMenuHistory.viewSidebar.label;"
                       label-checked="&appMenuHistory.hideSidebar.label;"
                       label-unchecked="&appMenuHistory.viewSidebar.label;"
                       type="checkbox"
                       class="subviewbutton subviewbutton-iconic"
                       key="key_gotoHistory"
                       oncommand="SidebarUI.toggle('viewHistorySidebar');">
                       <observes element="sidebar-box" attribute="positionend"/>
        </toolbarbutton>
        <toolbarbutton id="appMenuClearRecentHistory"
                       label="&appMenuHistory.clearRecent.label;"
                       class="subviewbutton subviewbutton-iconic"
                       command="Tools:Sanitize"/>
        <toolbarseparator/>
        <toolbarbutton id="appMenuRecentlyClosedTabs"
                       label="&historyUndoMenu.label;"
                       class="subviewbutton subviewbutton-iconic subviewbutton-nav"
                       closemenu="none"
                       oncommand="PanelUI.showSubView('appMenu-library-recentlyClosedTabs', this)"/>
        <toolbarbutton id="appMenuRecentlyClosedWindows"
                       label="&historyUndoWindowMenu.label;"
                       class="subviewbutton subviewbutton-iconic subviewbutton-nav"
                       closemenu="none"
                       oncommand="PanelUI.showSubView('appMenu-library-recentlyClosedWindows', this)"/>
        <toolbarseparator/>
        <label value="&appMenuHistory.recentHistory.label;"
               class="subview-subheader"/>
        <toolbaritem id="appMenu_historyMenu"
                     orient="vertical"
                     smoothscroll="false"
                     flatList="true"
                     tooltip="bhTooltip">
          <!-- history menu items will go here -->
        </toolbaritem>
      </vbox>
      <toolbarbutton id="PanelUI-historyMore"
                     class="panel-subview-footer subviewbutton"
                     label="&appMenuHistory.showAll.label;"
                     oncommand="PlacesCommandHook.showPlacesOrganizer('History'); CustomizableUI.hidePanelForNode(this);"/>
    </panelview>

    <panelview id="appMenu-library-recentlyClosedTabs"/>
    <panelview id="appMenu-library-recentlyClosedWindows"/>

    <panelview id="PanelUI-remotetabs" flex="1" class="PanelUI-subView"
               descriptionheightworkaround="true">
      <vbox class="panel-subview-body">
        <!-- this widget has 3 boxes in the body, but only 1 is ever visible -->
        <!-- When Sync is ready to sync -->
        <vbox id="PanelUI-remotetabs-main" hidden="true">
          <vbox id="PanelUI-remotetabs-buttons">
            <toolbarbutton id="PanelUI-remotetabs-view-sidebar"
                           class="subviewbutton subviewbutton-iconic"
                           label="&appMenuRemoteTabs.sidebar.label;"
                           label-checked="&appMenuRemoteTabs.hidesidebar.label;"
                           label-unchecked="&appMenuRemoteTabs.sidebar.label;"
                           oncommand="SidebarUI.toggle('viewTabsSidebar', this);"/>
            <toolbarbutton id="PanelUI-remotetabs-view-managedevices"
                           class="subviewbutton subviewbutton-iconic"
                           label="&appMenuRemoteTabs.managedevices.label;"
                           oncommand="gSync.openDevicesManagementPage('syncedtabs-menupanel');">
                           <observes element="sidebar-box" attribute="positionend"/>
            </toolbarbutton>
            <toolbarbutton id="PanelUI-remotetabs-syncnow"
                           data-l10n-id="fxa-toolbar-sync-now"
                           syncinglabel="fxa-toolbar-sync-syncing-tabs"
                           class="syncNowBtn subviewbutton subviewbutton-iconic"
                           oncommand="gSync.doSync();"
                           onmouseover="gSync.refreshSyncButtonsTooltip();"
                           closemenu="none"/>
            <menuseparator id="PanelUI-remotetabs-separator"/>
          </vbox>
          <deck id="PanelUI-remotetabs-deck">
            <!-- Sync is ready to Sync and the "tabs" engine is enabled -->
            <vbox id="PanelUI-remotetabs-tabspane">
              <vbox id="PanelUI-remotetabs-tabslist"
                    showAllLabel="&appMenuRemoteTabs.showAll.label;"
                    showAllTooltipText="&appMenuRemoteTabs.showAll.tooltip;"
                    showMoreLabel="&appMenuRemoteTabs.showMore.label;"
                    showMoreTooltipText="&appMenuRemoteTabs.showMore.tooltip;"
                    notabsforclientlabel="&appMenuRemoteTabs.notabs.label;"
                    />
            </vbox>
            <!-- Sync is ready to Sync but the "tabs" engine isn't enabled-->
            <hbox id="PanelUI-remotetabs-tabsdisabledpane" pack="center" flex="1">
              <vbox class="PanelUI-remotetabs-instruction-box" align="center">
                <hbox pack="center">
                  <image class="fxaSyncIllustrationIssue"/>
                </hbox>
                <label class="PanelUI-remotetabs-instruction-label">&appMenuRemoteTabs.tabsnotsyncing.label;</label>
                <hbox pack="center">
                  <toolbarbutton class="PanelUI-remotetabs-button"
                                 label="&appMenuRemoteTabs.opensyncprefs.label;"
                                 oncommand="gSync.openPrefs('synced-tabs');"/>
                </hbox>
              </vbox>
            </hbox>
            <!-- Sync is ready to Sync but we are still fetching the tabs to show -->
            <vbox id="PanelUI-remotetabs-fetching">
              <!-- Show intentionally blank panel, see bug 1239845 -->
            </vbox>
            <!-- Sync has only 1 (ie, this) device connected -->
            <hbox id="PanelUI-remotetabs-nodevicespane" pack="center" flex="1">
              <vbox class="PanelUI-remotetabs-instruction-box" align="center">
                <hbox pack="center">
                  <image class="fxaSyncIllustrationIssue"/>
                </hbox>
                <label class="PanelUI-remotetabs-instruction-label">&appMenuRemoteTabs.noclients.subtitle;</label>
                <toolbarbutton id="PanelUI-remotetabs-connect-device-button"
                               class="PanelUI-remotetabs-button"
                               label="&appMenuRemoteTabs.connectdevice.label;"
                               oncommand="gSync.openConnectAnotherDevice('synced-tabs');"/>
              </vbox>
            </hbox>
          </deck>
        </vbox>
        <!-- a box to ensure contained boxes are centered horizonally -->
        <hbox pack="center" flex="1">
          <!-- When Sync is not configured -->
          <vbox id="PanelUI-remotetabs-setupsync"
                flex="1"
                align="center"
                class="PanelUI-remotetabs-instruction-box"
                hidden="true">
            <image class="fxaSyncIllustration"/>
            <label class="PanelUI-remotetabs-instruction-label">&appMenuRemoteTabs.welcome.label;</label>
            <toolbarbutton class="PanelUI-remotetabs-button"
                           label="&appMenuRemoteTabs.signintosync.label;"
                           oncommand="gSync.openPrefs('synced-tabs');"/>
          </vbox>
          <!-- When Sync is not enabled -->
          <vbox id="PanelUI-remotetabs-syncdisabled"
                flex="1"
                align="center"
                class="PanelUI-remotetabs-instruction-box"
                hidden="true">
            <image class="fxaSyncIllustration"/>
            <label class="PanelUI-remotetabs-instruction-label">&appMenuRemoteTabs.welcome.label;</label>
            <toolbarbutton class="PanelUI-remotetabs-button"
                           label="&appMenuRemoteTabs.turnonsync.label;"
                           oncommand="gSync.openPrefs('synced-tabs');"/>
          </vbox>
          <!-- When Sync needs re-authentication -->
          <vbox id="PanelUI-remotetabs-reauthsync"
                flex="1"
                align="center"
                class="PanelUI-remotetabs-instruction-box"
                hidden="true">
            <image class="fxaSyncIllustrationIssue"/>
            <label class="PanelUI-remotetabs-instruction-label">&appMenuRemoteTabs.welcome.label;</label>
            <toolbarbutton class="PanelUI-remotetabs-button"
                           label="&appMenuRemoteTabs.signintosync.label;"
                           oncommand="gSync.openPrefs('synced-tabs');"/>
          </vbox>
          <!-- When Sync needs verification -->
          <vbox id="PanelUI-remotetabs-unverified"
                flex="1"
                align="center"
                class="PanelUI-remotetabs-instruction-box"
                hidden="true">
            <image class="fxaSyncIllustrationIssue"/>
            <label class="PanelUI-remotetabs-instruction-label">&appMenuRemoteTabs.unverified.label;</label>
            <toolbarbutton class="PanelUI-remotetabs-button"
                           label="&appMenuRemoteTabs.opensyncprefs.label;"
                           oncommand="gSync.openPrefs('synced-tabs');"/>
          </vbox>
        </hbox>
      </vbox>
    </panelview>

    <panelview id="PanelUI-bookmarks" flex="1" class="PanelUI-subView">
      <vbox class="panel-subview-body">
        <toolbarbutton id="panelMenuBookmarkThisPage"
                       class="subviewbutton subviewbutton-iconic"
                       command="Browser:AddBookmarkAs"
                       onclick="PanelUI.hide();"/>
        <toolbarbutton id="panelMenu_bookmarkingTools"
                       label="&bookmarkingTools.label;"
                       class="subviewbutton subviewbutton-iconic subviewbutton-nav"
                       closemenu="none"
                       oncommand="BookmarkingUI.showBookmarkingTools(this);"/>
        <toolbarbutton id="panelMenu_searchBookmarks"
                       label="&searchBookmarks.label;"
                       class="subviewbutton subviewbutton-iconic"
                       oncommand="PlacesCommandHook.searchBookmarks(); PanelUI.hide();"/>
        <toolbarseparator/>
        <label id="panelMenu_recentBookmarks"
               value="&recentBookmarks.label;"
               class="subview-subheader"/>
        <toolbaritem id="panelMenu_bookmarksMenu"
                     orient="vertical"
                     smoothscroll="false"
                     flatList="true"
                     tooltip="bhTooltip">
          <!-- bookmarks menu items will go here -->
        </toolbaritem>
      </vbox>
      <toolbarbutton id="panelMenu_showAllBookmarks"
                     label="&showAllBookmarks2.label;"
                     class="subviewbutton panel-subview-footer"
                     command="Browser:ShowAllBookmarks"
                     onclick="PanelUI.hide();"/>
    </panelview>

    <panelview id="PanelUI-containers" flex="1">
      <vbox id="PanelUI-containersItems"/>
    </panelview>

    <panelview id="PanelUI-helpView" flex="1" class="PanelUI-subView">
      <vbox id="PanelUI-helpItems" class="panel-subview-body"/>
    </panelview>

    <panelview id="PanelUI-developer" flex="1">
      <vbox id="PanelUI-developerItems" class="panel-subview-body"/>
    </panelview>

    <panelview id="PanelUI-profiler" flex="1"/>

    <panelview id="PanelUI-characterEncodingView" flex="1">
      <vbox class="panel-subview-body">
        <vbox id="PanelUI-characterEncodingView-pinned"
              class="PanelUI-characterEncodingView-list"/>
        <toolbarseparator/>
        <vbox id="PanelUI-characterEncodingView-charsets"
              class="PanelUI-characterEncodingView-list"/>
        <toolbarseparator/>
        <vbox>
          <label id="PanelUI-characterEncodingView-autodetect-label"/>
          <vbox id="PanelUI-characterEncodingView-autodetect"
                class="PanelUI-characterEncodingView-list"/>
        </vbox>
      </vbox>
    </panelview>

    <panelview id="PanelUI-panicView" flex="1"
               descriptionheightworkaround="true">
      <!-- This is constructed in CustomizableWidgets.jsm -->
    </panelview>

    <panelview id="appMenu-moreView" title="&moreMenu.label;" class="PanelUI-subView">
      <vbox class="panel-subview-body">
        <toolbarbutton id="appMenu-taskmanager-button"
                       class="subviewbutton subviewbutton-iconic"
                       label="&taskManagerCmd.label;"
                       oncommand="switchToTabHavingURI('about:performance', true)"/>
        <toolbarbutton id="appMenu-characterencoding-button"
                       class="subviewbutton subviewbutton-nav"
                       label="&charsetMenu2.label;"
                       closemenu="none"
                       oncommand="PanelUI.showSubView('PanelUI-characterEncodingView', this)"/>
        <toolbarbutton id="appMenu-workoffline-button"
                       class="subviewbutton"
                       data-l10n-id="menu-file-go-offline"
                       type="checkbox"
                       command="cmd_toggleOfflineStatus"/>
      </vbox>
    </panelview>
    <panelview id="appMenu-libraryView" class="PanelUI-subView">
      <vbox class="panel-subview-body">
        <toolbarbutton id="appMenu-library-bookmarks-button"
                       class="subviewbutton subviewbutton-iconic subviewbutton-nav"
                       label="&bookmarksSubview.label;"
                       closemenu="none"
                       oncommand="BookmarkingUI.showSubView(this);"/>
        <toolbarbutton id="appMenu-library-pocket-button"
                       class="subviewbutton subviewbutton-iconic"
                       label="&pocketMenuitem.label;"
                       oncommand="Pocket.openList(event)"/>
        <toolbarbutton id="appMenu-library-history-button"
                       class="subviewbutton subviewbutton-iconic subviewbutton-nav"
                       label="&historyMenu.label;"
                       closemenu="none"
                       oncommand="PanelUI.showSubView('PanelUI-history', this)"/>
        <toolbarbutton id="appMenu-library-downloads-button"
                       class="subviewbutton subviewbutton-iconic subviewbutton-nav"
                       label="&libraryDownloads.label;"
                       closemenu="none"
                       oncommand="DownloadsSubview.show(this);"/>
        <toolbarbutton id="appMenu-library-remotetabs-button"
                       class="subviewbutton subviewbutton-iconic subviewbutton-nav sync-ui-item"
                       label="&appMenuRemoteTabs.label;"
                       closemenu="none"
                       oncommand="PanelUI.showSubView('PanelUI-remotetabs', this)"/>
        <toolbarseparator hidden="true"/>
        <label value="&appMenuRecentHighlights.label;"
               hidden="true"
               class="subview-subheader"/>
        <toolbaritem id="appMenu-library-recentHighlights"
                     hidden="true"
                     orient="vertical"
                     smoothscroll="false"
                     flatList="true"
                     tooltip="bhTooltip">
          <!-- Recent Highlights will go here -->
        </toolbaritem>
      </vbox>
    </panelview>

    <panelview id="PanelUI-fxa" title="&fxa.menu.account.label;" class="PanelUI-subView" descriptionheightworkaround="true">
      <vbox id="PanelUI-fxa-menu" class="panel-subview-body">
        <toolbarbutton id="fxa-manage-account-button" flex="1"
                       align="center"
                       class="fxa-menu-header subviewbutton"
                       oncommand="gSync.clickFxAMenuHeaderButton(this);">
          <image role="presentation" id="fxa-menu-avatar"/>
          <vbox flex="1">
            <label id="fxa-menu-header-title"
                   defaultLabel="&fxa.menu.signin.label;">&fxa.menu.signin.label;</label>
            <label id="fxa-menu-header-description"
                   crop="end"
                   defaultLabel="&fxa.menu.turnOnSync.label;">&fxa.menu.turnOnSync.label;</label>
          </vbox>
        </toolbarbutton>
        <toolbarseparator/>
        <toolbarbutton id="PanelUI-fxa-menu-sendtab-button"
                        class="subviewbutton subviewbutton-iconic subviewbutton-nav"
                        closemenu="none"
                        oncommand="gSync.showSendToDeviceViewFromFxaMenu(this);"/>
        <toolbarseparator/>
        <!-- The `Connect Another Device` button is disabled by default until the user logs into Sync. -->
        <toolbarbutton id="PanelUI-fxa-menu-connect-device-button"
                        class="subviewbutton subviewbutton-iconic"
                        label="&fxa.menu.connectAnotherDevice2.label;"
                        disabled="true"
                        oncommand="gSync.openConnectAnotherDeviceFromFxaMenu(this);"/>
        <toolbarseparator/>
        <!-- The `Sync Now` button is hidden by default until the user logs into Sync. -->
        <toolbarbutton id="PanelUI-fxa-menu-syncnow-button"
                        data-l10n-id="fxa-toolbar-sync-now"
                        syncinglabel="fxa-toolbar-sync-syncing"
                        hidden="true"
                        class="syncNowBtn subviewbutton subviewbutton-iconic"
                        onmouseover="gSync.refreshSyncButtonsTooltip();"
                        oncommand="gSync.doSyncFromFxaMenu(this);"
                        closemenu="none"/>
        <toolbarbutton id="PanelUI-fxa-menu-setup-sync-button"
                        class="subviewbutton subviewbutton-iconic"
                        label="&fxa.menu.setupSync.label;"
                        oncommand="gSync.openPrefsFromFxaMenu('sync_settings', this);"/>
        <toolbarbutton id="PanelUI-fxa-menu-remotetabs-button"
                        class="subviewbutton subviewbutton-iconic subviewbutton-nav"
                        label="&appMenuRemoteTabs.label;"
                        closemenu="none"
                        oncommand="gSync.showRemoteTabsFromFxaMenu(this);"/>
        <toolbarbutton id="PanelUI-fxa-menu-sync-prefs-button"
                        class="subviewbutton subviewbutton-iconic"
                        label="&fxa.menu.syncSettings2.label;"
                        hidden="true"
                        oncommand="gSync.openPrefsFromFxaMenu('sync_settings', this);"/>
        <toolbarseparator/>
        <toolbarbutton id="PanelUI-fxa-menu-logins-button"
                        class="subviewbutton subviewbutton-iconic"
                        label="&logins.label;"
                        oncommand="LoginHelper.openPasswordManager(window, { entryPoint: 'fxamenu' })"/>
        <toolbarseparator id="fxa-menu-service-separator"/>
        <label id="fxa-menu-service-label"
               value="&fxa.menu.firefoxServices.label;"
               class="subview-subheader"/>
        <toolbarbutton id="PanelUI-fxa-menu-monitor-button"
                       class="subviewbutton subviewbutton-iconic"
                       label="&monitorFullName;"
                       type="open-to-new"
                       oncommand="gSync.openMonitorFromFxaMenu(this);"/>
        <toolbarbutton id="PanelUI-fxa-menu-send-button"
                       class="subviewbutton subviewbutton-iconic"
                       label="&sendFullName;"
                       type="open-to-new"
                       oncommand="gSync.openSendFromFxaMenu(this);"/>
      </vbox>
    </panelview>

    <panelview id="PanelUI-fxa-menu-account-panel" flex="1" title="&fxa.menu.settings.label;" class="PanelUI-subView" descriptionheightworkaround="true">
      <vbox class="panel-subview-body">
        <toolbarbutton id="PanelUI-fxa-menu-account-settings-button"
                      class="subviewbutton subviewbutton-iconic"
                      label="&fxa.menu.accountSettings.label;"
                      type="open-to-new"
                      oncommand="gSync.openFxAManagePageFromFxaMenu(this)"/>
        <toolbarseparator/>
        <label id="fxa-menu-device-name-label" class="subview-subheader"/>
        <toolbarbutton id="PanelUI-fxa-menu-account-devices-button"
                       class="subviewbutton subviewbutton-iconic"
                       label="&fxa.menu.deviceSettings.label;"
                       oncommand="gSync.openPrefsFromFxaMenu('sync_settings', this);"/>
        <toolbarseparator/>
        <toolbarbutton id="PanelUI-fxa-menu-account-signout-button"
                class="subviewbutton subviewbutton-iconic"
                label="&fxa.menu.signOut.label;"
                oncommand="gSync.disconnect();"/>
      </vbox>
    </panelview>
    <!-- This panelview is used to contain the dynamically created buttons for send tab to devices -->
    <panelview id="PanelUI-sendTabToDevice" flex="1" class="PanelUI-subView">
      <vbox class="panel-subview-body">
        <toolbarbutton id="PanelUI-sendTabToDevice-syncingDevices" class="subviewbutton subviewbutton-iconic pageAction-sendToDevice-notReady"
                       label="&sendToDevice.syncNotReady.label;"
                       disabled="true"/>
      </vbox>
    </panelview>
    <panelview id="PanelUI-fxa-menu-sendtab-not-configured" flex="1" class="PanelUI-subView">
      <vbox id="PanelUI-fxa-sendtab-not-configured" align="center" class="panel-subview-body">
        <image class="fxaSendToDeviceLogo" role="presentation"/>
        <label class="PanelUI-fxa-service-description-label">&fxa.service.sendTab.description;</label>
        <toolbarbutton id="PanelUI-fxa-menu-sendtab-not-configured-button"
                       class="PanelUI-fxa-signin-button"
                       label="&fxa.menu.signin.label;"
                       oncommand="gSync.openPrefsFromFxaMenu('send_tab', this);"/>
      </vbox>
    </panelview>
    <panelview id="PanelUI-fxa-menu-sendtab-no-devices" flex="1" class="PanelUI-subView">
      <vbox id="PanelUI-fxa-sendtab-no-devices" align="center" class="panel-subview-body">
        <image class="fxaSendToDeviceLogo" role="presentation"/>
        <label class="PanelUI-fxa-service-description-label">&fxa.service.sendTab.description;</label>
        <toolbarbutton id="PanelUI-fxa-menu-sendtab-connect-device-button"
                       class="PanelUI-fxa-signin-button"
                       label="&appMenuRemoteTabs.connectdevice.label;"
                       oncommand="gSync.openConnectAnotherDeviceFromFxaMenu(this);"/>
      </vbox>
    </panelview>

    <panelview id="PanelUI-bookmarkingTools" class="PanelUI-subView">
      <vbox class="panel-subview-body">
        <toolbarbutton id="panelMenu_toggleBookmarksMenu"
                       class="subviewbutton subviewbutton-iconic"
                       label-show="&addBookmarksMenu.label;"
                       label-hide="&removeBookmarksMenu.label;"
                       oncommand="BookmarkingUI.toggleMenuButtonInToolbar(this);"/>
        <toolbarbutton id="panelMenu_viewBookmarksSidebar"
                       class="subviewbutton subviewbutton-iconic"
                       label-show="&viewBookmarksSidebar2.label;"
                       label-hide="&hideBookmarksSidebar.label;"
                       key="viewBookmarksSidebarKb"
                       oncommand="SidebarUI.toggle('viewBookmarksSidebar', this);">
                       <observes element="sidebar-box" attribute="positionend"/>
        </toolbarbutton>
        <toolbarbutton id="panelMenu_viewBookmarksToolbar"
                       class="subviewbutton subviewbutton-iconic"
                       label-show="&viewBookmarksToolbar.label;"
                       label-hide="&hideBookmarksToolbar.label;"
                       oncommand="BookmarkingUI.toggleBookmarksToolbar();"/>
      </vbox>
    </panelview>

    <panelview id="PanelUI-whatsNew" class="PanelUI-subView">
      <vbox class="panel-subview-body">
        <toolbaritem id="PanelUI-whatsNew-content"
                     orient="vertical"
                     smoothscroll="false">
          <html:div id="PanelUI-whatsNew-message-container" role="document">
            <!-- What's New messages will be rendered here -->
          </html:div>
        </toolbaritem>
      </vbox>
    </panelview>
  </panelmultiview>
</panel>

<panel id="downloads-button-autohide-panel"
       role="group"
       type="arrow"
       hidden="true"
       onpopupshown="gCustomizeMode._downloadPanelAutoHideTimeout = setTimeout(() => event.target.hidePopup(), 4000);"
       onmouseover="clearTimeout(gCustomizeMode._downloadPanelAutoHideTimeout);"
       onmouseout="gCustomizeMode._downloadPanelAutoHideTimeout = setTimeout(() => event.target.hidePopup(), 2000);"
       onpopuphidden="clearTimeout(gCustomizeMode._downloadPanelAutoHideTimeout);"
       >
  <checkbox id="downloads-button-autohide-checkbox"
            label="&customizeMode.autoHideDownloadsButton.label;" checked="true"
            oncommand="gCustomizeMode.onDownloadsAutoHideChange(event)"/>
</panel>

<panel id="extension-notification-panel"
       class="popup-notification-panel panel-no-padding"
       role="group"
       type="arrow"
       hidden="true"
       flip="slide"
       position="bottomcenter topright"
       tabspecific="true">
  <popupnotification id="extension-new-tab-notification"
                     class="extension-controlled-notification"
                     popupid="extension-new-tab"
                     hidden="true"
                     label="&newTabControlled.header.message;"
                     buttonlabel="&newTabControlled.keepButton.label;"
                     buttonaccesskey="&newTabControlled.keepButton.accesskey;"
                     secondarybuttonlabel="&newTabControlled.disableButton.label;"
                     secondarybuttonaccesskey="&newTabControlled.disableButton.accesskey;"
                     closebuttonhidden="true"
                     dropmarkerhidden="true"
                     checkboxhidden="true">
    <popupnotificationcontent orient="vertical">
      <description id="extension-new-tab-notification-description"/>
    </popupnotificationcontent>
  </popupnotification>
  <popupnotification id="extension-homepage-notification"
                     class="extension-controlled-notification"
                     popupid="extension-homepage"
                     hidden="true"
                     label="&homepageControlled.header.message;"
                     buttonlabel="&homepageControlled.keepButton.label;"
                     buttonaccesskey="&homepageControlled.keepButton.accesskey;"
                     secondarybuttonlabel="&homepageControlled.disableButton.label;"
                     secondarybuttonaccesskey="&homepageControlled.disableButton.accesskey;"
                     closebuttonhidden="true"
                     dropmarkerhidden="true"
                     checkboxhidden="true">
    <popupnotificationcontent orient="vertical">
      <description id="extension-homepage-notification-description"/>
    </popupnotificationcontent>
  </popupnotification>
  <popupnotification id="extension-tab-hide-notification"
                     class="extension-controlled-notification"
                     popupid="extension-tab-hide"
                     hidden="true"
                     label="&tabHideControlled.header.message;"
                     buttonlabel="&tabHideControlled.keepButton.label;"
                     buttonaccesskey="&tabHideControlled.keepButton.accesskey;"
                     secondarybuttonlabel="&tabHideControlled.disableButton.label;"
                     secondarybuttonaccesskey="&tabHideControlled.disableButton.accesskey;"
                     closebuttonhidden="true"
                     dropmarkerhidden="true"
                     checkboxhidden="true">
    <popupnotificationcontent orient="vertical">
      <description id="extension-tab-hide-notification-description"/>
    </popupnotificationcontent>
  </popupnotification>
</panel>
<!-- This Source Code Form is subject to the terms of the Mozilla Public
   - License, v. 2.0. If a copy of the MPL was not distributed with this
   - file, You can obtain one at http://mozilla.org/MPL/2.0/. -->

<panel id="identity-popup"
       class="panel-no-padding"
       type="arrow"
       hidden="true"
       role="alertdialog"
       aria-labelledby="identity-popup-mainView-panel-header-span"
       onpopupshown="gIdentityHandler.onPopupShown(event);"
       onpopuphidden="gIdentityHandler.onPopupHidden(event);"
       orient="vertical">

  <panelmultiview id="identity-popup-multiView"
                  mainViewId="identity-popup-mainView">
    <panelview id="identity-popup-mainView"
               role="document"
               descriptionheightworkaround="true">
      <vbox id="identity-popup-mainView-panel-header">
        <label>
          <html:span id="identity-popup-mainView-panel-header-span" role="heading" aria-level="1"/>
        </label>
      </vbox>

      <!-- Security Section -->
      <hbox id="identity-popup-security" class="identity-popup-section">
        <vbox class="identity-popup-security-content" flex="1">

          <vbox class="identity-popup-security-connection">
            <description class="identity-popup-connection-not-secure"
                         when-connection="not-secure secure-cert-user-overridden secure-custom-root cert-error-page">&identity.connectionNotSecure2;</description>
            <description class="identity-popup-connection-secure"
                         when-connection="secure secure-ev">&identity.connectionSecure3;</description>
            <description when-connection="chrome">&identity.connectionInternal;</description>
            <description when-connection="file">&identity.connectionFile;</description>
            <description when-connection="extension">&identity.extensionPage;</description>
          </vbox>

          <vbox id="identity-popup-security-description">
            <description id="identity-popup-security-ev-content-owner"
                         when-connection="secure-ev"/>
            <description class="identity-popup-warning-box identity-popup-warning-gray"
                         when-mixedcontent="active-blocked">&identity.activeBlocked;</description>
            <description id="identity-popup-security-decription-custom-root"
                         class="identity-popup-warning-box identity-popup-warning-gray"
                         when-customroot="true">&identity.customRoot;</description>
            <description class="identity-popup-warning-box identity-popup-warning-yellow"
                         when-mixedcontent="passive-loaded">&identity.passiveLoaded;</description>
            <description class="identity-popup-warning-box identity-popup-warning-yellow"
                         when-mixedcontent="active-loaded">&identity.activeLoaded;</description>
            <description class="identity-popup-warning-box identity-popup-warning-yellow"
                         when-ciphers="weak">&identity.weakEncryption;</description>
            <description class="identity-popup-warning-box identity-popup-warning-yellow"
                         when-loginforms="insecure">&identity.insecureLoginForms2;</description>
          </vbox>
        </vbox>
        <button id="identity-popup-security-expander"
                class="identity-popup-expander"
                when-connection="not-secure secure secure-ev secure-cert-user-overridden cert-error-page"
                oncommand="gIdentityHandler.showSecuritySubView();"/>
      </hbox>

      <!-- Permissions Section -->
      <hbox class="identity-popup-section"
            when-connection="not-secure secure secure-ev secure-cert-user-overridden file extension cert-error-page">
        <vbox id="identity-popup-permissions-content" flex="1" role="group"
              aria-labelledby="identity-popup-permissions-headline">
          <hbox id="identity-popup-permissions-header" align="center">
            <label id="identity-popup-permissions-headline"
                   role="heading" aria-level="2"
                   value="&identity.permissions3;"/>
          </hbox>
          <vbox id="identity-popup-permission-list"/>
          <description id="identity-popup-permission-reload-hint">&identity.permissionsReloadHint;</description>
          <description id="identity-popup-permission-empty-hint">&identity.permissionsEmpty;</description>
        </vbox>
      </hbox>

      <!-- Clear Site Data Button -->
      <vbox hidden="true"
            id="identity-popup-clear-sitedata-footer"
            class="panel-footer">
        <button id="identity-popup-clear-sitedata-button"
                label="&identity.clearSiteData;"
                oncommand="gIdentityHandler.clearSiteData(event);"/>
      </vbox>
    </panelview>

    <!-- Security SubView -->
    <panelview id="identity-popup-securityView"
               role="document"
               descriptionheightworkaround="true">
      <vbox class="identity-popup-security-content">
        <vbox class="identity-popup-security-connection">
          <description class="identity-popup-connection-not-secure"
                       when-connection="not-secure secure-cert-user-overridden cert-error-page">&identity.connectionNotSecureSecurityView;</description>
          <description class="identity-popup-connection-secure"
                       when-connection="secure secure-ev">&identity.connectionVerified3;</description>
        </vbox>
      </vbox>

      <vbox id="identity-popup-securityView-body" class="panel-view-body-unscrollable">
        <!-- (EV) Certificate Information -->
        <description id="identity-popup-content-owner-label"
                     when-connection="secure-ev">&identity.evOwnerLabel2;</description>
        <description id="identity-popup-content-owner"
                     when-connection="secure-ev"
                     class="header"/>
        <description id="identity-popup-content-supplemental"
                     when-connection="secure-ev"/>
        <description id="identity-popup-content-verifier"
                     when-connection="secure secure-ev secure-cert-user-overridden"/>
        <description id="identity-popup-content-verifier-unknown"
                     class="identity-popup-warning-box identity-popup-warning-gray"
                     when-customroot="true">&identity.description.customRoot; <label id="identity-popup-custom-root-learn-more" is="text-link" class="plain" value="&identity.learnMore;"/></description>

        <!-- Remove Certificate Exception -->
        <button when-connection="secure-cert-user-overridden"
                label="&identity.removeCertException.label;"
                accesskey="&identity.removeCertException.accesskey;"
                class="panel-button"
                oncommand="gIdentityHandler.removeCertException()"/>

        <!-- Connection is Not Secure -->
        <description when-connection="not-secure cert-error-page"
                     and-when-loginforms="secure">&identity.description.insecure;</description>

        <!-- Insecure login forms -->
        <description when-loginforms="insecure">&identity.description.insecureLoginForms;</description>
        <label when-loginforms="insecure" id="identity-popup-insecure-login-forms-learn-more" is="text-link" value="&identity.learnMore;"/>

        <!-- Weak Cipher -->
        <description when-ciphers="weak">&identity.description.weakCipher;</description>
        <description class="identity-popup-warning-box identity-popup-warning-yellow"
                     when-ciphers="weak">&identity.description.weakCipher2;</description>

        <!-- Active Mixed Content Blocked -->
        <description class="identity-popup-warning-box identity-popup-warning-gray"
                     when-mixedcontent="active-blocked">&identity.description.activeBlocked; <label is="text-link" class="identity-popup-mcb-learn-more plain" value="&identity.learnMore;"/></description>

        <!-- Passive Mixed Content Loaded -->
        <description when-mixedcontent="passive-loaded">&identity.description.passiveLoaded;</description>
        <description class="identity-popup-warning-box identity-popup-warning-yellow"
                     when-mixedcontent="passive-loaded">&identity.description.passiveLoaded2; <label is="text-link" class="identity-popup-mcb-learn-more plain" value="&identity.learnMore;"/></description>

        <!-- Passive Mixed Content Loaded, Active Mixed Content Blocked -->
        <description when-mixedcontent="passive-loaded active-blocked">&identity.description.passiveLoaded;</description>
        <description when-mixedcontent="passive-loaded active-blocked"
                     class="identity-popup-warning-box identity-popup-warning-yellow">&identity.description.passiveLoaded3; <label is="text-link" class="identity-popup-mcb-learn-more plain" value="&identity.learnMore;"/></description>

        <!-- Active Mixed Content Blocking Disabled -->
        <description when-mixedcontent="active-loaded"
                     and-when-loginforms="secure">&identity.description.activeLoaded;</description>
        <description when-mixedcontent="active-loaded"
                     and-when-loginforms="secure">&identity.description.activeLoaded2;</description>
        <label when-mixedcontent="active-loaded"
                     and-when-loginforms="secure" is="text-link" class="identity-popup-mcb-learn-more" value="&identity.learnMore;"/>
        <!-- Show only the first message when there are insecure login forms,
             and make sure the Learn More link is included. -->
        <description when-mixedcontent="active-loaded"
                     and-when-loginforms="insecure">&identity.description.activeLoaded;</description>
        <label when-mixedcontent="active-loaded"
                     and-when-loginforms="insecure" is="text-link" class="identity-popup-mcb-learn-more" value="&identity.learnMore;"/>

        <!-- Buttons to enable/disable mixed content blocking. -->
        <button when-mixedcontent="active-blocked"
                label="&identity.disableMixedContentBlocking.label;"
                accesskey="&identity.disableMixedContentBlocking.accesskey;"
                class="panel-button"
                oncommand="gIdentityHandler.disableMixedContentProtection()"/>
        <button when-mixedcontent="active-loaded"
                label="&identity.enableMixedContentBlocking.label;"
                accesskey="&identity.enableMixedContentBlocking.accesskey;"
                class="panel-button"
                oncommand="gIdentityHandler.enableMixedContentProtection()"/>
      </vbox>

      <vbox id="identity-popup-more-info-footer" class="panel-footer">
        <!-- More Security Information -->
        <button id="identity-popup-more-info"
                label="&identity.moreInfoLinkText2;"
                oncommand="gIdentityHandler.handleMoreInfoClick(event);"/>
      </vbox>

    </panelview>
  </panelmultiview>
</panel>
<!-- This Source Code Form is subject to the terms of the Mozilla Public
   - License, v. 2.0. If a copy of the MPL was not distributed with this
   - file, You can obtain one at http://mozilla.org/MPL/2.0/. -->

<panel id="protections-popup"
       class="panel-no-padding"
       type="arrow"
       hidden="true"
       role="alertdialog"
       aria-labelledby="protections-popup-main-header-label"
       onpopupshowing="gProtectionsHandler.reorderCategoryItems()"
       onpopupshown="gProtectionsHandler.onPopupShown(event);"
       onpopuphidden="gProtectionsHandler.onPopupHidden(event);"
       orient="vertical">

  <panelmultiview id="protections-popup-multiView"
                  mainViewId="protections-popup-mainView">
    <panelview id="protections-popup-mainView"
               role="document"
               descriptionheightworkaround="true">
      <vbox id="protections-popup-mainView-panel-header-section">
        <hbox id="protections-popup-mainView-panel-header"
              onclick="gProtectionsHandler.onHeaderClicked(event);">
          <label id="protections-popup-main-header-label" flex="1"
                 role="heading" aria-level="1">
            <html:span id="protections-popup-mainView-panel-header-span"/>
          </label>
          <toolbarbutton id="protections-popup-info-button" class="panel-info-button"
                         aria-label="&protections.etpMoreInfo.label;">
            <image/>
          </toolbarbutton>
          <description id="protections-popup-toast-panel-tp-on-desc">&protections.etpON.header;</description>
          <description id="protections-popup-toast-panel-tp-off-desc">&protections.etpOFF.header;</description>
        </hbox>

        <html:div id="messaging-system-message-container" disabled="true">
          <!-- Messaging System Messages will render in this container -->
        </html:div>
      </vbox>

      <hbox id="protections-popup-tp-switch-section" class="protections-popup-section">
        <vbox class="protections-popup-tp-switch-label-box" flex="1">
          <label class="protections-popup-tp-switch-on-header"
                 role="heading"
                 aria-level="2">&protections.etpON.header;</label>
          <label class="protections-popup-tp-switch-off-header"
                 role="heading"
                 aria-level="2">&protections.etpOFF.header;</label>
          <label id="protections-popup-tp-switch-breakage-link"
                 class="text-link"
                 onclick="gProtectionsHandler.showSiteNotWorkingView(); gProtectionsHandler.recordClick('sitenotworking_link');">&protections.siteNotWorking.label;</label>
          <label id="protections-popup-tp-switch-breakage-fixed-link"
                 class="text-link"
                 onclick="gProtectionsHandler.showSendReportView(); gProtectionsHandler.recordClick('sitenotworking_link', 'sitefixed');"
                 data-l10n-id="protections-panel-sitefixedsendreport-label"></label>
        </vbox>
        <vbox class="protections-popup-tp-switch-box">
          <toolbarbutton id="protections-popup-tp-switch"
                         class="protections-popup-tp-switch"
                         enabled="false"
                         oncommand="gProtectionsHandler.onTPSwitchCommand();" />
        </vbox>
      </hbox>

      <!-- Tracking Protection Section -->
      <vbox id="tracking-protection-container" class="protections-popup-section">
        <description id="protections-popup-no-trackers-found-description">&protections.noTrackersFound.description;</description>
        <tooltip id="protections-popup-not-blocking-why-etp-on-tooltip">&protections.notBlocking.why.etpOn.tooltip;</tooltip>
        <tooltip id="protections-popup-not-blocking-why-etp-off-tooltip">&protections.notBlocking.why.etpOff2.tooltip;</tooltip>
        <vbox id="protections-popup-content" flex="1">
          <vbox id="protections-popup-category-list">
            <!-- wrap=true is needed for descriptionheightworkaround, see bug 1564077 -->
            <toolbarbutton id="protections-popup-category-tracking-protection"
                           oncommand="gProtectionsHandler.showTrackersSubview(event); gProtectionsHandler.recordClick('trackers');"
                           class="protections-popup-category" align="center"
                           wrap="true">
              <image class="protections-popup-category-icon tracking-protection-icon"/>
              <label flex="1" class="protections-popup-category-label">&contentBlocking.trackingProtection4.label;</label>
            </toolbarbutton>
            <!-- wrap=true is needed for descriptionheightworkaround, see bug 1564077 -->
            <toolbarbutton id="protections-popup-category-socialblock"
                           oncommand="gProtectionsHandler.showSocialblockerSubview(event); gProtectionsHandler.recordClick('social');"
                           class="protections-popup-category" align="center"
                           wrap="true">
              <image class="protections-popup-category-icon socialblock-icon"/>
              <label flex="1"
              class="protections-popup-category-label">&contentBlocking.socialblock.label;</label>
            </toolbarbutton>
            <!-- wrap=true is needed for descriptionheightworkaround, see bug 1564077 -->
            <toolbarbutton id="protections-popup-category-cookies"
                           oncommand="gProtectionsHandler.showCookiesSubview(event); gProtectionsHandler.recordClick('cookies');"
                           class="protections-popup-category" align="center"
                           wrap="true">
              <image class="protections-popup-category-icon thirdpartycookies-icon"/>
              <label flex="1" id="protections-popup-cookies-category-label"
                     class="protections-popup-category-label"/>
            </toolbarbutton>
            <!-- wrap=true is needed for descriptionheightworkaround, see bug 1564077 -->
            <toolbarbutton id="protections-popup-category-cryptominers"
                           oncommand="gProtectionsHandler.showCryptominersSubview(event); gProtectionsHandler.recordClick('cryptominers');"
                           class="protections-popup-category" align="center"
                           wrap="true">
              <image class="protections-popup-category-icon cryptominers-icon"/>
              <label flex="1" class="protections-popup-category-label">&contentBlocking.cryptominers.label;</label>
            </toolbarbutton>
            <!-- wrap=true is needed for descriptionheightworkaround, see bug 1564077 -->
            <toolbarbutton id="protections-popup-category-fingerprinters"
                           oncommand="gProtectionsHandler.showFingerprintersSubview(event); gProtectionsHandler.recordClick('fingerprinters');"
                           class="protections-popup-category" align="center"
                           wrap="true">
              <image class="protections-popup-category-icon fingerprinters-icon"/>
              <label flex="1" class="protections-popup-category-label">&contentBlocking.fingerprinters.label;</label>
            </toolbarbutton>
            <description id="protections-popup-blocking-section-header"
                         role="heading"
                         aria-level="2">&protections.blocking2.label;</description>
            <hbox id="protections-popup-not-blocking-section-header" flex="1">
              <description id="protections-popup-not-blocking-section-description" flex="1" role="heading" aria-level="2">&protections.notBlocking2.label;</description>
              <label id="protections-popup-not-blocking-section-why"
                     class="text-link"
                     onmouseover="document.getElementById(event.target.tooltip).openPopup(event.target);"
                     onfocus="document.getElementById(event.target.tooltip).openPopup(event.target);"
                     onmouseout="document.getElementById(event.target.tooltip).hidePopup()"
                     onblur="document.getElementById(event.target.tooltip).hidePopup()">&protections.notBlocking.why.label;</label>
            </hbox>
            <description id="protections-popup-not-found-section-header"
                         role="heading"
                         aria-level="2">&protections.notFound.label;</description>
          </vbox>
        </vbox>
      </vbox>

      <vbox id="protections-popup-footer" class="protections-popup-section">
        <!-- wrap=true is needed for descriptionheightworkaround, see bug 1564077 -->
        <toolbarbutton id="protections-popup-settings-button"
                       class="protections-popup-footer-button"
                       wrap="true"
                       oncommand="gProtectionsHandler.openPreferences(); gProtectionsHandler.recordClick('settings');">
          <image class="protections-popup-footer-icon protections-popup-settings-icon"/>
          <label class="protections-popup-footer-button-label" flex="1">&protections.settings.label;</label>
        </toolbarbutton>
        <stack id="protections-popup-show-report-stack">
          <!-- wrap=true is needed for descriptionheightworkaround, see bug 1564077 -->
          <toolbarbutton id="protections-popup-show-report-button"
                         class="protections-popup-footer-button"
                         wrap="true"
                         oncommand="gProtectionsHandler.openProtections(true); gProtectionsHandler.recordClick('full_report');">
            <image class="protections-popup-footer-icon protections-popup-show-report-icon"/>
            <label class="protections-popup-footer-button-label" flex="1">&protections.showreport.label;</label>
          </toolbarbutton>
          <hbox id="protections-popup-trackers-blocked-counter-box"
                align="center">
            <description id="protections-popup-trackers-blocked-counter-description"
                         onclick="gProtectionsHandler.openProtections(true);"/>
          </hbox>
        </stack>
      </vbox>

      <hbox id="protections-popup-milestones" class="protections-popup-section">
        <!-- wrap=true is needed for descriptionheightworkaround, see bug 1564077 -->
        <toolbarbutton id="protections-popup-milestones-content"
                       flex="1"
                       wrap="true"
                       oncommand="gProtectionsHandler.openProtections(true);">
          <description id="protections-popup-milestones-text" flex="1"
                       role="heading" aria-level="2"/>
          <image id="protections-popup-milestones-illustration"/>
        </toolbarbutton>
      </hbox>
    </panelview>

    <!-- Site Not Working? SubView -->
    <panelview id="protections-popup-siteNotWorkingView"
               role="document"
               title="&protections.siteNotWorkingView.title;"
               descriptionheightworkaround="true"
               flex="1">
        <hbox id="protections-popup-siteNotWorkingView-header">
          <vbox class="protections-popup-tp-switch-label-box" flex="1">
            <label class="protections-popup-tp-switch-on-header"
                   role="heading"
                   aria-level="1">&protections.etpON.header;</label>
            <label class="protections-popup-tp-switch-off-header"
                   role="heading"
                   aria-level="1">&protections.etpOFF.header;</label>
          </vbox>
          <vbox class="protections-popup-tp-switch-box">
            <toolbarbutton id="protections-popup-siteNotWorking-tp-switch"
                           class="protections-popup-tp-switch"
                           enabled="false"
                           oncommand="gProtectionsHandler.onTPSwitchCommand();" />
          </vbox>
        </hbox>
        <vbox id="protections-popup-siteNotWorkingView-body">
          <label role="heading" aria-level="2">&protections.siteNotWorkingView.header;</label>
          <label>
            <html:ul id="protections-popup-siteNotWorkingView-body-issue-list">
              <html:li>&protections.siteNotWorkingView.issueList.logInFields;</html:li>
              <html:li>&protections.siteNotWorkingView.issueList.forms;</html:li>
              <html:li>&protections.siteNotWorkingView.issueList.payments;</html:li>
              <html:li>&protections.siteNotWorkingView.issueList.comments;</html:li>
              <html:li>&protections.siteNotWorkingView.issueList.videos;</html:li>
            </html:ul>
          </label>
          <label id="protections-popup-siteNotWorkingView-sendReport"
            onclick="gProtectionsHandler.showSendReportView(); gProtectionsHandler.recordClick('send_report_link');"
            class="text-link">&protections.siteNotWorkingView.sendReport.label;</label>
        </vbox>
    </panelview>

    <!-- Trackers SubView -->
    <panelview id="protections-popup-trackersView"
               role="document"
               descriptionheightworkaround="true">
        <vbox id="protections-popup-trackersView-description" class="protections-popup-description">
          <description>&protections.trackingContent2.description;</description>
        </vbox>
        <vbox id="protections-popup-trackersView-list" class="protections-popup-list">
        </vbox>
        <vbox class="panel-footer">
          <button id="protections-popup-trackersView-settings-button"
                  label="&contentBlocking.manageSettings2.label;"
                  accesskey="&contentBlocking.manageSettings2.accesskey;"
                  oncommand="gProtectionsHandler.openPreferences(); gProtectionsHandler.recordClick('subview_settings', 'trackers');"/>
        </vbox>
    </panelview>

    <!-- Social Block SubView -->
    <panelview id="protections-popup-socialblockView"
               role="document"
               descriptionheightworkaround="true">
        <vbox id="protections-popup-socialblockView-heading" class="protections-popup-description">
          <description>&protections.socialMediaTrackers.description;</description>
        </vbox>
        <vbox id="protections-popup-socialblockView-list" class="protections-popup-list">
        </vbox>
        <vbox class="panel-footer">
          <button id="protections-popup-socialblockView-settings-button"
                  label="&contentBlocking.manageSettings2.label;"
                  accesskey="&contentBlocking.manageSettings2.accesskey;"
                  oncommand="gProtectionsHandler.openPreferences(); gProtectionsHandler.recordClick('subview_settings', 'social');"/>
        </vbox>
    </panelview>

    <!-- Cookies SubView -->
    <panelview id="protections-popup-cookiesView"
               role="document"
               descriptionheightworkaround="true">
        <vbox id="protections-popup-cookiesView-heading" class="protections-popup-description">
          <description>&protections.crossSiteTrackingCookies.description;</description>
        </vbox>
        <vbox id="protections-popup-cookiesView-list" class="protections-popup-list">
        </vbox>
        <vbox class="panel-footer">
          <button id="protections-popup-cookiesView-settings-button"
                  label="&contentBlocking.manageSettings2.label;"
                  accesskey="&contentBlocking.manageSettings2.accesskey;"
                  oncommand="gProtectionsHandler.openPreferences(); gProtectionsHandler.recordClick('subview_settings', 'cookies');"/>
        </vbox>
    </panelview>

    <!-- Fingerprinters SubView -->
    <panelview id="protections-popup-fingerprintersView"
               role="document"
               descriptionheightworkaround="true">
        <vbox id="protections-popup-fingerprinters-heading" class="protections-popup-description">
          <description>&protections.fingerprinters.description;</description>
        </vbox>
        <vbox id="protections-popup-fingerprintersView-list" class="protections-popup-list">
        </vbox>
        <vbox class="panel-footer">
          <button id="protections-popup-fingerprintersView-settings-button"
                  label="&contentBlocking.manageSettings2.label;"
                  accesskey="&contentBlocking.manageSettings2.accesskey;"
                  oncommand="gProtectionsHandler.openPreferences(); gProtectionsHandler.recordClick('subview_settings', 'fingerprinters');"/>
        </vbox>
    </panelview>

    <!-- Cryptominers SubView -->
    <panelview id="protections-popup-cryptominersView"
               role="document"
               descriptionheightworkaround="true">
        <vbox id="protections-popup-cryptominers-heading" class="protections-popup-description">
          <description>&protections.cryptominers.description;</description>
        </vbox>
        <vbox id="protections-popup-cryptominersView-list" class="protections-popup-list">
        </vbox>
        <vbox class="panel-footer">
          <button id="protections-popup-cryptominersView-settings-button"
                  label="&contentBlocking.manageSettings2.label;"
                  accesskey="&contentBlocking.manageSettings2.accesskey;"
                  oncommand="gProtectionsHandler.openPreferences(); gProtectionsHandler.recordClick('subview_settings', 'cryptominers');"/>
        </vbox>
    </panelview>

    <!-- Send Report SubView -->
    <panelview id="protections-popup-sendReportView"
               title="&contentBlocking.breakageReportView.title;"
               descriptionheightworkaround="true">
        <vbox id="protections-popup-sendReportView-heading">
          <description>
            &contentBlocking.breakageReportView3.description;
            <label id="protections-popup-sendReportView-learn-more"
                   is="text-link">&contentBlocking.breakageReportView2.learnMore;</label>
          </description>
        </vbox>
        <vbox id="protections-popup-sendReportView-body" class="panel-view-body-unscrollable">
          <vbox class="protections-popup-sendReportView-collection-section">
            <label control="protections-popup-sendReportView-collection-url">&contentBlocking.breakageReportView.collection.url.label;</label>
            <html:input readonly="readonly" id="protections-popup-sendReportView-collection-url" aria-label="&contentBlocking.breakageReportView.collection.url.label;"/>
          </vbox>
          <vbox class="protections-popup-sendReportView-collection-section">
            <label control="protections-popup-sendReportView-collection-comments">&contentBlocking.breakageReportView2.collection.comments.label;</label>
            <html:textarea id="protections-popup-sendReportView-collection-comments" aria-label="&contentBlocking.breakageReportView2.collection.comments.label;"/>
          </vbox>
          <label id="protections-popup-sendReportView-report-error"
            data-l10n-id="protections-panel-sendreportview-error"
            hidden="true" role="alert"></label>
        </vbox>
        <vbox id="protections-popup-sendReportView-footer"
              class="panel-footer">
          <button id="protections-popup-sendReportView-cancel"
                  label="&contentBlocking.breakageReportView.cancel.label;"
                  oncommand="gProtectionsHandler._protectionsPopupMultiView.goBack();"/>
          <button id="protections-popup-sendReportView-submit"
                  default="true"
                  label="&contentBlocking.breakageReportView.sendReport.label;"
                  oncommand="gProtectionsHandler.onSendReportClicked(); gProtectionsHandler.recordClick('send_report_submit');"/>
        </vbox>
    </panelview>
  </panelmultiview>
</panel>
<!-- This Source Code Form is subject to the terms of the Mozilla Public
   - License, v. 2.0. If a copy of the MPL was not distributed with this
   - file, You can obtain one at http://mozilla.org/MPL/2.0/. -->



<stringbundleset id="downloadsStrings"
  string-download-cancel="&cmd.cancel.label;"
  string-download-cancel-description="&cancelDownload.label;"
  string-download-open-file-description="&openFile.label;"
  string-download-open-or-remove-file="&cmd.chooseOpen.label;"
  string-download-remove-file="&cmd.removeFile.label;"
  string-download-remove-file-or-allow="&cmd.chooseUnblock.label;"
  string-download-retry="&cmd.retry.label;"
  string-download-retry-description="&retryDownload.label;"
  string-download-show="&cmd.show.label;"
  string-download-show-description="&cmd.show.label;"
  string-download-show-more-information-description="&showMoreInformation.label;"
/>

<commandset>
  <command id="downloadsCmd_doDefault"
           oncommand="goDoCommand('downloadsCmd_doDefault')"/>
  <command id="downloadsCmd_pauseResume"
           oncommand="goDoCommand('downloadsCmd_pauseResume')"/>
  <command id="downloadsCmd_cancel"
           oncommand="goDoCommand('downloadsCmd_cancel')"/>
  <command id="downloadsCmd_unblock"
           oncommand="goDoCommand('downloadsCmd_unblock')"/>
  <command id="downloadsCmd_chooseUnblock"
           oncommand="goDoCommand('downloadsCmd_chooseUnblock')"/>
  <command id="downloadsCmd_unblockAndOpen"
           oncommand="goDoCommand('downloadsCmd_unblockAndOpen')"/>
  <command id="downloadsCmd_confirmBlock"
           oncommand="goDoCommand('downloadsCmd_confirmBlock')"/>
  <command id="downloadsCmd_open"
           oncommand="goDoCommand('downloadsCmd_open')"/>
  <command id="downloadsCmd_show"
           oncommand="goDoCommand('downloadsCmd_show')"/>
  <command id="downloadsCmd_retry"
           oncommand="goDoCommand('downloadsCmd_retry')"/>
  <command id="downloadsCmd_openReferrer"
           oncommand="goDoCommand('downloadsCmd_openReferrer')"/>
  <command id="downloadsCmd_copyLocation"
           oncommand="goDoCommand('downloadsCmd_copyLocation')"/>
  <command id="downloadsCmd_clearList"
           oncommand="goDoCommand('downloadsCmd_clearList')"/>
</commandset>

<!-- The panel has level="top" to ensure that it is never hidden by the
     taskbar on Windows.  See bug 672365.  For accessibility to screen
     readers, we use a label on the panel instead of the anchor because the
     panel can also be displayed without an anchor. -->
<panel id="downloadsPanel"
       aria-label="&downloads.title;"
       class="panel-no-padding"
       role="group"
       type="arrow"
       orient="vertical"
       level="top"
       onpopupshown="DownloadsPanel.onPopupShown(event);"
       onpopuphidden="DownloadsPanel.onPopupHidden(event);"
       hidden="true">
  <!-- The following popup menu should be a child of the panel element,
       otherwise flickering may occur when the cursor is moved over the area
       of a disabled menu item that overlaps the panel.  See bug 492960. -->
  <menupopup id="downloadsContextMenu"
             onpopupshown="DownloadsView.onContextPopupShown(event);"
             onpopuphidden="DownloadsView.onContextPopupHidden(event);"
             class="download-state">
    <menuitem command="downloadsCmd_pauseResume"
              class="downloadPauseMenuItem"
              label="&cmd.pause.label;"
              accesskey="&cmd.pause.accesskey;"/>
    <menuitem command="downloadsCmd_pauseResume"
              class="downloadResumeMenuItem"
              label="&cmd.resume.label;"
              accesskey="&cmd.resume.accesskey;"/>
    <menuitem command="downloadsCmd_unblock"
              class="downloadUnblockMenuItem"
              label="&cmd.unblock2.label;"
              accesskey="&cmd.unblock2.accesskey;"/>
    <menuitem command="downloadsCmd_show"
              class="downloadShowMenuItem"
              label="&cmd.show.label;"
              accesskey="&cmd.show.accesskey;"
              />

    <menuseparator class="downloadCommandsSeparator"/>

    <menuitem command="downloadsCmd_openReferrer"
              label="&cmd.goToDownloadPage.label;"
              accesskey="&cmd.goToDownloadPage.accesskey;"/>
    <menuitem command="downloadsCmd_copyLocation"
              label="&cmd.copyDownloadLink.label;"
              accesskey="&cmd.copyDownloadLink.accesskey;"/>

    <menuseparator/>

    <menuitem command="cmd_delete"
              class="downloadRemoveFromHistoryMenuItem"
              label="&cmd.removeFromHistory.label;"
              accesskey="&cmd.removeFromHistory.accesskey;"/>
    <menuitem command="downloadsCmd_clearList"
              label="&cmd.clearList2.label;"
              accesskey="&cmd.clearList2.accesskey;"/>
    <menuitem command="downloadsCmd_clearDownloads"
              hidden="true"
              label="&cmd.clearDownloads.label;"/>
  </menupopup>

  <panelmultiview id="downloadsPanel-multiView"
                  mainViewId="downloadsPanel-mainView">

    <panelview id="downloadsPanel-mainView">
      <vbox class="panel-view-body-unscrollable">
        <richlistbox id="downloadsListBox"
                     style="width: &downloads.width;"
                     context="downloadsContextMenu"
                     onmouseover="DownloadsView.onDownloadMouseOver(event);"
                     onmouseout="DownloadsView.onDownloadMouseOut(event);"
                     oncontextmenu="DownloadsView.onDownloadContextMenu(event);"
                     ondragstart="DownloadsView.onDownloadDragStart(event);"/>
        <description id="emptyDownloads"
                     value="&downloadsPanelEmpty.label;"/>
      </vbox>
      <vbox id="downloadsFooter">
        <stack>
          <hbox id="downloadsSummary"
                align="center"
                orient="horizontal"
                onkeydown="DownloadsSummary.onKeyDown(event);"
                onclick="DownloadsSummary.onClick(event);">
            <image class="downloadTypeIcon" />
            <vbox pack="center"
                  flex="1"
                  class="downloadContainer">
              <description id="downloadsSummaryDescription"/>
              <html:progress id="downloadsSummaryProgress"
                             class="downloadProgress"
                             max="100"/>
              <description id="downloadsSummaryDetails"
                           crop="end"/>
            </vbox>
          </hbox>
          <hbox id="downloadsFooterButtons"
                class="panel-footer">
            <button id="downloadsHistory"
                    class="downloadsPanelFooterButton"
                    label="&downloadsHistory.label;"
                    accesskey="&downloadsHistory.accesskey;"
                    flex="1"
                    oncommand="DownloadsPanel.showDownloadsHistory();"
                    pack="start"/>
          </hbox>
        </stack>
      </vbox>
    </panelview>

    <panelview id="downloadsPanel-blockedSubview"
               descriptionheightworkaround="true"
               class="PanelUI-subView"
               title="&downloadDetails.label;">
      <vbox class="panel-view-body-unscrollable">
        <description id="downloadsPanel-blockedSubview-title"/>
        <description id="downloadsPanel-blockedSubview-details1"/>
        <description id="downloadsPanel-blockedSubview-details2"/>
      </vbox>
      <hbox id="downloadsPanel-blockedSubview-buttons"
            class="panel-footer"
            align="stretch">
        <button id="downloadsPanel-blockedSubview-openButton"
                class="downloadsPanelFooterButton"
                command="downloadsCmd_unblockAndOpen"
                flex="1"/>
        <button id="downloadsPanel-blockedSubview-deleteButton"
                class="downloadsPanelFooterButton"
                oncommand="DownloadsBlockedSubview.confirmBlock();"
                default="true"
                flex="1"/>
      </hbox>
    </panelview>

    <panelview id="PanelUI-downloads" class="PanelUI-subView">
      <vbox class="panel-subview-body">
        <toolbarbutton id="appMenu-library-downloads-show-button"
                       class="subviewbutton subviewbutton-iconic"
                       label="&cmd.showDownloads.label;"
                       closemenu="none"
                       oncommand="DownloadsSubview.onShowDownloads(this);"/>
        <toolbarseparator/>
        <toolbaritem id="panelMenu_downloadsMenu"
                     orient="vertical"
                     smoothscroll="false"
                     flatList="true"
                     tooltip="bhTooltip">
          <!-- downloads menu items will go here -->
        </toolbaritem>
      </vbox>
      <toolbarbutton id="PanelUI-downloadsMore"
                     class="panel-subview-footer subviewbutton"
                     label="&downloadsHistory.label;"
                     oncommand="BrowserDownloadsUI(); CustomizableUI.hidePanelForNode(this);"/>
    </panelview>

  </panelmultiview>

</panel>
<!-- This Source Code Form is subject to the terms of the Mozilla Public
   - License, v. 2.0. If a copy of the MPL was not distributed with this
   - file, You can obtain one at http://mozilla.org/MPL/2.0/. -->

<panel id="allTabsMenu"
       class="cui-widget-panel"
       role="group"
       type="arrow"
       hidden="true"
       flip="slide"
       position="bottomcenter topright"
       noautofocus="true">
  <panelmultiview mainViewId="allTabsMenu-allTabsView" disablekeynav="true">
    <panelview id="allTabsMenu-allTabsView" class="PanelUI-subView">
      <vbox class="panel-subview-body">
        <toolbarbutton id="allTabsMenu-undoCloseTab"
                       class="subviewbutton subviewbutton-iconic"
                       label="&undoCloseTab.label;"
                       key="key_undoCloseTab"
                       command="History:UndoCloseTab"/>
        <toolbarbutton id="allTabsMenu-searchTabs"
                       class="subviewbutton subviewbutton-iconic"
                       oncommand="gTabsPanel.searchTabs();"
                       label="&allTabsMenu.searchTabs.label;"/>
        <toolbarbutton id="allTabsMenu-containerTabsButton"
                       class="subviewbutton subviewbutton-nav"
                       closemenu="none"
                       oncommand="PanelUI.showSubView('allTabsMenu-containerTabsView', this);"
                       label="&newUserContext.label;"/>
        <toolbarseparator id="allTabsMenu-hiddenTabsSeparator"/>
        <toolbarbutton id="allTabsMenu-hiddenTabsButton"
                       class="subviewbutton subviewbutton-nav"
                       closemenu="none"
                       oncommand="PanelUI.showSubView('allTabsMenu-hiddenTabsView', this);"
                       label="&hiddenTabs.label;" />
        <toolbarseparator id="allTabsMenu-tabsSeparator"/>
        <vbox id="allTabsMenu-allTabsViewTabs" class="panel-subview-body"/>
      </vbox>
    </panelview>

    <panelview id="allTabsMenu-hiddenTabsView" class="PanelUI-subView">
      <vbox class="panel-subview-body"/>
    </panelview>

    <panelview id="allTabsMenu-containerTabsView" class="PanelUI-subView">
      <vbox class="panel-subview-body">
        <toolbarseparator class="container-tabs-submenu-separator"/>
        <toolbarbutton class="subviewbutton"
                       label="&manageUserContext.label;"
                       accesskey="&manageUserContext.accesskey;"
                       command="Browser:OpenAboutContainers"/>
      </vbox>
    </panelview>
  </panelmultiview>
</panel>

    <hbox id="downloads-animation-container">
      <vbox id="downloads-notification-anchor" hidden="true">
        <vbox id="downloads-indicator-notification"/>
      </vbox>
    </hbox>

    <tooltip id="dynamic-shortcut-tooltip"
             onpopupshowing="UpdateDynamicShortcutTooltipText(this);"/>

    <menupopup id="SyncedTabsSidebarContext">
      <menuitem data-lazy-l10n-id="synced-tabs-context-open"
                id="syncedTabsOpenSelected" where="current"/>
      <menuitem data-lazy-l10n-id="synced-tabs-context-open-in-new-tab"
                id="syncedTabsOpenSelectedInTab" where="tab"/>
      <menuitem data-lazy-l10n-id="synced-tabs-context-open-in-new-window"
                id="syncedTabsOpenSelectedInWindow" where="window"/>
      <menuitem data-lazy-l10n-id="synced-tabs-context-open-in-new-private-window"
                id="syncedTabsOpenSelectedInPrivateWindow" where="window" private="true"/>
      <menuseparator/>
      <menuitem data-lazy-l10n-id="synced-tabs-context-bookmark-single-tab"
                id="syncedTabsBookmarkSelected"/>
      <menuitem data-lazy-l10n-id="synced-tabs-context-copy"
                id="syncedTabsCopySelected"/>
      <menuseparator/>
      <menuitem data-lazy-l10n-id="synced-tabs-context-open-all-in-tabs"
                id="syncedTabsOpenAllInTabs"/>
      <menuitem data-lazy-l10n-id="synced-tabs-context-manage-devices"
                id="syncedTabsManageDevices"
                oncommand="gSync.openDevicesManagementPage('syncedtabs-sidebar');"/>
      <menuitem data-lazy-l10n-id="synced-tabs-context-sync-now"
                id="syncedTabsRefresh"/>
    </menupopup>
    <menupopup id="SyncedTabsSidebarTabsFilterContext"
               class="textbox-contextmenu">
      <menuitem label="&undoCmd.label;"
                accesskey="&undoCmd.accesskey;"
                cmd="cmd_undo"/>
      <menuseparator/>
      <menuitem label="&cutCmd.label;"
                accesskey="&cutCmd.accesskey;"
                cmd="cmd_cut"/>
      <menuitem label="&copyCmd.label;"
                accesskey="&copyCmd.accesskey;"
                cmd="cmd_copy"/>
      <menuitem label="&pasteCmd.label;"
                accesskey="&pasteCmd.accesskey;"
                cmd="cmd_paste"/>
      <menuitem label="&deleteCmd.label;"
                accesskey="&deleteCmd.accesskey;"
                cmd="cmd_delete"/>
      <menuseparator/>
      <menuitem label="&selectAllCmd.label;"
                accesskey="&selectAllCmd.accesskey;"
                cmd="cmd_selectAll"/>
      <menuseparator/>
      <menuitem data-lazy-l10n-id="synced-tabs-context-sync-now"
                id="syncedTabsRefreshFilter"/>
    </menupopup>

    <hbox id="statuspanel" inactive="true" renderroot="content">
      <hbox id="statuspanel-inner">
        <label id="statuspanel-label"
               role="status"
               aria-live="off"
               flex="1"
               crop="end"/>
      </hbox>
    </hbox>
  </popupset>
  <box id="appMenu-viewCache" hidden="true"/>

  <!-- Temporary wrapper until we move away from XUL flex to allow a negative
       margin-top to slide the toolbox off screen in fullscreen layout.-->
  <box>
  <toolbox id="navigator-toolbox" flex="1">

    <vbox id="titlebar">
      <!-- Menu -->
      <toolbar type="menubar" id="toolbar-menubar"
               class="browser-toolbar chromeclass-menubar titlebar-color"
               customizable="true"
               mode="icons"
               toolbarname="&menubarCmd.label;"
               accesskey="&menubarCmd.accesskey;"
               autohide="true"
               context="toolbar-context-menu">
        <toolbaritem id="menubar-items" align="center">

       <menubar id="main-menubar"
                onpopupshowing="if (event.target.parentNode.parentNode == this &amp;&amp;
                                    !('@mozilla.org/widget/nativemenuservice;1' in Cc))
                                  this.setAttribute('openedwithkey',
                                                    event.target.parentNode.openedWithKey);">
            <menu id="file-menu" data-l10n-id="menu-file">
              <menupopup id="menu_FilePopup"
                         onpopupshowing="updateFileMenuUserContextUIVisibility('menu_newUserContext');
                                         updateFileMenuImportUIVisibility('cmd_importFromAnotherBrowser');">
                <menuitem id="menu_newNavigatorTab"
                          command="cmd_newNavigatorTab"
                          key="key_newNavigatorTab" data-l10n-id="menu-file-new-tab"/>
                <menu id="menu_newUserContext"
                      hidden="true" data-l10n-id="menu-file-new-container-tab">
                  <menupopup onpopupshowing="return createUserContextMenu(event);" />
                </menu>
                <menuitem id="menu_newNavigator"
                          key="key_newNavigator"
                          command="cmd_newNavigator" data-l10n-id="menu-file-new-window"/>
                <menuitem id="menu_newPrivateWindow"
                          command="Tools:PrivateBrowsing"
                          key="key_privatebrowsing" data-l10n-id="menu-file-new-private-window"/>
                <menuitem id="menu_openLocation"
                          hidden="true"
                          command="Browser:OpenLocation"
                          key="focusURLBar" data-l10n-id="menu-file-open-location"/>
                <menuitem id="menu_openFile"
                          command="Browser:OpenFile"
                          key="openFileKb" data-l10n-id="menu-file-open-file"/>
                <menuitem id="menu_close"
                          class="show-only-for-keyboard"
                          key="key_close"
                          command="cmd_close" data-l10n-id="menu-file-close"/>
                <menuitem id="menu_closeWindow"
                          class="show-only-for-keyboard"
                          hidden="true"
                          command="cmd_closeWindow"
                          key="key_closeWindow" data-l10n-id="menu-file-close-window"/>
                <menuseparator/>
                <menuitem id="menu_savePage"
                          key="key_savePage"
                          command="Browser:SavePage" data-l10n-id="menu-file-save-page"/>
                <menuitem id="menu_sendLink"
                          command="Browser:SendLink" data-l10n-id="menu-file-email-link"/>
                <menuseparator/>
                <menuitem id="menu_printPreview"
                          command="cmd_printPreview" data-l10n-id="menu-file-print-preview"/>
                <menuitem id="menu_print"
                          key="printKb"
                          command="cmd_print" data-l10n-id="menu-file-print"/>
                <menuseparator/>
                <menuitem id="menu_importFromAnotherBrowser"
                          command="cmd_importFromAnotherBrowser" data-l10n-id="menu-file-import-from-another-browser"/>
                <menuseparator/>
                <menuitem id="goOfflineMenuitem"
                          type="checkbox"
                          command="cmd_toggleOfflineStatus" data-l10n-id="menu-file-go-offline"/>
<!-- We need to leave those strings in DTD until bug 1568133 is fixed. -->
                <menuitem id="menu_FileQuitItem"
                          label="&quitApplicationCmd.label;"
                          accesskey="&quitApplicationCmd.accesskey;"
                          key="key_quitApplication"
                          command="cmd_quitApplication"/>
              </menupopup>
            </menu>

            <menu id="edit-menu" data-l10n-id="menu-edit">
              <menupopup id="menu_EditPopup"
                         onpopupshowing="updateEditUIVisibility()"
                         onpopuphidden="updateEditUIVisibility()">
                <menuitem id="menu_undo"
                          key="key_undo"
                          command="cmd_undo" data-l10n-id="menu-edit-undo"/>
                <menuitem id="menu_redo"
                          key="key_redo"
                          command="cmd_redo" data-l10n-id="menu-edit-redo"/>
                <menuseparator/>
                <menuitem id="menu_cut"
                          key="key_cut"
                          command="cmd_cut" data-l10n-id="menu-edit-cut"/>
                <menuitem id="menu_copy"
                          key="key_copy"
                          command="cmd_copy" data-l10n-id="menu-edit-copy"/>
                <menuitem id="menu_paste"
                          key="key_paste"
                          command="cmd_paste" data-l10n-id="menu-edit-paste"/>
                <menuitem id="menu_delete"
                          key="key_delete"
                          command="cmd_delete" data-l10n-id="menu-edit-delete"/>
                <menuseparator/>
                <menuitem id="menu_selectAll"
                          key="key_selectAll"
                          command="cmd_selectAll" data-l10n-id="menu-edit-select-all"/>
                <menuseparator/>
                <menuitem id="menu_find"
                          key="key_find"
                          command="cmd_find" data-l10n-id="menu-edit-find-on"/>
                <menuitem id="menu_findAgain"
                          class="show-only-for-keyboard"
                          key="key_findAgain"
                          command="cmd_findAgain" data-l10n-id="menu-edit-find-again"/>
                <menuseparator hidden="true" id="textfieldDirection-separator"/>
                <menuitem id="textfieldDirection-swap"
                          command="cmd_switchTextDirection"
                          key="key_switchTextDirection"
                          hidden="true" data-l10n-id="menu-edit-bidi-switch-text-direction"/>
                <menuseparator/>
                <menuitem id="menu_preferences"
                          oncommand="openPreferences(undefined);" data-l10n-id="menu-preferences"/>
              </menupopup>
            </menu>

            <menu id="view-menu" data-l10n-id="menu-view">
              <menupopup id="menu_viewPopup"
                         onpopupshowing="updateCharacterEncodingMenuState();">
                <menu id="viewToolbarsMenu" data-l10n-id="menu-view-toolbars-menu">
                  <menupopup onpopupshowing="onViewToolbarsPopupShowing(event);">
                    <menuseparator/>
                    <menuitem id="menu_customizeToolbars"
                              command="cmd_CustomizeToolbars" data-l10n-id="menu-view-customize-toolbar"/>
                  </menupopup>
                </menu>
                <menu id="viewSidebarMenuMenu" data-l10n-id="menu-view-sidebar">
                  <menupopup id="viewSidebarMenu">
                    <menuitem id="menu_bookmarksSidebar"
                              type="checkbox"
                              key="viewBookmarksSidebarKb"
                              oncommand="SidebarUI.toggle('viewBookmarksSidebar');" data-l10n-id="menu-view-bookmarks"/>
                    <menuitem id="menu_historySidebar"
                              type="checkbox"
                              key="key_gotoHistory"
                              oncommand="SidebarUI.toggle('viewHistorySidebar');" data-l10n-id="menu-view-history-button"/>
                    <menuitem id="menu_tabsSidebar"
                              type="checkbox"
                              class="sync-ui-item"
                              oncommand="SidebarUI.toggle('viewTabsSidebar');" data-l10n-id="menu-view-synced-tabs-sidebar"/>
                  </menupopup>
                </menu>
                <menuseparator/>
                <menu id="viewFullZoomMenu"
                      onpopupshowing="FullZoom.updateMenu();" data-l10n-id="menu-view-full-zoom">
                  <menupopup>
                    <menuitem id="menu_zoomEnlarge"
                              key="key_fullZoomEnlarge"
                              command="cmd_fullZoomEnlarge" data-l10n-id="menu-view-full-zoom-enlarge"/>
                    <menuitem id="menu_zoomReduce"
                              key="key_fullZoomReduce"
                              command="cmd_fullZoomReduce" data-l10n-id="menu-view-full-zoom-reduce"/>
                    <menuseparator/>
                    <menuitem id="menu_zoomReset"
                              key="key_fullZoomReset"
                              command="cmd_fullZoomReset" data-l10n-id="menu-view-full-zoom-reset"/>
                    <menuseparator/>
                    <menuitem id="toggle_zoom"
                              type="checkbox"
                              command="cmd_fullZoomToggle"
                              checked="false" data-l10n-id="menu-view-full-zoom-toggle"/>
                  </menupopup>
                </menu>
                <menu id="pageStyleMenu" data-l10n-id="menu-view-page-style-menu">
                  <menupopup onpopupshowing="gPageStyleMenu.fillPopup(this);">
                    <menuitem id="menu_pageStyleNoStyle"
                              oncommand="gPageStyleMenu.disableStyle();"
                              type="radio" data-l10n-id="menu-view-page-style-no-style"/>
                    <menuitem id="menu_pageStylePersistentOnly"
                              oncommand="gPageStyleMenu.switchStyleSheet('');"
                              type="radio"
                              checked="true" data-l10n-id="menu-view-page-basic-style"/>
                    <menuseparator/>
                  </menupopup>
                </menu>
                <menu id="charsetMenu"
                    oncommand="BrowserSetForcedCharacterSet(event.target.getAttribute('charset'));"
                    onpopupshowing="CharsetMenu.build(event.target); UpdateCurrentCharset(this);" data-l10n-id="menu-view-charset">
                  <menupopup>
                  </menupopup>
                </menu>
                <menuseparator/>
                <menuitem id="fullScreenItem"
                          key="key_fullScreen"
                          type="checkbox"
                          observes="View:FullScreen" data-l10n-id="menu-view-full-screen"/>
                <menuitem id="menu_readerModeItem"
                          observes="View:ReaderView"
                          key="key_toggleReaderMode"
                          hidden="true"/>
                <menuitem id="menu_showAllTabs"
                          hidden="true"
                          command="Browser:ShowAllTabs"
                          key="key_showAllTabs" data-l10n-id="menu-view-show-all-tabs"/>
                <menuseparator hidden="true" id="documentDirection-separator"/>
                <menuitem id="documentDirection-swap"
                          hidden="true"
                          oncommand="gBrowser.selectedBrowser.sendMessageToActor('SwitchDocumentDirection', {}, 'SwitchDocumentDirection', true);" data-l10n-id="menu-view-bidi-switch-page-direction"/>
              </menupopup>
            </menu>

            <menu id="history-menu" data-l10n-id="menu-history">
              <menupopup id="goPopup"
                         placespopup="true"
                         is="places-popup"
                         oncommand="this.parentNode._placesView._onCommand(event);"
                         onclick="checkForMiddleClick(this, event);"
                         onpopupshowing="if (!this.parentNode._placesView)
                                           new HistoryMenu(event);"
                         tooltip="bhTooltip"
                         popupsinherittooltip="true">
                <menuitem id="menu_showAllHistory"
                          key="showAllHistoryKb"
                          command="Browser:ShowAllHistory" data-l10n-id="menu-history-show-all-history"/>
                <menuitem id="sanitizeItem"
                          key="key_sanitize"
                          command="Tools:Sanitize" data-l10n-id="menu-history-clear-recent-history"/>
                <menuseparator id="sanitizeSeparator"/>
                <menuitem id="sync-tabs-menuitem"
                          oncommand="gSync.openSyncedTabsPanel();"
                          hidden="true" data-l10n-id="menu-history-synced-tabs"/>
                <menuitem id="historyRestoreLastSession"
                          command="Browser:RestoreLastSession" data-l10n-id="menu-history-restore-last-session"/>
                <menuitem id="hiddenTabsMenu"
                          oncommand="gTabsPanel.showHiddenTabsPanel();"
                          hidden="true" data-l10n-id="menu-history-hidden-tabs"/>
                <menu id="historyUndoMenu"
                      disabled="true" data-l10n-id="menu-history-undo-menu">
                  <menupopup id="historyUndoPopup"
                             placespopup="true"
                             is="places-popup"
                             onpopupshowing="document.getElementById('history-menu')._placesView.populateUndoSubmenu();"/>
                </menu>
                <menu id="historyUndoWindowMenu"
                      disabled="true" data-l10n-id="menu-history-undo-window-menu">
                  <menupopup id="historyUndoWindowPopup"
                             placespopup="true"
                             is="places-popup"
                             onpopupshowing="document.getElementById('history-menu')._placesView.populateUndoWindowSubmenu();"/>
                </menu>
                <menuseparator id="startHistorySeparator"
                               class="hide-if-empty-places-result"/>
              </menupopup>
            </menu>

  <menu id="bookmarksMenu"
        ondragenter="PlacesMenuDNDHandler.onDragEnter(event);"
        ondragover="PlacesMenuDNDHandler.onDragOver(event);"
        ondrop="PlacesMenuDNDHandler.onDrop(event);" data-l10n-id="menu-bookmarks-menu">
    <menupopup id="bookmarksMenuPopup"
               placespopup="true"
               is="places-popup"
               context="placesContext"
               openInTabs="children"
               onmouseup="BookmarksEventHandler.onMouseUp(event);"
               oncommand="BookmarksEventHandler.onCommand(event);"
               onclick="BookmarksEventHandler.onClick(event, this.parentNode._placesView);"
               onpopupshowing="BookmarkingUI.onMainMenuPopupShowing(event);
                               if (!this.parentNode._placesView)
                                 new PlacesMenu(event, `place:parent=${PlacesUtils.bookmarks.menuGuid}`);"
               tooltip="bhTooltip" popupsinherittooltip="true">
      <menuitem id="bookmarksShowAll"
                command="Browser:ShowAllBookmarks"
                key="manBookmarkKb" data-l10n-id="menu-bookmarks-show-all"/>
      <menuseparator id="organizeBookmarksSeparator"/>
      <menuitem id="menu_bookmarkThisPage"
                command="Browser:AddBookmarkAs"
                key="addBookmarkAsKb"/>
      <menuitem id="menu_bookmarkAllTabs"
                class="show-only-for-keyboard"
                command="Browser:BookmarkAllTabs"
                key="bookmarkAllTabsKb" data-l10n-id="menu-bookmarks-all-tabs"/>
      <menuseparator id="bookmarksToolbarSeparator"/>
      <menu id="bookmarksToolbarFolderMenu"
            class="menu-iconic bookmark-item"
            container="true" data-l10n-id="menu-bookmarks-toolbar">
        <menupopup id="bookmarksToolbarFolderPopup"
                   placespopup="true"
                   is="places-popup"
                   context="placesContext"
                   onpopupshowing="if (!this.parentNode._placesView)
                                     new PlacesMenu(event, `place:parent=${PlacesUtils.bookmarks.toolbarGuid}`);"/>
      </menu>
      <menu id="menu_unsortedBookmarks"
            class="menu-iconic bookmark-item"
            container="true" data-l10n-id="menu-bookmarks-other">
        <menupopup id="otherBookmarksFolderPopup"
                   placespopup="true"
                   is="places-popup"
                   context="placesContext"
                   onpopupshowing="if (!this.parentNode._placesView)
                                     new PlacesMenu(event, `place:parent=${PlacesUtils.bookmarks.unfiledGuid}`);"/>
      </menu>
      <menu id="menu_mobileBookmarks"
            class="menu-iconic bookmark-item"
            hidden="true"
            container="true" data-l10n-id="menu-bookmarks-mobile">
        <menupopup id="mobileBookmarksFolderPopup"
                   placespopup="true"
                   is="places-popup"
                   context="placesContext"
                   onpopupshowing="if (!this.parentNode._placesView)
                                     new PlacesMenu(event, `place:parent=${PlacesUtils.bookmarks.mobileGuid}`);"/>
      </menu>
      <menuseparator id="bookmarksMenuItemsSeparator"/>
      <!-- Bookmarks menu items -->
    </menupopup>
  </menu>

            <menu id="tools-menu" data-l10n-id="menu-tools">
              <menupopup id="menu_ToolsPopup">
              <menuitem id="menu_openDownloads"
                        key="key_openDownloads"
                        command="Tools:Downloads" data-l10n-id="menu-tools-downloads"/>
              <menuitem id="menu_openAddons"
                        key="key_openAddons"
                        command="Tools:Addons" data-l10n-id="menu-tools-addons"/>

              <!-- only one of sync-setup, sync-enable, sync-unverifieditem, sync-syncnowitem or sync-reauthitem will be showing at once -->
              <menuitem id="sync-setup"
                        class="sync-ui-item"
                        hidden="true"
                        oncommand="gSync.openPrefs('menubar')" data-l10n-id="menu-tools-fxa-sign-in"/>
              <menuitem id="sync-enable"
                        class="sync-ui-item"
                        hidden="true"
                        oncommand="gSync.openPrefs('menubar')" data-l10n-id="menu-tools-turn-on-sync"/>
              <menuitem id="sync-unverifieditem"
                        class="sync-ui-item"
                        hidden="true"
                        oncommand="gSync.openPrefs('menubar')" data-l10n-id="menu-tools-fxa-sign-in"/>
              <menuitem id="sync-syncnowitem"
                        class="sync-ui-item"
                        hidden="true"
                        oncommand="gSync.doSync(event);" data-l10n-id="menu-tools-sync-now"/>
              <menuitem id="sync-reauthitem"
                        class="sync-ui-item"
                        hidden="true"
                        oncommand="gSync.openSignInAgainPage('menubar');" data-l10n-id="menu-tools-fxa-re-auth"/>
              <menuseparator id="devToolsSeparator"/>
              <menu id="webDeveloperMenu" data-l10n-id="menu-tools-web-developer">
                <menupopup id="menuWebDeveloperPopup">
                  <menuitem id="menu_pageSource"
                            key="key_viewSource"
                            command="View:PageSource" data-l10n-id="menu-tools-page-source"/>
                </menupopup>
              </menu>
              <menuitem id="menu_pageInfo"
                        key="key_viewInfo"
                        command="View:PageInfo" data-l10n-id="menu-tools-page-info"/>
              </menupopup>
            </menu>
            <menu id="helpMenu"
                   data-l10n-id="menu-help">
              <menupopup id="menu_HelpPopup" onpopupshowing="buildHelpMenu();">
                <menuitem id="menu_openHelp"
                          oncommand="openHelpLink('firefox-help')"
                          onclick="checkForMiddleClick(this, event);"
                          data-l10n-id="menu-help-product"
                          />
                <menuitem id="menu_openTour"
                          oncommand="openTourPage();" data-l10n-id="menu-help-show-tour"/>
                <menuitem id="menu_keyboardShortcuts"
                          oncommand="openHelpLink('keyboard-shortcuts')"
                          onclick="checkForMiddleClick(this, event);" data-l10n-id="menu-help-keyboard-shortcuts"/>
                <menuitem id="troubleShooting"
                          oncommand="openTroubleshootingPage()"
                          onclick="checkForMiddleClick(this, event);" data-l10n-id="menu-help-troubleshooting-info"/>
                <menuitem id="feedbackPage"
                          oncommand="openFeedbackPage()"
                          onclick="checkForMiddleClick(this, event);" data-l10n-id="menu-help-feedback-page"/>
                <menuitem id="helpSafeMode"
                          oncommand="safeModeRestart();" data-l10n-id="menu-help-safe-mode-without-addons"/>
                <menuitem id="menu_HelpPopup_reportPhishingtoolmenu"
                          disabled="true"
                          oncommand="openUILink(gSafeBrowsing.getReportURL('Phish'), event, {triggeringPrincipal: Services.scriptSecurityManager.createNullPrincipal({})});"
                          onclick="checkForMiddleClick(this, event);"
                          hidden="true" data-l10n-id="menu-help-report-deceptive-site"/>
                <menuitem id="menu_HelpPopup_reportPhishingErrortoolmenu"
                          disabled="true"
                          oncommand="ReportFalseDeceptiveSite();"
                          onclick="checkForMiddleClick(this, event);"
                          data-l10n-id="menu-help-not-deceptive"
                          hidden="true"/>
                <menuseparator id="helpPolicySeparator"
                          hidden="true"/>
                <menuitem id="helpPolicySupport"
                          hidden="true"
                          oncommand="openUILinkIn(Services.policies.getSupportMenu().URL.href, 'tab', {triggeringPrincipal: Services.scriptSecurityManager.createNullPrincipal({})});"
                          onclick="checkForMiddleClick(this, event);"/>
                <menuseparator id="aboutSeparator"/>
                <!-- We need to leave those strings in DTD until bug 1568133 is fixed. -->
                <menuitem id="aboutName"
                          accesskey="&aboutProduct2.accesskey;"
                          label="&aboutProduct2.label;"
                          oncommand="openAboutDialog();"/>
              </menupopup>
          </menu>
        </menubar>
        </toolbaritem>
        <spacer flex="1" skipintoolbarset="true" ordinal="1000"/>

<hbox class="titlebar-buttonbox-container" skipintoolbarset="true">
  <hbox class="titlebar-buttonbox titlebar-color">
    <toolbarbutton class="titlebar-button titlebar-min" oncommand="window.minimize();"/>
    <toolbarbutton class="titlebar-button titlebar-max" oncommand="onTitlebarMaxClick();"/>
    <toolbarbutton class="titlebar-button titlebar-close" command="cmd_closeWindow"/>
  </hbox>
</hbox>
      </toolbar>

      <toolbar id="TabsToolbar"
               class="browser-toolbar titlebar-color"
               fullscreentoolbar="true"
               customizable="true"
               customizationtarget="TabsToolbar-customization-target"
               mode="icons"
               aria-label="&tabsToolbar.label;"
               context="toolbar-context-menu"
               flex="1">

        <hbox class="titlebar-spacer" type="pre-tabs"/>

        <hbox flex="1" align="end" class="toolbar-items">
          <hbox id="TabsToolbar-customization-target" flex="1">
            <tabs id="tabbrowser-tabs"
                  is="tabbrowser-tabs"
                  flex="1"
                  setfocus="false"
                  tooltip="tabbrowser-tab-tooltip"
                  stopwatchid="FX_TAB_CLICK_MS">
              <hbox class="tab-drop-indicator-box">
                <image class="tab-drop-indicator" hidden="true"/>
              </hbox>
              <arrowscrollbox orient="horizontal" flex="1" style="min-width: 1px;" clicktoscroll="true" class="tabbrowser-arrowscrollbox" scrolledtostart="true" scrolledtoend="true">
                <tab is="tabbrowser-tab" class="tabbrowser-tab" selected="true" visuallyselected="true" fadein="true"/>
                <toolbarbutton id="tabs-newtab-button"
                               class="toolbarbutton-1"
                               command="cmd_newNavigatorTab"
                               onclick="checkForMiddleClick(this, event);"
                               tooltip="dynamic-shortcut-tooltip"/>
                <spacer class="closing-tabs-spacer" style="width: 0;"/>
              </arrowscrollbox>
              <html:span id="tabbrowser-tab-a11y-desc" hidden="true"/>
            </tabs>

            <toolbarbutton id="new-tab-button"
                           class="toolbarbutton-1 chromeclass-toolbar-additional"
                           label="&tabCmd.label;"
                           command="cmd_newNavigatorTab"
                           onclick="checkForMiddleClick(this, event);"
                           tooltip="dynamic-shortcut-tooltip"
                           ondrop="newTabButtonObserver.onDrop(event)"
                           ondragover="newTabButtonObserver.onDragOver(event)"
                           ondragenter="newTabButtonObserver.onDragOver(event)"
                           ondragexit="newTabButtonObserver.onDragExit(event)"
                           cui-areatype="toolbar"
                           removable="true"/>

            <toolbarbutton id="alltabs-button"
                           class="toolbarbutton-1 chromeclass-toolbar-additional tabs-alltabs-button"
                           badged="true"
                           oncommand="gTabsPanel.showAllTabsPanel();"
                           label="&listAllTabs.label;"
                           tooltiptext="&listAllTabs.label;"
                           removable="false"/>
          </hbox>
        </hbox>

        <hbox class="titlebar-spacer" type="post-tabs"/>

        <button class="accessibility-indicator" tooltiptext="&accessibilityIndicator.tooltip;"
                aria-live="polite"/>
        <hbox class="private-browsing-indicator"/>


<hbox class="titlebar-buttonbox-container" skipintoolbarset="true">
  <hbox class="titlebar-buttonbox titlebar-color">
    <toolbarbutton class="titlebar-button titlebar-min" oncommand="window.minimize();"/>
    <toolbarbutton class="titlebar-button titlebar-max" oncommand="onTitlebarMaxClick();"/>
    <toolbarbutton class="titlebar-button titlebar-close" command="cmd_closeWindow"/>
  </hbox>
</hbox>

      </toolbar>

    </vbox>

    <toolbar id="nav-bar"
             class="browser-toolbar"
             aria-label="&navbar.accessibleLabel;"
             fullscreentoolbar="true" mode="icons" customizable="true"
             customizationtarget="nav-bar-customization-target"
             overflowable="true"
             overflowbutton="nav-bar-overflow-button"
             overflowtarget="widget-overflow-list"
             overflowpanel="widget-overflow"
             context="toolbar-context-menu">

      <toolbartabstop/>
      <hbox id="nav-bar-customization-target" flex="1">
        <toolbarbutton id="back-button" class="toolbarbutton-1 chromeclass-toolbar-additional"
                       label="&backCmd.label;"
                       removable="false" overflows="false"
                       keepbroadcastattributeswhencustomizing="true"
                       command="Browser:BackOrBackDuplicate"
                       onclick="checkForMiddleClick(this, event);"
                       tooltip="back-button-tooltip"
                       context="backForwardMenu"/>
        <toolbarbutton id="forward-button" class="toolbarbutton-1 chromeclass-toolbar-additional"
                       label="&forwardCmd.label;"
                       removable="false" overflows="false"
                       keepbroadcastattributeswhencustomizing="true"
                       command="Browser:ForwardOrForwardDuplicate"
                       onclick="checkForMiddleClick(this, event);"
                       tooltip="forward-button-tooltip"
                       context="backForwardMenu"/>
        <toolbaritem id="stop-reload-button" class="chromeclass-toolbar-additional"
                     title="&reloadCmd.label;"
                     removable="true" overflows="false">
          <toolbarbutton id="reload-button" class="toolbarbutton-1"
                         label="&reloadCmd.label;"
                         command="Browser:ReloadOrDuplicate"
                         onclick="checkForMiddleClick(this, event);"
                         tooltip="dynamic-shortcut-tooltip">
            <box class="toolbarbutton-animatable-box">
              <image class="toolbarbutton-animatable-image"/>
            </box>
          </toolbarbutton>
          <toolbarbutton id="stop-button" class="toolbarbutton-1"
                         label="&stopCmd.label;"
                         command="Browser:Stop"
                         tooltip="dynamic-shortcut-tooltip">
            <box class="toolbarbutton-animatable-box">
              <image class="toolbarbutton-animatable-image"/>
            </box>
          </toolbarbutton>
        </toolbaritem>
        <toolbarbutton id="home-button" class="toolbarbutton-1 chromeclass-toolbar-additional"
                       removable="true"
                       label="&homeButton.label;"
                       ondragover="homeButtonObserver.onDragOver(event)"
                       ondragenter="homeButtonObserver.onDragOver(event)"
                       ondrop="homeButtonObserver.onDrop(event)"
                       ondragexit="homeButtonObserver.onDragExit(event)"
                       key="goHome"
                       onclick="BrowserHome(event);"
                       cui-areatype="toolbar"
                       tooltiptext="&homeButton.defaultPage.tooltip;"/>
        <toolbarspring cui-areatype="toolbar" class="chromeclass-toolbar-additional"/>
        <toolbaritem id="urlbar-container" flex="400" persist="width"
                     removable="false"
                     class="chromeclass-location" overflows="false">
          <toolbartabstop/>
          <hbox id="urlbar" flex="1"
                defaultPlaceholder="&urlbar.placeholder2;"
                focused="true"
                pageproxystate="invalid">
            <hbox id="urlbar-background"/>
            <hbox id="urlbar-input-container"
                  flex="1"
                  pageproxystate="invalid">
              <box id="urlbar-search-button"
                   class="chromeclass-toolbar-additional"/>
              <!-- Use onclick instead of normal popup= syntax since the popup
                   code fires onmousedown, and hence eats our favicon drag events. -->
              <box id="tracking-protection-icon-container" align="center"
                   role="button"
                   onclick="gProtectionsHandler.handleProtectionsButtonEvent(event);"
                   onkeypress="gProtectionsHandler.handleProtectionsButtonEvent(event);"
                   onmouseover="gProtectionsHandler.onTrackingProtectionIconHoveredOrFocused();"
                   onfocus="gProtectionsHandler.onTrackingProtectionIconHoveredOrFocused();">
                <box id="tracking-protection-icon-box" animationsenabled="true"
                     tooltip="tracking-protection-icon-tooltip">
                  <image id="tracking-protection-icon"/>
                  <box id="tracking-protection-icon-animatable-box" flex="1">
                    <image id="tracking-protection-icon-animatable-image" flex="1"/>
                  </box>
                </box>
                <tooltip id="tracking-protection-icon-tooltip">
                  <description id="tracking-protection-icon-tooltip-label" class="tooltip-label"/>
                </tooltip>
              </box>
              <box id="identity-box" role="button"
                   align="center"
                   data-l10n-id="urlbar-identity-button"
                   pageproxystate="invalid"
                   onclick="gIdentityHandler.handleIdentityButtonEvent(event);"
                   onkeypress="gIdentityHandler.handleIdentityButtonEvent(event);"
                   ondragstart="gIdentityHandler.onDragStart(event);">
                <image id="identity-icon"
                       consumeanchor="identity-box"
                       onclick="PageProxyClickHandler(event);"/>
                <image id="permissions-granted-icon"
                       tooltiptext="&urlbar.permissionsGranted.tooltip;"/>
                <box style="pointer-events: none;">
                    <image class="sharing-icon" id="webrtc-sharing-icon"/>
                    <image class="sharing-icon geo-icon" id="geo-sharing-icon"/>
                </box>
                <box id="blocked-permissions-container" align="center">
                  <image data-permission-id="geo" class="blocked-permission-icon geo-icon" role="button"
                         data-l10n-id="urlbar-geolocation-blocked"/>
                  <image data-permission-id="desktop-notification" class="blocked-permission-icon desktop-notification-icon" role="button"
                         data-l10n-id="urlbar-web-notifications-blocked"/>
                  <image data-permission-id="camera" class="blocked-permission-icon camera-icon" role="button"
                         data-l10n-id="urlbar-camera-blocked"/>
                  <image data-permission-id="microphone" class="blocked-permission-icon microphone-icon" role="button"
                         data-l10n-id="urlbar-microphone-blocked"/>
                  <image data-permission-id="screen" class="blocked-permission-icon screen-icon" role="button"
                         data-l10n-id="urlbar-screen-blocked"/>
                  <image data-permission-id="persistent-storage" class="blocked-permission-icon persistent-storage-icon" role="button"
                         data-l10n-id="urlbar-persistent-storage-blocked"/>
                  <image data-permission-id="popup" class="blocked-permission-icon popup-icon" role="button"
                         data-l10n-id="urlbar-popup-blocked"/>
                  <image data-permission-id="autoplay-media" class="blocked-permission-icon autoplay-media-icon" role="button"
                         data-l10n-id="urlbar-autoplay-media-blocked"/>
                  <image data-permission-id="canvas" class="blocked-permission-icon canvas-icon" role="button"
                         data-l10n-id="urlbar-canvas-blocked"/>
                  <image data-permission-id="midi" class="blocked-permission-icon midi-icon" role="button"
                         data-l10n-id="urlbar-midi-blocked"/>
                  <image data-permission-id="install" class="blocked-permission-icon install-icon" role="button"
                         data-l10n-id="urlbar-install-blocked"/>
                </box>
                <box id="notification-popup-box"
                     hidden="true"
                     onmouseover="document.getElementById('identity-box').classList.add('no-hover');"
                     onmouseout="document.getElementById('identity-box').classList.remove('no-hover');"
                     align="center">
                  <image id="default-notification-icon" class="notification-anchor-icon" role="button"
                         data-l10n-id="urlbar-default-notification-anchor"/>
                  <image id="geo-notification-icon" class="notification-anchor-icon geo-icon" role="button"
                         data-l10n-id="urlbar-geolocation-notification-anchor"/>
                  <image id="autoplay-media-notification-icon" class="notification-anchor-icon autoplay-media-icon" role="button"
                         data-l10n-id="urlbar-autoplay-notification-anchor"/>
                  <image id="addons-notification-icon" class="notification-anchor-icon install-icon" role="button"
                         data-l10n-id="urlbar-addons-notification-anchor"/>
                  <image id="canvas-notification-icon" class="notification-anchor-icon" role="button"
                         data-l10n-id="urlbar-canvas-notification-anchor"/>
                  <image id="indexedDB-notification-icon" class="notification-anchor-icon indexedDB-icon" role="button"
                         data-l10n-id="urlbar-indexed-db-notification-anchor"/>
                  <image id="password-notification-icon" class="notification-anchor-icon login-icon" role="button"
                         data-l10n-id="urlbar-password-notification-anchor"/>
                  <stack id="plugins-notification-icon" class="notification-anchor-icon" role="button" align="center" data-l10n-id="urlbar-plugins-notification-anchor">
                    <image class="plugin-icon" />
                    <image id="plugin-icon-badge" />
                  </stack>
                  <image id="web-notifications-notification-icon" class="notification-anchor-icon desktop-notification-icon" role="button"
                         data-l10n-id="urlbar-web-notification-anchor"/>
                  <image id="webRTC-shareDevices-notification-icon" class="notification-anchor-icon camera-icon" role="button"
                         data-l10n-id="urlbar-web-rtc-share-devices-notification-anchor"/>
                  <image id="webRTC-shareMicrophone-notification-icon" class="notification-anchor-icon microphone-icon" role="button"
                         data-l10n-id="urlbar-web-rtc-share-microphone-notification-anchor"/>
                  <image id="webRTC-shareScreen-notification-icon" class="notification-anchor-icon screen-icon" role="button"
                         data-l10n-id="urlbar-web-rtc-share-screen-notification-anchor"/>
                  <image id="servicesInstall-notification-icon" class="notification-anchor-icon service-icon" role="button"
                         data-l10n-id="urlbar-services-notification-anchor"/>
                  <image id="translate-notification-icon" class="notification-anchor-icon translation-icon" role="button"
                         data-l10n-id="urlbar-translate-notification-anchor"/>
                  <image id="translated-notification-icon" class="notification-anchor-icon translation-icon in-use" role="button"
                         data-l10n-id="urlbar-translated-notification-anchor"/>
                  <image id="eme-notification-icon" class="notification-anchor-icon drm-icon" role="button"
                         data-l10n-id="urlbar-eme-notification-anchor"/>
                  <image id="persistent-storage-notification-icon" class="notification-anchor-icon persistent-storage-icon" role="button"
                         data-l10n-id="urlbar-persistent-storage-notification-anchor"/>
                  <image id="midi-notification-icon" class="notification-anchor-icon midi-icon" role="button"
                         data-l10n-id="urlbar-midi-notification-anchor"/>
                  <image id="webauthn-notification-icon" class="notification-anchor-icon" role="button"
                         data-l10n-id="urlbar-web-authn-anchor"/>
                  <image id="storage-access-notification-icon" class="notification-anchor-icon storage-access-icon" role="button"
                         data-l10n-id="urlbar-storage-access-anchor"/>
                </box>
                <image id="remote-control-icon"
                       tooltiptext="&urlbar.remoteControlNotificationAnchor.tooltip;"/>
                <hbox id="identity-icon-labels">
                  <label id="identity-icon-label" class="plain" flex="1"/>
                  <label id="identity-icon-country-label" class="plain"/>
                </hbox>
              </box>
              <box id="urlbar-label-box" align="center">
                <label id="urlbar-label-switchtab" class="urlbar-label" value="&urlbar.switchToTab.label;"/>
                <label id="urlbar-label-extension" class="urlbar-label" value="&urlbar.extension.label;"/>
              </box>
              <moz-input-box tooltip="aHTMLTooltip"
                             class="urlbar-input-box"
                             flex="1"
                             role="combobox"
                             aria-owns="urlbar-results">
                <html:input id="urlbar-scheme"
                            required="required"/>
                <html:input id="urlbar-input"
                            anonid="input"
                            aria-controls="urlbar-results"
                            aria-autocomplete="both"
                            inputmode="mozAwesomebar"
                            placeholder="&urlbar.placeholder2;"/>
              </moz-input-box>
              <image id="urlbar-go-button"
                     class="urlbar-icon"
                     onclick="gURLBar.handleCommand(event);"
                     tooltiptext="&goEndCap.tooltip;"/>
              <image class="urlbar-history-dropmarker urlbar-icon chromeclass-toolbar-additional"
                     tooltiptext="&urlbar.openHistoryPopup.tooltip;"/>
              <hbox id="page-action-buttons" context="pageActionContextMenu">
                <toolbartabstop/>
                <hbox id="contextual-feature-recommendation" role="button" hidden="true">
                  <hbox id="cfr-label-container">
                    <label id="cfr-label"/>
                  </hbox>
                  <image id="cfr-button"
                         class="urlbar-icon urlbar-page-action"
                         role="presentation"/>
                </hbox>
                <hbox id="userContext-icons" hidden="true">
                  <label id="userContext-label"/>
                  <image id="userContext-indicator"/>
                </hbox>
                <image id="reader-mode-button"
                       class="urlbar-icon urlbar-page-action"
                       tooltip="dynamic-shortcut-tooltip"
                       role="button"
                       hidden="true"
                       onclick="ReaderParent.buttonClick(event);"/>
                <toolbarbutton id="urlbar-zoom-button"
                       onclick="FullZoom.reset();"
                       tooltip="dynamic-shortcut-tooltip"
                       hidden="true"/>
                <box id="pageActionSeparator" class="urlbar-page-action"/>
                <image id="pageActionButton"
                       class="urlbar-icon urlbar-page-action"
                       role="button"
                       tooltiptext="&pageActionButton.tooltip;"
                       onmousedown="BrowserPageActions.mainButtonClicked(event);"
                       onkeypress="BrowserPageActions.mainButtonClicked(event);"/>
                <hbox id="pocket-button-box"
                      hidden="true"
                      class="urlbar-icon-wrapper urlbar-page-action"
                      onclick="BrowserPageActions.doCommandForAction(PageActions.actionForID('pocket'), event, this);">
                  <image id="pocket-button"
                         class="urlbar-icon"
                         tooltiptext="&pocketButton.tooltiptext;"
                         role="button"/>
                  <hbox id="pocket-button-animatable-box">
                    <image id="pocket-button-animatable-image"
                           tooltiptext="&pocketButton.tooltiptext;"
                           role="presentation"/>
                  </hbox>
                </hbox>
                <hbox id="star-button-box"
                      hidden="true"
                      class="urlbar-icon-wrapper urlbar-page-action"
                      onclick="BrowserPageActions.doCommandForAction(PageActions.actionForID('bookmark'), event, this);">
                  <image id="star-button"
                         class="urlbar-icon"
                         role="button"/>
                  <hbox id="star-button-animatable-box">
                    <image id="star-button-animatable-image"
                           role="presentation"/>
                  </hbox>
                </hbox>
              </hbox>
            </hbox>
          </hbox>
          <toolbartabstop/>
        </toolbaritem>

        <toolbarspring cui-areatype="toolbar" class="chromeclass-toolbar-additional"/>

        <!-- This is a placeholder for the Downloads Indicator.  It is visible
             during the customization of the toolbar, in the palette, and before
             the Downloads Indicator overlay is loaded. -->
        <toolbarbutton id="downloads-button"
                       class="toolbarbutton-1 chromeclass-toolbar-additional"
                       badged="true"
                       key="key_openDownloads"
                       onmousedown="DownloadsIndicatorView.onCommand(event);"
                       onkeypress="DownloadsIndicatorView.onCommand(event);"
                       ondrop="DownloadsIndicatorView.onDrop(event);"
                       ondragover="DownloadsIndicatorView.onDragOver(event);"
                       ondragenter="DownloadsIndicatorView.onDragOver(event);"
                       label="&downloads.label;"
                       removable="true"
                       overflows="false"
                       cui-areatype="toolbar"
                       hidden="true"
                       tooltip="dynamic-shortcut-tooltip"
                       indicator="true">
            <!-- The panel's anchor area is smaller than the outer button, but must
                 always be visible and must not move or resize when the indicator
                 state changes, otherwise the panel could change its position or lose
                 its arrow unexpectedly. -->
            <stack id="downloads-indicator-anchor"
                   consumeanchor="downloads-button">
              <box id="downloads-indicator-icon"/>
              <stack id="downloads-indicator-progress-outer">
                <box id="downloads-indicator-progress-inner"/>
              </stack>
            </stack>
          </toolbarbutton>

        <toolbarbutton id="library-button" class="toolbarbutton-1 chromeclass-toolbar-additional subviewbutton-nav"
                       removable="true"
                       onmousedown="PanelUI.showSubView('appMenu-libraryView', this, event);"
                       onkeypress="PanelUI.showSubView('appMenu-libraryView', this, event);"
                       closemenu="none"
                       cui-areatype="toolbar"
                       tooltiptext="&libraryButton.tooltip;"
                       label="&places.library.title;"/>

        <toolbarbutton id="fxa-toolbar-menu-button" class="toolbarbutton-1 chromeclass-toolbar-additional subviewbutton-nav"
                       badged="true"
                       onmousedown="gSync.toggleAccountPanel('PanelUI-fxa', this, event)"
                       onkeypress="gSync.toggleAccountPanel('PanelUI-fxa', this, event)"
                       consumeanchor="fxa-toolbar-menu-button"
                       closemenu="none"
                       label="&fxa.menu.firefoxAccount;"
                       tooltiptext="&fxa.menu.firefoxAccount;"
                       cui-areatype="toolbar"
                       removable="true">
                       <vbox>
                        <image id="fxa-avatar-image"/>
                       </vbox>
        </toolbarbutton>
      </hbox>

      <toolbarbutton id="nav-bar-overflow-button"
                     class="toolbarbutton-1 chromeclass-toolbar-additional overflow-button"
                     skipintoolbarset="true"
                     tooltiptext="&navbarOverflow.label;">
        <box class="toolbarbutton-animatable-box">
          <image class="toolbarbutton-animatable-image"/>
        </box>
      </toolbarbutton>

      <toolbaritem id="PanelUI-button"
                   removable="false">
        <toolbarbutton id="whats-new-menu-button"
                       class="toolbarbutton-1"
                       hidden="true"
                       badged="true"
                       onmousedown="PanelUI.showSubView('PanelUI-whatsNew', this, event);"
                       onkeypress="PanelUI.showSubView('PanelUI-whatsNew', this, event);"/>
        <toolbarbutton id="PanelUI-menu-button"
                       class="toolbarbutton-1"
                       badged="true"
                       consumeanchor="PanelUI-button"
                       label="&brandShortName;"
                       tooltiptext="&appmenu.tooltip;"/>
      </toolbaritem>

      <hbox id="window-controls" hidden="true" pack="end" skipintoolbarset="true"
            ordinal="1000">
        <toolbarbutton id="minimize-button"
                       tooltiptext="&fullScreenMinimize.tooltip;"
                       oncommand="window.minimize();"/>

        <toolbarbutton id="restore-button"
                       tooltiptext="&fullScreenRestore.tooltip;"
                       oncommand="BrowserFullScreen();"/>

        <toolbarbutton id="close-button"
                       tooltiptext="&fullScreenClose.tooltip;"
                       oncommand="BrowserTryToCloseWindow();"/>
      </hbox>

      <box id="library-animatable-box" class="toolbarbutton-animatable-box">
        <image class="toolbarbutton-animatable-image"/>
      </box>
    </toolbar>

    <toolbar id="PersonalToolbar"
             mode="icons"
             class="browser-toolbar chromeclass-directories"
             context="toolbar-context-menu"
             toolbarname="&personalbarCmd.label;" accesskey="&personalbarCmd.accesskey;"
             aria-label="&personalbar.accessibleLabel;"
             collapsed="true"
             customizable="true">
      <toolbartabstop skipintoolbarset="true"/>
      <toolbaritem id="personal-bookmarks"
                   title="&bookmarksToolbarItem.label;"
                   cui-areatype="toolbar"
                   removable="true">
        <toolbarbutton id="bookmarks-toolbar-placeholder"
                       class="bookmark-item"
                       label="&bookmarksToolbarItem.label;"/>
        <toolbarbutton id="bookmarks-toolbar-button"
                       class="toolbarbutton-1"
                       flex="1"
                       label="&bookmarksToolbarItem.label;"
                       oncommand="PlacesToolbarHelper.onPlaceholderCommand();"/>
        <hbox flex="1"
              id="PlacesToolbar"
              context="placesContext"
              onmouseup="BookmarksEventHandler.onMouseUp(event);"
              onclick="BookmarksEventHandler.onClick(event, this._placesView);"
              oncommand="BookmarksEventHandler.onCommand(event);"
              tooltip="bhTooltip"
              popupsinherittooltip="true">
          <hbox flex="1">
            <hbox id="PlacesToolbarDropIndicatorHolder" align="center" collapsed="true">
              <image id="PlacesToolbarDropIndicator"
                     collapsed="true"/>
            </hbox>
            <scrollbox orient="horizontal"
                       id="PlacesToolbarItems"
                       flex="1"/>
            <toolbarbutton type="menu"
                           id="PlacesChevron"
                           class="toolbarbutton-1"
                           collapsed="true"
                           tooltiptext="&bookmarksToolbarChevron.tooltip;"
                           onpopupshowing="document.getElementById('PlacesToolbar')
                                                   ._placesView._onChevronPopupShowing(event);">
              <menupopup id="PlacesChevronPopup"
                         is="places-popup"
                         placespopup="true"
                         tooltip="bhTooltip" popupsinherittooltip="true"
                         context="placesContext"/>
            </toolbarbutton>
          </hbox>
        </hbox>
      </toolbaritem>
    </toolbar>

    <toolbarpalette id="BrowserToolbarPalette">

      <toolbarbutton id="print-button" class="toolbarbutton-1 chromeclass-toolbar-additional"
                     command="cmd_printPreview"
                     tooltiptext="&printButton.tooltip;"
                     label="&printButton.label;"/>


      <toolbarbutton id="new-window-button" class="toolbarbutton-1 chromeclass-toolbar-additional"
                     label="&newNavigatorCmd.label;"
                     command="cmd_newNavigator"
                     tooltip="dynamic-shortcut-tooltip"
                     ondrop="newWindowButtonObserver.onDrop(event)"
                     ondragover="newWindowButtonObserver.onDragOver(event)"
                     ondragenter="newWindowButtonObserver.onDragOver(event)"
                     ondragexit="newWindowButtonObserver.onDragExit(event)"/>

      <toolbarbutton id="fullscreen-button" class="toolbarbutton-1 chromeclass-toolbar-additional"
                     observes="View:FullScreen"
                     type="checkbox"
                     label="&fullScreenCmd.label;"
                     tooltip="dynamic-shortcut-tooltip"/>

      <toolbarbutton id="bookmarks-menu-button"
                     class="toolbarbutton-1 chromeclass-toolbar-additional subviewbutton-nav"
                     type="menu"
                     label="&bookmarksMenuButton2.label;"
                     tooltip="dynamic-shortcut-tooltip"
                     ondragenter="PlacesMenuDNDHandler.onDragEnter(event);"
                     ondragover="PlacesMenuDNDHandler.onDragOver(event);"
                     ondragleave="PlacesMenuDNDHandler.onDragLeave(event);"
                     ondrop="PlacesMenuDNDHandler.onDrop(event);"
                     oncommand="BookmarkingUI.onCommand(event);">
        <menupopup id="BMB_bookmarksPopup"
                   is="places-popup-arrow"
                   class="cui-widget-panel cui-widget-panelview cui-widget-panelWithFooter PanelUI-subView"
                   placespopup="true"
                   context="placesContext"
                   openInTabs="children"
                   side="top"
                   onmouseup="BookmarksEventHandler.onMouseUp(event);"
                   oncommand="BookmarksEventHandler.onCommand(event);"
                   onclick="BookmarksEventHandler.onClick(event, this.parentNode._placesView);"
                   onpopupshowing="BookmarkingUI.onPopupShowing(event);
                                   BookmarkingUI.attachPlacesView(event, this);"
                   tooltip="bhTooltip" popupsinherittooltip="true">
          <menuitem id="BMB_viewBookmarksSidebar"
                    class="menuitem-iconic subviewbutton"
                    label-show="&viewBookmarksSidebar2.label;"
                    label-hide="&hideBookmarksSidebar.label;"
                    oncommand="SidebarUI.toggle('viewBookmarksSidebar');"/>
          <!-- NB: temporary solution for bug 985024, this should go away soon. -->
          <menuitem id="BMB_bookmarksShowAllTop"
                    class="menuitem-iconic subviewbutton"
                    label="&showAllBookmarks2.label;"
                    command="Browser:ShowAllBookmarks"
                    key="manBookmarkKb"/>
          <menuseparator/>
          <menu id="BMB_bookmarksToolbar"
                class="menu-iconic bookmark-item subviewbutton"
                label="&personalbarCmd.label;"
                container="true">
            <menupopup id="BMB_bookmarksToolbarPopup"
                       is="places-popup"
                       placespopup="true"
                       nofooterpopup="true"
                       context="placesContext"
                       onpopupshowing="if (!this.parentNode._placesView)
                                         new PlacesMenu(event, `place:parent=${PlacesUtils.bookmarks.toolbarGuid}`,
                                                        PlacesUIUtils.getViewForNode(this.parentNode.parentNode).options);">
              <menuitem id="BMB_viewBookmarksToolbar"
                        class="menuitem-iconic subviewbutton"
                        label-show="&viewBookmarksToolbar.label;"
                        label-hide="&hideBookmarksToolbar.label;"
                        oncommand="BookmarkingUI.toggleBookmarksToolbar();"/>
              <menuseparator/>
              <!-- Bookmarks toolbar items -->
            </menupopup>
          </menu>
          <menu id="BMB_unsortedBookmarks"
                class="menu-iconic bookmark-item subviewbutton"
                label="&bookmarksMenuButton.other.label;"
                container="true">
            <menupopup id="BMB_unsortedBookmarksPopup"
                       is="places-popup"
                       placespopup="true"
                       nofooterpopup="true"
                       context="placesContext"
                       onpopupshowing="if (!this.parentNode._placesView)
                                         new PlacesMenu(event, `place:parent=${PlacesUtils.bookmarks.unfiledGuid}`,
                                                        PlacesUIUtils.getViewForNode(this.parentNode.parentNode).options);"/>
          </menu>
          <menu id="BMB_mobileBookmarks"
                class="menu-iconic bookmark-item subviewbutton"
                label="&bookmarksMenuButton.mobile.label;"
                hidden="true"
                container="true">
            <menupopup id="BMB_mobileBookmarksPopup"
                       is="places-popup"
                       placespopup="true"
                       nofooterpopup="true"
                       context="placesContext"
                       onpopupshowing="if (!this.parentNode._placesView)
                                         new PlacesMenu(event, `place:parent=${PlacesUtils.bookmarks.mobileGuid}`,
                                                        PlacesUIUtils.getViewForNode(this.parentNode.parentNode).options);"/>
          </menu>

          <menuseparator/>
          <!-- Bookmarks menu items will go here -->
          <menuitem id="BMB_bookmarksShowAll"
                    class="subviewbutton panel-subview-footer"
                    label="&showAllBookmarks2.label;"
                    command="Browser:ShowAllBookmarks"
                    key="manBookmarkKb"/>
        </menupopup>
      </toolbarbutton>

      <toolbaritem id="search-container"
                   class="chromeclass-toolbar-additional"
                   title="&searchItem.title;"
                   align="center"
                   flex="100"
                   persist="width">
        <toolbartabstop/>
        <searchbar id="searchbar" flex="1"/>
        <toolbartabstop/>
      </toolbaritem>
    </toolbarpalette>
  </toolbox>
  </box>

  <hbox id="fullscr-toggler" hidden="true"/>

  <hbox flex="1" id="browser" renderroot="content">
    <vbox id="browser-border-start" hidden="true" layer="true"/>
    <vbox id="sidebar-box" hidden="true" class="chromeclass-extrachrome">
      <box id="sidebar-header" align="center">
        <toolbarbutton id="sidebar-switcher-target" flex="1" class="tabbable">
          <image id="sidebar-icon" consumeanchor="sidebar-switcher-target"/>
          <label id="sidebar-title" crop="end" flex="1" control="sidebar"/>
          <image id="sidebar-switcher-arrow"/>
        </toolbarbutton>
        <image id="sidebar-throbber"/>
        <spacer flex="1000"/>
        <toolbarbutton id="sidebar-close" class="close-icon tabbable" tooltiptext="&sidebarCloseButton.tooltip;" oncommand="SidebarUI.hide();"/>
      </box>
      <browser id="sidebar" flex="1" autoscroll="false" disablehistory="true" disablefullscreen="true"
                style="min-width: 14em; width: 18em; max-width: 36em;" tooltip="aHTMLTooltip"/>
    </vbox>

    <splitter id="sidebar-splitter" class="chromeclass-extrachrome sidebar-splitter" hidden="true"/>
    <vbox id="appcontent" flex="1">
      <!-- gHighPriorityNotificationBox will be added here lazily. -->
      <tabbox id="tabbrowser-tabbox"
              flex="1" tabcontainer="tabbrowser-tabs">
        <tabpanels id="tabbrowser-tabpanels"
                    flex="1" class="plain" selectedIndex="0"/>
      </tabbox>
    </vbox>
    <vbox id="browser-border-end" hidden="true" layer="true"/>
  </hbox>

  <box id="customization-container" flex="1" renderroot="content" hidden="true"><![CDATA[
<!-- This Source Code Form is subject to the terms of the Mozilla Public
   - License, v. 2.0. If a copy of the MPL was not distributed with this
   - file, You can obtain one at http://mozilla.org/MPL/2.0/. -->

<box id="customization-content-container">
<box flex="1" id="customization-palette-container">
  <label id="customization-header" data-l10n-id="customize-mode-menu-and-toolbars-header"></label>
  <vbox id="customization-palette" class="customization-palette" hidden="true"/>
  <html:div id="customization-pong-arena" hidden="true"/>
  <spacer id="customization-spacer"/>
</box>
<vbox id="customization-panel-container">
  <vbox id="customization-panelWrapper">
    <box class="panel-arrowbox">
      <image class="panel-arrow" side="top"/>
    </box>
    <box class="panel-arrowcontent" side="top" flex="1">
      <vbox id="customization-panelHolder">
        <description id="customization-panelHeader" data-l10n-id="customize-mode-overflow-list-title"></description>
        <description id="customization-panelDescription" data-l10n-id="customize-mode-overflow-list-description"></description>
      </vbox>
      <box class="panel-inner-arrowcontentfooter" hidden="true"/>
    </box>
  </vbox>
</vbox>
</box>
<hbox id="customization-footer">
<checkbox id="customization-titlebar-visibility-checkbox" class="customizationmode-checkbox"
          oncommand="gCustomizeMode.toggleTitlebar(this.checked)" data-l10n-id="customize-mode-titlebar"/>
<checkbox id="customization-extra-drag-space-checkbox" class="customizationmode-checkbox"
          data-l10n-id="customize-mode-extra-drag-space"
          oncommand="gCustomizeMode.toggleDragSpace(this.checked)"/>
<button id="customization-toolbar-visibility-button" class="customizationmode-button" type="menu" data-l10n-id="customize-mode-toolbars">
  <menupopup id="customization-toolbar-menu" onpopupshowing="onViewToolbarsPopupShowing(event)"/>
</button>
<button id="customization-lwtheme-button" data-l10n-id="customize-mode-lwthemes" class="customizationmode-button" type="menu">
  <panel type="arrow" id="customization-lwtheme-menu"
         orient="vertical"
         onpopupshowing="gCustomizeMode.onThemesMenuShowing(event);"
         position="topcenter bottomleft"
         flip="none"
         role="menu">
    <label id="customization-lwtheme-menu-header" data-l10n-id="customize-mode-lwthemes-my-themes"/>
    <hbox id="customization-lwtheme-menu-footer">
      <toolbarbutton class="customization-lwtheme-menu-footeritem"
                     data-l10n-id="customize-mode-lwthemes-menu-manage"
                     tabindex="0"
                     oncommand="gCustomizeMode.openAddonsManagerThemes(event);"/>
      <toolbarbutton class="customization-lwtheme-menu-footeritem"
                     data-l10n-id="customize-mode-lwthemes-menu-get-more"
                     tabindex="0"
                     oncommand="gCustomizeMode.getMoreThemes(event);"/>
    </hbox>
  </panel>
</button>
<button id="customization-uidensity-button"
        data-l10n-id="customize-mode-uidensity"
        class="customizationmode-button"
        type="menu">
  <panel type="arrow" id="customization-uidensity-menu"
         orient="vertical"
         onpopupshowing="gCustomizeMode.onUIDensityMenuShowing();"
         position="topcenter bottomleft"
         flip="none"
         role="menu">
    <menuitem id="customization-uidensity-menuitem-compact"
              class="menuitem-iconic customization-uidensity-menuitem"
              role="menuitemradio"
              data-l10n-id="customize-mode-uidensity-menu-compact"
              tabindex="0"
              onfocus="gCustomizeMode.updateUIDensity(this.mode);"
              onmouseover="gCustomizeMode.updateUIDensity(this.mode);"
              onblur="gCustomizeMode.resetUIDensity();"
              onmouseout="gCustomizeMode.resetUIDensity();"
              oncommand="gCustomizeMode.setUIDensity(this.mode);"/>
    <menuitem id="customization-uidensity-menuitem-normal"
              class="menuitem-iconic customization-uidensity-menuitem"
              role="menuitemradio"
              data-l10n-id="customize-mode-uidensity-menu-normal"
              tabindex="0"
              onfocus="gCustomizeMode.updateUIDensity(this.mode);"
              onmouseover="gCustomizeMode.updateUIDensity(this.mode);"
              onblur="gCustomizeMode.resetUIDensity();"
              onmouseout="gCustomizeMode.resetUIDensity();"
              oncommand="gCustomizeMode.setUIDensity(this.mode);"/>
    <menuitem id="customization-uidensity-menuitem-touch"
              class="menuitem-iconic customization-uidensity-menuitem"
              role="menuitemradio"
              data-l10n-id="customize-mode-uidensity-menu-touch"
              tabindex="0"
              onfocus="gCustomizeMode.updateUIDensity(this.mode);"
              onmouseover="gCustomizeMode.updateUIDensity(this.mode);"
              onblur="gCustomizeMode.resetUIDensity();"
              onmouseout="gCustomizeMode.resetUIDensity();"
              oncommand="gCustomizeMode.setUIDensity(this.mode);">
    </menuitem>
    <spacer hidden="true" id="customization-uidensity-touch-spacer"/>
    <checkbox id="customization-uidensity-autotouchmode-checkbox"
              hidden="true"
              data-l10n-id="customize-mode-uidensity-auto-touch-mode-checkbox"
              oncommand="gCustomizeMode.updateAutoTouchMode(this.checked)"/>
  </panel>
</button>

<button id="whimsy-button"
        type="checkbox"
        class="customizationmode-button"
        oncommand="gCustomizeMode.togglePong(this.checked);"
        hidden="true"/>

<spacer id="customization-footer-spacer"/>
<button id="customization-undo-reset-button"
        class="customizationmode-button"
        hidden="true"
        oncommand="gCustomizeMode.undoReset();"
        data-l10n-id="customize-mode-undo-cmd"/>
<button id="customization-reset-button"
        oncommand="gCustomizeMode.reset();"
        data-l10n-id="customize-mode-restore-defaults"
        class="customizationmode-button"/>
<button id="customization-done-button"
        oncommand="gCustomizeMode.exit();"
        data-l10n-id="customize-mode-done"
        class="customizationmode-button"/>
</hbox>
  ]]></box>

<html:div id="fullscreen-and-pointerlock-wrapper" renderroot="popover">
  <html:div id="fullscreen-warning" class="pointerlockfswarning" hidden="true">
    <html:div class="pointerlockfswarning-domain-text">
      &fullscreenWarning.beforeDomain.label;
      <html:span class="pointerlockfswarning-domain"/>
      &fullscreenWarning.afterDomain.label;
    </html:div>
    <html:div class="pointerlockfswarning-generic-text">
      &fullscreenWarning.generic.label;
    </html:div>
    <html:button id="fullscreen-exit-button"
                 onclick="FullScreen.exitDomFullScreen();">
            &exitDOMFullscreen.button;
    </html:button>
  </html:div>

  <html:div id="pointerlock-warning" class="pointerlockfswarning" hidden="true">
    <html:div class="pointerlockfswarning-domain-text">
      &pointerlockWarning.beforeDomain.label;
      <html:span class="pointerlockfswarning-domain"/>
      &pointerlockWarning.afterDomain.label;
    </html:div>
    <html:div class="pointerlockfswarning-generic-text">
      &pointerlockWarning.generic.label;
    </html:div>
  </html:div>
</html:div>

  <vbox id="browser-bottombox" layer="true" renderroot="content">
    <!-- gNotificationBox will be added here lazily. -->
  </vbox>

  <html:div id="a11y-announcement" role="alert"/>
</html:body>
</html>
